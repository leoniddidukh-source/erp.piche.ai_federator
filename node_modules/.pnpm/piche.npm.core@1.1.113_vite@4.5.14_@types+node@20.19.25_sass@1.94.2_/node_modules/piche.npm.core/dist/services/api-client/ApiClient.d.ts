import type { AxiosResponse } from 'axios';
import type { Emitter } from 'nanoevents';
import type { UserManager } from '../../features/user';
import type { AxiosInstanceWithOperations, Func, IIdentityService, IOperationResponse, OperationResult, Subscriber } from '../../types';
export type ApiClientEmitter = Emitter<{
    'no-pending-create-operation-requests': () => void;
}>;
export declare const requestApiClientAsync: () => Promise<AxiosInstanceWithOperations>;
export declare class ApiClient implements Subscriber {
    getLocale: () => string;
    setLocale: (locale: string) => string;
    getAxiosInstance: () => AxiosInstanceWithOperations | undefined;
    readonly identityService: IIdentityService;
    private instance?;
    private locale;
    private userManager?;
    constructor(identityService: IIdentityService);
    setup(userManager: UserManager): void;
    private cleanupOperations;
    private onRejected;
    subscribe(): void;
}
/***
 * any operation with pich.api
 *
 * usage
 * await doAxiosAsync<{ id: string }>(async s => {
 *   const response = await s.get<{ id: string }>('link');
 *   return response;
 * });
 * @param consumer
 */
declare const doAxiosAsync: <T>(consumer: Func<AxiosInstanceWithOperations, Promise<AxiosResponse<T, any>>>) => Promise<AxiosResponse<T, any>>;
/***
 * async interaction with piche.api for delete, put, post
 * waits for response returns the status
 *
 * usage
 * await doAxiosWithResult(async axios => {
 *   return await axios.put('link', { id: 1 });
 * });
 * @param consumer
 */
declare const doAxiosWithResult: (consumer: Func<AxiosInstanceWithOperations, Promise<AxiosResponse<IOperationResponse>>>) => Promise<OperationResult>;
export { doAxiosAsync, doAxiosWithResult };
