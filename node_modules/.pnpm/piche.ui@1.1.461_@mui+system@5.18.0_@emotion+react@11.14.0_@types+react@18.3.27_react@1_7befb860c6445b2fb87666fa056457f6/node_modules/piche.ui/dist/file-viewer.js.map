{"version":3,"file":"file-viewer.js","sources":["../src/file-viewer-ui/common/types.ts","../src/file-viewer-ui/utils/getAttachmentType.ts","../node_modules/.pnpm/papaparse@5.5.2/node_modules/papaparse/papaparse.min.js","../src/file-viewer-ui/config.ts","../src/file-viewer-ui/file-viewer/hooks/useDragPosition.tsx","../src/file-viewer-ui/file-viewer/viewers/ImageViewer.tsx","../src/file-viewer-ui/file-viewer/viewers/StyledComponents.ts","../src/file-viewer-ui/file-viewer/viewers/CsvViewer.tsx","../node_modules/.pnpm/jszip@3.10.1/node_modules/jszip/dist/jszip.min.js","../node_modules/.pnpm/docx-preview@0.3.5/node_modules/docx-preview/dist/docx-preview.mjs","../src/file-viewer-ui/file-viewer/viewers/DocxViewer.tsx","../node_modules/.pnpm/pdfjs-dist@4.8.69/node_modules/pdfjs-dist/build/pdf.mjs","../node_modules/.pnpm/make-event-props@1.6.2/node_modules/make-event-props/dist/esm/index.js","../node_modules/.pnpm/make-cancellable-promise@1.3.2/node_modules/make-cancellable-promise/dist/esm/index.js","../node_modules/.pnpm/tiny-invariant@1.3.1/node_modules/tiny-invariant/dist/esm/tiny-invariant.js","../node_modules/.pnpm/warning@4.0.3/node_modules/warning/warning.js","../node_modules/.pnpm/dequal@2.0.3/node_modules/dequal/dist/index.mjs","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/DocumentContext.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/Message.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/LinkService.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/PasswordResponses.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/shared/utils.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/shared/hooks/useResolver.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/Document.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/shared/hooks/useDocumentContext.js","../node_modules/.pnpm/merge-refs@1.3.0_@types+react@18.2.7/node_modules/merge-refs/dist/esm/index.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/PageContext.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/shared/constants.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/shared/structTreeUtils.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/StructTreeItem.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/shared/hooks/usePageContext.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/StructTree.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/Page/Canvas.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/Page/TextLayer.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/Page/AnnotationLayer.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/Page.js","../node_modules/.pnpm/react-pdf@9.2.1_@types+react@18.2.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-pdf/dist/esm/index.js","../src/file-viewer-ui/file-viewer/viewers/PDFViewer.tsx","../src/file-viewer-ui/file-viewer/viewers/VideoViewer.tsx","../src/file-viewer-ui/file-viewer/file-preview/AttachmentIcon.tsx","../src/file-viewer-ui/file-viewer/file-preview/StyledComponents.ts","../src/file-viewer-ui/file-viewer/file-preview/ErrorLoadFile.tsx","../src/file-viewer-ui/file-viewer/file-preview/FilePreview.tsx","../src/file-viewer-ui/file-viewer/hooks/useMouseWheel.tsx","../src/file-viewer-ui/file-viewer/hooks/useRotationState.tsx","../src/file-viewer-ui/file-viewer/hooks/useScaleState.tsx","../src/file-viewer-ui/file-viewer/StyledComponents.tsx","../src/file-viewer-ui/file-viewer/toolbars/StyledComponents.ts","../src/file-viewer-ui/file-viewer/toolbars/FileOptionsMenu.tsx","../src/file-viewer-ui/file-viewer/toolbars/FileViewerButton.tsx","../src/file-viewer-ui/file-viewer/toolbars/BottomToolbar.tsx","../src/file-viewer-ui/file-viewer/toolbars/SwitchFileArrows.tsx","../src/file-viewer-ui/file-viewer/toolbars/TopToolbar.tsx","../src/file-viewer-ui/file-viewer/FileViewer.tsx"],"sourcesContent":["import type { PuiIcon } from '../../ui';\n\nexport interface AttachmentItem {\n  id: string;\n  name: string;\n  blob: Blob | null;\n}\n\nexport interface OptionItem {\n  icon?: PuiIcon;\n  label?: string;\n  callback?: (id: string) => void;\n  divider?: boolean;\n  delete?: boolean;\n}\n\nexport type FileViewerOptions = Record<AttachmentType, OptionItem[]>;\n\nexport interface PuiFileViewerProps {\n  isOpened: boolean;\n  showArrows: boolean;\n  activeFile: AttachmentItem;\n  options: FileViewerOptions;\n  onNext?: () => void;\n  onPrev?: () => void;\n  onClose: () => void;\n  isLoading: boolean;\n  isError: boolean;\n}\n\nexport enum AttachmentType {\n  Image = 'image',\n  Pdf = 'pdf',\n  Video = 'video',\n  Doc = 'doc',\n  Csv = 'csv',\n  General = 'general',\n}\n\nexport enum AttachmentIconSize {\n  Small = 'small',\n  Medium = 'medium',\n  Large = 'large',\n}\n","import { AttachmentType } from '../common';\n\nconst EXTENSION_MAP: Record<string, AttachmentType> = {\n  webp: AttachmentType.Image,\n  png: AttachmentType.Image,\n  jpg: AttachmentType.Image,\n  jpeg: AttachmentType.Image,\n  svg: AttachmentType.Image,\n  pdf: AttachmentType.Pdf,\n  mp4: AttachmentType.Video,\n  webm: AttachmentType.Video,\n  ogg: AttachmentType.Video,\n  doc: AttachmentType.Doc,\n  docx: AttachmentType.Doc,\n  csv: AttachmentType.Csv,\n};\n\nexport const getAttachmentType = (fileName: string): AttachmentType => {\n  const extension = fileName.split('.').pop()?.toLowerCase();\n\n  if (extension && extension in EXTENSION_MAP) {\n    return EXTENSION_MAP[extension];\n  }\n\n  return AttachmentType.General;\n};\n","/* @license\nPapa Parse\nv5.5.2\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n((e,t)=>{\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()})(this,function r(){var n=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==n?n:{};var d,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},h=0,v={};function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(t,e){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let e=this._config.newline;e||(r=this._config.quoteChar||'\"',e=this._handle.guessLineEndings(t,r)),t=[...t.split(e).slice(i)].join(e)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&void 0!==(r=this._config.beforeFirstChunk(t))&&(t=r),this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+t,r=(this._partialLine=\"\",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){t=r.meta.cursor,i=(this._finished||(this._partialLine=i.substring(t-this._baseIndex),this._baseIndex=t),r&&r.data&&(this._rowCount+=r.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview);if(a)n.postMessage({results:r,workerId:v.WORKER_ID,finished:i});else if(U(this._config.chunk)&&!e){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=r=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!i||!U(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):a&&this._config.error&&n.postMessage({workerId:v.WORKER_ID,error:e,finished:!1})}}function f(e){var r;(e=e||{}).chunkSize||(e.chunkSize=v.RemoteChunkSize),u.call(this,e),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),s||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!s),this._config.downloadRequestHeaders){var e,t=this._config.downloadRequestHeaders;for(e in t)r.setRequestHeader(e,t[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i));try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}s&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize||r.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader(\"Content-Range\"))?parseInt(e.substring(e.lastIndexOf(\"/\")+1)):-1)(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){e=r.statusText||e;this._sendError(new Error(e))}}function l(e){(e=e||{}).chunkSize||(e.chunkSize=v.LocalChunkSize),u.call(this,e);var i,r,n=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((i=new FileReader).onload=y(this._chunkLoaded,this),i.onerror=y(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,t=(this._config.chunkSize&&(t=Math.min(this._start+this._config.chunkSize,this._input.size),e=r.call(e,this._start,t)),i.readAsText(e,this._config.encoding));n||this._chunkLoaded({target:{result:t}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(i.error)}}function c(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){var e,t;if(!this._finished)return e=this._config.chunkSize,i=e?(t=i.substring(0,e),i.substring(e)):(t=i,\"\"),this._finished=!i,this.parseChunk(t)}}function p(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=y(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var n,s,a,t,o=Math.pow(2,53),h=-o,u=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,d=/^((\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)))$/,i=this,r=0,f=0,l=!1,e=!1,c=[],p={data:[],errors:[],meta:{}};function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){if(p&&a&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+v.DefaultDelimiter+\"'\"),a=!1),m.skipEmptyLines&&(p.data=p.data.filter(function(e){return!y(e)})),_()){if(p)if(Array.isArray(p.data[0])){for(var e=0;_()&&e<p.data.length;e++)p.data[e].forEach(t);p.data.splice(0,1)}else p.data.forEach(t);function t(e,t){U(m.transformHeader)&&(e=m.transformHeader(e,t)),c.push(e)}}function i(e,t){for(var i=m.header?{}:[],r=0;r<e.length;r++){var n=r,s=e[r],s=((e,t)=>(e=>(m.dynamicTypingFunction&&void 0===m.dynamicTyping[e]&&(m.dynamicTyping[e]=m.dynamicTypingFunction(e)),!0===(m.dynamicTyping[e]||m.dynamicTyping)))(e)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&((e=>{if(u.test(e)){e=parseFloat(e);if(h<e&&e<o)return 1}})(t)?parseFloat(t):d.test(t)?new Date(t):\"\"===t?null:t):t)(n=m.header?r>=c.length?\"__parsed_extra\":c[r]:n,s=m.transform?m.transform(s,n):s);\"__parsed_extra\"===n?(i[n]=i[n]||[],i[n].push(s)):i[n]=s}return m.header&&(r>c.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+c.length+\" fields but parsed \"+r,f+t):r<c.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+c.length+\" fields but parsed \"+r,f+t)),i}var r;p&&(m.header||m.dynamicTyping||m.transform)&&(r=1,!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(i),r=p.data.length):p.data=i(p.data,0),m.header&&p.meta&&(p.meta.fields=c),f+=r)}function _(){return m.header&&0===c.length}function k(e,t,i,r){e={type:e,code:t,message:i};void 0!==r&&(e.row=r),p.errors.push(e)}U(m.step)&&(t=m.step,m.step=function(e){p=e,_()?g():(g(),0!==p.data.length&&(r+=e.data.length,m.preview&&r>m.preview?s.abort():(p.data=p.data[0],t(p,i))))}),this.parse=function(e,t,i){var r=m.quoteChar||'\"',r=(m.newline||(m.newline=this.guessLineEndings(e,r)),a=!1,m.delimiter?U(m.delimiter)&&(m.delimiter=m.delimiter(e),p.meta.delimiter=m.delimiter):((r=((e,t,i,r,n)=>{var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",v.RECORD_SEP,v.UNIT_SEP];for(var u=0;u<n.length;u++){for(var d,f=n[u],l=0,c=0,p=0,g=(o=void 0,new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e)),_=0;_<g.data.length;_++)i&&y(g.data[_])?p++:(d=g.data[_].length,c+=d,void 0===o?o=d:0<d&&(l+=Math.abs(d-o),o=d));0<g.data.length&&(c/=g.data.length-p),(void 0===a||l<=a)&&(void 0===h||h<c)&&1.99<c&&(a=l,s=f,h=c)}return{successful:!!(m.delimiter=s),bestDelimiter:s}})(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess)).successful?m.delimiter=r.bestDelimiter:(a=!0,m.delimiter=v.DefaultDelimiter),p.meta.delimiter=m.delimiter),w(m));return m.preview&&m.header&&r.preview++,n=e,s=new E(r),p=s.parse(n,t,i),g(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,s.abort(),n=U(m.chunk)?\"\":n.substring(s.getCharIndex())},this.resume=function(){i.streamer._halted?(l=!1,i.streamer.parseChunk(n,!0)):setTimeout(i.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,s.abort(),p.meta.aborted=!0,U(m.complete)&&m.complete(p),n=\"\"},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);var t=new RegExp(P(t)+\"([^]*?)\"+P(t),\"gm\"),i=(e=e.replace(t,\"\")).split(\"\\r\"),t=e.split(\"\\n\"),e=1<t.length&&t[0].length<i[0].length;if(1===i.length||e)return\"\\n\";for(var r=0,n=0;n<i.length;n++)\"\\n\"===i[n][0]&&r++;return r>=i.length/2?\"\\r\\n\":\"\\r\"}}function P(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(C){var S=(C=C||{}).delimiter,O=C.newline,x=C.comments,I=C.step,A=C.preview,T=C.fastMode,D=null,L=!1,F=null==C.quoteChar?'\"':C.quoteChar,j=F;if(void 0!==C.escapeChar&&(j=C.escapeChar),(\"string\"!=typeof S||-1<v.BAD_DELIMITERS.indexOf(S))&&(S=\",\"),x===S)throw new Error(\"Comment character same as delimiter\");!0===x?x=\"#\":(\"string\"!=typeof x||-1<v.BAD_DELIMITERS.indexOf(x))&&(x=!1),\"\\n\"!==O&&\"\\r\"!==O&&\"\\r\\n\"!==O&&(O=\"\\n\");var z=0,M=!1;this.parse=function(i,t,r){if(\"string\"!=typeof i)throw new Error(\"Input must be a string\");var n=i.length,e=S.length,s=O.length,a=x.length,o=U(I),h=[],u=[],d=[],f=z=0;if(!i)return b();if(T||!1!==T&&-1===i.indexOf(F)){for(var l=i.split(O),c=0;c<l.length;c++){if(d=l[c],z+=d.length,c!==l.length-1)z+=O.length;else if(r)return b();if(!x||d.substring(0,a)!==x){if(o){if(h=[],k(d.split(S)),R(),M)return b()}else k(d.split(S));if(A&&A<=c)return h=h.slice(0,A),b(!0)}}return b()}for(var p=i.indexOf(S,z),g=i.indexOf(O,z),_=new RegExp(P(j)+P(F),\"g\"),m=i.indexOf(F,z);;)if(i[z]===F)for(m=z,z++;;){if(-1===(m=i.indexOf(F,m+1)))return r||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:z}),E();if(m===n-1)return E(i.substring(z,m).replace(_,F));if(F===j&&i[m+1]===j)m++;else if(F===j||0===m||i[m-1]!==j){-1!==p&&p<m+1&&(p=i.indexOf(S,m+1));var y=v(-1===(g=-1!==g&&g<m+1?i.indexOf(O,m+1):g)?p:Math.min(p,g));if(i.substr(m+1+y,e)===S){d.push(i.substring(z,m).replace(_,F)),i[z=m+1+y+e]!==F&&(m=i.indexOf(F,z)),p=i.indexOf(S,z),g=i.indexOf(O,z);break}y=v(g);if(i.substring(m+1+y,m+1+y+s)===O){if(d.push(i.substring(z,m).replace(_,F)),w(m+1+y+s),p=i.indexOf(S,z),m=i.indexOf(F,z),o&&(R(),M))return b();if(A&&h.length>=A)return b(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:z}),m++}}else if(x&&0===d.length&&i.substring(z,z+a)===x){if(-1===g)return b();z=g+s,g=i.indexOf(O,z),p=i.indexOf(S,z)}else if(-1!==p&&(p<g||-1===g))d.push(i.substring(z,p)),z=p+e,p=i.indexOf(S,z);else{if(-1===g)break;if(d.push(i.substring(z,g)),w(g+s),o&&(R(),M))return b();if(A&&h.length>=A)return b(!0)}return E();function k(e){h.push(e),f=z}function v(e){var t=0;return t=-1!==e&&(e=i.substring(m+1,e))&&\"\"===e.trim()?e.length:t}function E(e){return r||(void 0===e&&(e=i.substring(z)),d.push(e),z=n,k(d),o&&R()),b()}function w(e){z=e,k(d),d=[],g=i.indexOf(O,z)}function b(e){if(C.header&&!t&&h.length&&!L){var s=h[0],a={},o=new Set(s);let n=!1;for(let r=0;r<s.length;r++){let i=s[r];if(a[i=U(C.transformHeader)?C.transformHeader(i,r):i]){let e,t=a[i];for(;e=i+\"_\"+t,t++,o.has(e););o.add(e),s[r]=e,a[i]++,n=!0,(D=null===D?{}:D)[e]=i}else a[i]=1,s[r]=i;o.add(i)}n&&console.warn(\"Duplicate headers found and renamed.\"),L=!0}return{data:h,errors:u,meta:{delimiter:S,linebreak:O,aborted:M,truncated:!!e,cursor:f+(t||0),renamedHeaders:D}}}function R(){I(b()),h=[],u=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return z}}function g(e){var t=e.data,i=o[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var i=o[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete o[e]}function m(){throw new Error(\"Not implemented.\")}function w(e){if(\"object\"!=typeof e||null===e)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=w(e[t]);return i}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return\"function\"==typeof e}return v.parse=function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,!t.worker||!v.WORKERS_SUPPORTED)return i=null,v.NODE_STREAM_INPUT,\"string\"==typeof e?(e=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(e),i=new(t.download?f:c)(t)):!0===e.readable&&U(e.read)&&U(e.on)?i=new p(t):(n.File&&e instanceof File||e instanceof Object)&&(i=new l(t)),i.stream(e);(i=(()=>{var e;return!!v.WORKERS_SUPPORTED&&(e=(()=>{var e=n.URL||n.webkitURL||null,t=r.toString();return v.BLOB_URL||(v.BLOB_URL=e.createObjectURL(new Blob([\"var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; \",\"(\",t,\")();\"],{type:\"text/javascript\"})))})(),(e=new n.Worker(e)).onmessage=g,e.id=h++,o[e.id]=e)})()).userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id})},v.unparse=function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1,h=((()=>{if(\"object\"==typeof t){if(\"string\"!=typeof t.delimiter||v.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter),\"boolean\"!=typeof t.quotes&&\"function\"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines),\"string\"==typeof t.newline&&(y=t.newline),\"string\"==typeof t.quoteChar&&(s=t.quoteChar),\"boolean\"==typeof t.header&&(_=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s),t.escapeFormulae instanceof RegExp?o=t.escapeFormulae:\"boolean\"==typeof t.escapeFormulae&&t.escapeFormulae&&(o=/^[=+\\-@\\t\\r].*$/)}})(),new RegExp(P(s),\"g\"));\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\",n=(\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=k(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=(n?e:t[o]).length,u=!1,d=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var f=[],l=0;l<h;l++){var c=s?e[l]:l;f.push(t[o][c])}u=\"\"===f.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!d&&(r+=m);var g=n&&s?e[p]:p;r+=k(t[o][g],p)}o<t.length-1&&(!i||0<h&&!d)&&(r+=y)}}return r}function k(e,t){var i,r;return null==e?\"\":e.constructor===Date?JSON.stringify(e).slice(1,25):(r=!1,o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,r=!0),i=e.toString().replace(h,a),(r=r||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1})(i,v.BAD_DELIMITERS)||-1<i.indexOf(m)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1))?s+i+s:i)}},v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK=\"\\ufeff\",v.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!s&&!!n.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=\",\",v.Parser=E,v.ParserHandle=i,v.NetworkStreamer=f,v.FileStreamer=l,v.StringStreamer=c,v.ReadableStreamStreamer=p,n.jQuery&&((d=n.jQuery).fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&n.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0===h.length)U(o.complete)&&o.complete();else{var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},v.parse(n.file,n.instanceConfig)}}function u(){h.splice(0,1),e()}}),a&&(n.onmessage=function(e){e=e.data;void 0===v.WORKER_ID&&e&&(v.WORKER_ID=e.workerId);\"string\"==typeof e.input?n.postMessage({workerId:v.WORKER_ID,results:v.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=v.parse(e.input,e.config))&&n.postMessage({workerId:v.WORKER_ID,results:e,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(c.prototype)).constructor=c,(p.prototype=Object.create(u.prototype)).constructor=p,v});","export const DEGREES_IN_HALF_CIRCLE = 180;\r\n","import { useEffect, useRef, useState } from 'react';\n\nexport const useDragPosition = (scale: number) => {\n  const overlayRef = useRef<HTMLDivElement>(null);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  const [isMoving, setIsMoving] = useState(false);\n\n  useEffect(() => {\n    if (scale === 1) {\n      setPosition({\n        x: 0,\n        y: 0,\n      });\n    }\n  }, [scale]);\n\n  useEffect(() => {\n    const overlayEl = overlayRef.current;\n    if (!overlayEl) {\n      return;\n    }\n\n    const handleMouseDown = () => {\n      setIsMoving(true);\n    };\n\n    const handleMouseUp = () => {\n      setIsMoving(false);\n    };\n\n    const handleMouseMove = (e: MouseEvent) => {\n      if (!isMoving) {\n        return;\n      }\n\n      setPosition(prev => ({\n        x: prev.x + e.movementX / scale,\n        y: prev.y + e.movementY / scale,\n      }));\n    };\n\n    const handleTouchStart = () => {\n      setIsMoving(true);\n    };\n\n    let lastTouch: Touch | null = null;\n\n    const handleTouchMove = (e: TouchEvent) => {\n      if (!isMoving || e.touches.length !== 1) return;\n\n      const touch = e.touches[0];\n\n      if (lastTouch) {\n        const deltaX = touch.clientX - lastTouch.clientX;\n        const deltaY = touch.clientY - lastTouch.clientY;\n\n        setPosition(prev => ({\n          x: prev.x + deltaX / scale,\n          y: prev.y + deltaY / scale,\n        }));\n      }\n\n      lastTouch = touch;\n    };\n\n    const handleTouchEnd = () => {\n      setIsMoving(false);\n      lastTouch = null;\n    };\n\n    const controller = new AbortController();\n    const { signal } = controller;\n\n    overlayEl.addEventListener('mousemove', handleMouseMove, { signal });\n    overlayEl.addEventListener('mousedown', handleMouseDown, { signal });\n    overlayEl.addEventListener('mouseup', handleMouseUp, { signal });\n\n    overlayEl.addEventListener('touchstart', handleTouchStart, { passive: false, signal });\n    overlayEl.addEventListener('touchmove', handleTouchMove, { passive: false, signal });\n    overlayEl.addEventListener('touchend', handleTouchEnd, { signal });\n\n    return () => {\n      controller.abort();\n    };\n  }, [isMoving, scale]);\n\n  return {\n    overlayRef,\n    position,\n    setPosition,\n    isMoving,\n    setIsMoving,\n  };\n};\n","import clsx from 'clsx';\nimport { type FC, forwardRef } from 'react';\n\nimport { DEGREES_IN_HALF_CIRCLE } from '../../config';\nimport type { ViewerProps } from '../file-preview';\nimport { useDragPosition } from '../hooks/useDragPosition';\nimport type { ImageMoveOverlayProps } from './StyledComponents';\nimport { ImageMoveOverlay, ImageStyled, ImageWrapper } from './StyledComponents';\n\nexport const ImageViewer: FC<ViewerProps> = ({ blob, rotate, scale }) => {\n  const { overlayRef, position, isMoving } = useDragPosition(scale);\n\n  return (\n    <ImageWrapper>\n      <ImageStyled\n        isMoving={isMoving}\n        onDragStart={() => false}\n        draggable={false}\n        alt='viewer'\n        src={URL.createObjectURL(blob)}\n        style={{ transform: `rotate(${rotate}deg) scale(${scale}) translate(${position.x}px, ${position.y}px)` }}\n        className={clsx({ rotated: rotate % DEGREES_IN_HALF_CIRCLE !== 0 })}\n      />\n      <ImageMoveOverlay\n        draggable={false}\n        ref={overlayRef}\n        isMoving={isMoving}\n      />\n    </ImageWrapper>\n  );\n};\n\nexport const BaseImageMoveOverlay = forwardRef<HTMLDivElement, ImageMoveOverlayProps>(({ ...rest }, ref) => (\n  <div\n    ref={ref}\n    {...rest}\n  />\n));\n","import type { StyledComponent } from '@emotion/styled';\nimport styled from '@emotion/styled';\nimport type { BoxProps, TableContainerProps } from '@mui/material';\nimport type React from 'react';\n\nimport { PuiBox, PuiStyled, PuiTableContainer } from '../../../ui';\nimport { BaseImageMoveOverlay } from './ImageViewer';\n\nexport const ImageWrapper: StyledComponent<BoxProps> = PuiStyled(PuiBox)(() => ({\n  width: '100vw',\n  height: '100vh',\n  display: 'flex',\n  overflow: 'hidden',\n  alignItems: 'center',\n  justifyContent: 'center',\n}));\n\ninterface ImageWrapperProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n  isMoving: boolean;\n}\n\nexport const ImageStyled: StyledComponent<ImageWrapperProps> = PuiStyled('img')<ImageWrapperProps>(({ isMoving }) => ({\n  width: 'auto',\n  height: 'auto',\n  maxWidth: '100vw',\n  maxHeight: '100vh',\n  objectFit: 'contain',\n  transformOrigin: 'center',\n  transition: isMoving ? '' : 'transform 0.3s ease, max-width 0.3s ease, max-height 0.3s ease',\n  '&.rotated': { maxWidth: '100vh', maxHeight: '100vw' },\n}));\n\ninterface WrapperProps extends BoxProps {\n  loaded: boolean;\n}\n\nexport const PDFWrapper: StyledComponent<WrapperProps> = PuiStyled(PuiBox)<WrapperProps>(({ loaded }) => ({\n  height: 'calc(100vh - 70px)',\n  overflow: 'scroll',\n  msOverflowStyle: 'none',\n  display: loaded ? 'flex' : 'none',\n  alignItems: 'center',\n  zIndex: 1,\n  '&.multi-page': {\n    alignItems: 'start',\n  },\n}));\n\nexport const PDFPageWrapper: StyledComponent<BoxProps> = PuiStyled(PuiBox)(() => ({\n  '&.multi-page': {\n    marginBottom: '16px',\n  },\n}));\n\nexport const VideoWrapper: StyledComponent<BoxProps> = PuiStyled(PuiBox)(() => ({\n  width: '100vw',\n  height: '100vh',\n  display: 'flex',\n  overflow: 'hidden',\n  alignItems: 'center',\n  justifyContent: 'center',\n}));\n\nexport const DocWrapper: StyledComponent<BoxProps> = PuiStyled(PuiBox)(() => ({\n  width: '100vw',\n  height: '100vh',\n  display: 'flex',\n  overflow: 'hidden',\n  justifyContent: 'center',\n  alignItems: 'center',\n}));\n\nexport const DocContainer: StyledComponent<WrapperProps> = PuiStyled(PuiBox)<WrapperProps>(({ loaded }) => ({\n  height: 'calc(100vh - 70px)',\n  overflowY: 'scroll',\n  overflowX: 'auto',\n  msOverflowStyle: 'none',\n  background: '#fff',\n  display: loaded ? 'block' : 'none',\n}));\n\nexport const StyledTableContainer: StyledComponent<TableContainerProps> = PuiStyled(PuiTableContainer)(() => ({\n  margin: '68px 76px 70px',\n}));\n\nexport interface ImageMoveOverlayProps extends React.HTMLAttributes<HTMLDivElement> {\n  isMoving: boolean;\n}\n\nexport const ImageMoveOverlay: StyledComponent<ImageMoveOverlayProps & React.RefAttributes<HTMLDivElement>> = styled(\n  BaseImageMoveOverlay,\n  {\n    shouldForwardProp: prop => prop !== 'isMoving',\n  }\n)<ImageMoveOverlayProps>(({ isMoving }) => ({\n  position: 'fixed',\n  top: '0',\n  left: '0',\n  height: '100vh',\n  width: '100vw',\n  zIndex: isMoving ? 10 : 1,\n  cursor: isMoving ? 'move' : '',\n}));\n","import { Paper } from '@mui/material';\nimport Papa from 'papaparse';\nimport { guid } from 'piche.npm.core';\nimport { type FC, useEffect, useState } from 'react';\n\nimport { PuiCircularProgress, PuiTable, PuiTableBody, PuiTableCell, PuiTableHead, PuiTableRow } from '../../../ui';\nimport type { ViewerProps } from '../file-preview';\nimport { DocWrapper, StyledTableContainer } from './StyledComponents';\n\ninterface RowWithIds {\n  id: string;\n  cells: { id: string; value: string }[];\n}\n\nconst parseCsvWithIds = (text: string): RowWithIds[] => {\n  const result = Papa.parse<string[]>(text, { skipEmptyLines: true });\n\n  return result.data.map(row => ({\n    id: guid(),\n    cells: row.map(cell => ({\n      id: guid(),\n      value: cell,\n    })),\n  }));\n};\n\nexport const CsvViewer: FC<ViewerProps> = ({ blob }) => {\n  const [rows, setRows] = useState<RowWithIds[]>([]);\n  const headers = rows[0]?.cells;\n  const dataRows = rows.slice(1);\n\n  useEffect(() => {\n    const parseBlob = async () => {\n      const text = await blob.text();\n      const parsedRows = parseCsvWithIds(text);\n      setRows(parsedRows);\n    };\n\n    parseBlob();\n  }, [blob]);\n\n  if (rows.length === 0) {\n    return <PuiCircularProgress size={128} />;\n  }\n\n  return (\n    <DocWrapper>\n      <StyledTableContainer component={Paper}>\n        <PuiTable\n          size='small'\n          stickyHeader\n        >\n          <PuiTableHead>\n            <PuiTableRow>\n              {headers.map(cell => (\n                <PuiTableCell key={cell.id}>{cell.value}</PuiTableCell>\n              ))}\n            </PuiTableRow>\n          </PuiTableHead>\n          <PuiTableBody>\n            {dataRows.map(row => (\n              <PuiTableRow\n                key={row.id}\n                hover\n              >\n                {row.cells.map(cell => (\n                  <PuiTableCell key={cell.id}>{cell.value}</PuiTableCell>\n                ))}\n              </PuiTableRow>\n            ))}\n          </PuiTableBody>\n        </PuiTable>\n      </StyledTableContainer>\n    </DocWrapper>\n  );\n};\n","/*!\n\nJSZip v3.10.1 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/main/LICENSE\n*/\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).JSZip=e()}}(function(){return function s(a,o,h){function u(r,e){if(!o[r]){if(!a[r]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error(\"Cannot find module '\"+r+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}var i=o[r]={exports:{}};a[r][0].call(i.exports,function(e){var t=a[r][1][e];return u(t||e)},i,i.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,e=0;e<h.length;e++)u(h[e]);return u}({1:[function(e,t,r){\"use strict\";var d=e(\"./utils\"),c=e(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(e){for(var t,r,n,i,s,a,o,h=[],u=0,l=e.length,f=l,c=\"string\"!==d.getTypeOf(e);u<e.length;)f=l-u,n=c?(t=e[u++],r=u<l?e[u++]:0,u<l?e[u++]:0):(t=e.charCodeAt(u++),r=u<l?e.charCodeAt(u++):0,u<l?e.charCodeAt(u++):0),i=t>>2,s=(3&t)<<4|r>>4,a=1<f?(15&r)<<2|n>>6:64,o=2<f?63&n:64,h.push(p.charAt(i)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(e){var t,r,n,i,s,a,o=0,h=0,u=\"data:\";if(e.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,\"\")).length/4;if(e.charAt(e.length-1)===p.charAt(64)&&f--,e.charAt(e.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=c.uint8array?new Uint8Array(0|f):new Array(0|f);o<e.length;)t=p.indexOf(e.charAt(o++))<<2|(i=p.indexOf(e.charAt(o++)))>>4,r=(15&i)<<4|(s=p.indexOf(e.charAt(o++)))>>2,n=(3&s)<<6|(a=p.indexOf(e.charAt(o++))),l[h++]=t,64!==s&&(l[h++]=r),64!==a&&(l[h++]=n);return l}},{\"./support\":30,\"./utils\":32}],2:[function(e,t,r){\"use strict\";var n=e(\"./external\"),i=e(\"./stream/DataWorker\"),s=e(\"./stream/Crc32Probe\"),a=e(\"./stream/DataLengthProbe\");function o(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a(\"data_length\")),t=this;return e.on(\"end\",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a(\"uncompressedSize\")).pipe(t.compressWorker(r)).pipe(new a(\"compressedSize\")).withStreamInfo(\"compression\",t)},t.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(e,t,r){\"use strict\";var n=e(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(){return new n(\"STORE compression\")},uncompressWorker:function(){return new n(\"STORE decompression\")}},r.DEFLATE=e(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(e,t,r){\"use strict\";var n=e(\"./utils\");var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?\"string\"!==n.getTypeOf(e)?function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{\"./utils\":32}],5:[function(e,t,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){\"use strict\";var n=null;n=\"undefined\"!=typeof Promise?Promise:e(\"lie\"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,i=e(\"pako\"),s=e(\"./utils\"),a=e(\"./stream/GenericWorker\"),o=n?\"uint8array\":\"array\";function h(e,t){a.call(this,\"FlateWorker/\"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(e){return new h(\"Deflate\",e)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(e,t,r){\"use strict\";function A(e,t){var r,n=\"\";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function n(e,t,r,n,i,s){var a,o,h=e.file,u=e.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),c=I.transformTo(\"string\",O.utf8encode(h.name)),d=h.comment,p=I.transformTo(\"string\",s(d)),m=I.transformTo(\"string\",O.utf8encode(d)),_=c.length!==h.name.length,g=m.length!==d.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===i?(C=798,z|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(e){return 63&(e||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+c,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(n,4)+f+b+p}}var I=e(\"../utils\"),i=e(\"../stream/GenericWorker\"),O=e(\"../utf8\"),B=e(\"../crc32\"),R=e(\"../signature\");function s(e,t,r,n){i.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,i),s.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},s.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=n(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return R.DATA_DESCRIPTOR+A(e.crc32,4)+A(e.compressedSize,4)+A(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,i){var s=I.transformTo(\"string\",i(n));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(e,2)+A(e,2)+A(t,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on(\"error\",function(e){t.error(e)}),this},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},s.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(e,t,r){\"use strict\";var u=e(\"../compressions\"),n=e(\"./ZipFileWorker\");r.generateWorker=function(e,a,t){var o=new n(a.streamFiles,t,a.platform,a.encodeFileName),h=0;try{e.forEach(function(e,t){h++;var r=function(e,t){var r=e||t,n=u[r];if(!n)throw new Error(r+\" is not a valid compression method !\");return n}(t.options.compression,a.compression),n=t.options.compressionOptions||a.compressionOptions||{},i=t.dir,s=t.date;t._compressWorker(r,n).withStreamInfo(\"file\",{name:e,dir:i,date:s,comment:t.comment||\"\",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(e){o.error(e)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(e,t,r){\"use strict\";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var e=new n;for(var t in this)\"function\"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e(\"./object\")).loadAsync=e(\"./load\"),n.support=e(\"./support\"),n.defaults=e(\"./defaults\"),n.version=\"3.10.1\",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e(\"./external\"),t.exports=n},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(e,t,r){\"use strict\";var u=e(\"./utils\"),i=e(\"./external\"),n=e(\"./utf8\"),s=e(\"./zipEntries\"),a=e(\"./stream/Crc32Probe\"),l=e(\"./nodejsUtils\");function f(n){return new i.Promise(function(e,t){var r=n.decompressed.getContentWorker().pipe(new a);r.on(\"error\",function(e){t(e)}).on(\"end\",function(){r.streamInfo.crc32!==n.decompressed.crc32?t(new Error(\"Corrupted zip : CRC32 mismatch\")):e()}).resume()})}t.exports=function(e,o){var h=this;return o=u.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):u.prepareContent(\"the loaded zip file\",e,!0,o.optimizedBinaryString,o.base64).then(function(e){var t=new s(o);return t.load(e),t}).then(function(e){var t=[i.Promise.resolve(e)],r=e.files;if(o.checkCRC32)for(var n=0;n<r.length;n++)t.push(f(r[n]));return i.Promise.all(t)}).then(function(e){for(var t=e.shift(),r=t.files,n=0;n<r.length;n++){var i=r[n],s=i.fileNameStr,a=u.resolve(i.fileNameStr);h.file(a,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders}),i.dir||(h.file(a).unsafeOriginalName=s)}return t.zipComment.length&&(h.comment=t.zipComment),h})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../stream/GenericWorker\");function s(e,t){i.call(this,\"Nodejs stream input adapter for \"+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on(\"data\",function(e){t.push({data:e,meta:{percent:0}})}).on(\"error\",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(\"end\",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(e,t,r){\"use strict\";var i=e(\"readable-stream\").Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on(\"data\",function(e,t){n.push(e)||n._helper.pause(),r&&r(t)}).on(\"error\",function(e){n.emit(\"error\",e)}).on(\"end\",function(){n.push(null)})}e(\"../utils\").inherits(n,i),n.prototype._read=function(){this._helper.resume()},t.exports=n},{\"../utils\":32,\"readable-stream\":16}],14:[function(e,t,r){\"use strict\";t.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(\"number\"==typeof e)throw new Error('The \"data\" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&\"function\"==typeof e.on&&\"function\"==typeof e.pause&&\"function\"==typeof e.resume}}},{}],15:[function(e,t,r){\"use strict\";function s(e,t,r){var n,i=u.getTypeOf(t),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(n=_(e))&&b.call(this,n,!0);var a=\"string\"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t=\"\",s.compression=\"STORE\",i=\"string\");var o=null;o=t instanceof c||t instanceof l?t:p.isNode&&p.isStream(t)?new m(e,t):u.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var h=new d(e,o,s);this.files[e]=h}var i=e(\"./utf8\"),u=e(\"./utils\"),l=e(\"./stream/GenericWorker\"),a=e(\"./stream/StreamHelper\"),f=e(\"./defaults\"),c=e(\"./compressedObject\"),d=e(\"./zipObject\"),o=e(\"./generate\"),p=e(\"./nodejsUtils\"),m=e(\"./nodejs/NodejsStreamInputAdapter\"),_=function(e){\"/\"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(\"/\");return 0<t?e.substring(0,t):\"\"},g=function(e){return\"/\"!==e.slice(-1)&&(e+=\"/\"),e},b=function(e,t){return t=void 0!==t?t:f.createFolders,e=g(e),this.files[e]||s.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function h(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)}var n={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(r){var n=[];return this.forEach(function(e,t){r(e,t)&&n.push(t)}),n},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,s.call(this,e,t,r),this;if(h(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(e,t){return t.dir&&r.test(e)});var e=this.root+r,t=b.call(this,e),n=this.clone();return n.root=t.name,n},remove:function(r){r=this.root+r;var e=this.files[r];if(e||(\"/\"!==r.slice(-1)&&(r+=\"/\"),e=this.files[r]),e&&!e.dir)delete this.files[r];else for(var t=this.filter(function(e,t){return t.name.slice(0,r.length)===r}),n=0;n<t.length;n++)delete this.files[t[n].name];return this},generate:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(e){var t,r={};try{if((r=u.extend(e||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var n=r.comment||this.comment||\"\";t=o.generateWorker(this,r,n)}catch(e){(t=new l(\"error\")).error(e)}return new a(t,r.type||\"string\",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type=\"nodebuffer\"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=n},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(e,t,r){\"use strict\";t.exports=e(\"stream\")},{stream:void 0}],17:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&n===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],18:[function(e,t,r){\"use strict\";var n=e(\"../utils\");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+e+\"). Corrupted zip ?\")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo(\"string\",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{\"../utils\":32}],19:[function(e,t,r){\"use strict\";var n=e(\"./Uint8ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],21:[function(e,t,r){\"use strict\";var n=e(\"./ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../support\"),s=e(\"./ArrayReader\"),a=e(\"./StringReader\"),o=e(\"./NodeBufferReader\"),h=e(\"./Uint8ArrayReader\");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),\"string\"!==t||i.uint8array?\"nodebuffer\"===t?new o(e):i.uint8array?new h(n.transformTo(\"uint8array\",e)):new s(n.transformTo(\"array\",e)):new a(e)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(e,t,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../utils\");function s(e){n.call(this,\"ConvertWorker to \"+e),this.destType=e}i.inherits(s,n),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../crc32\");function s(){n.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}e(\"../utils\").inherits(s,n),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataLengthProbe for \"+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataWorker\");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":e=this.data.substring(this.index,t);break;case\"uint8array\":e=this.data.subarray(this.index,t);break;case\"array\":case\"nodebuffer\":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(e,t,r){\"use strict\";function n(e){this.name=e||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit(\"data\",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.end()}),e.on(\"error\",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+e:e}},t.exports=n},{}],29:[function(e,t,r){\"use strict\";var h=e(\"../utils\"),i=e(\"./ConvertWorker\"),s=e(\"./GenericWorker\"),u=e(\"../base64\"),n=e(\"../support\"),a=e(\"../external\"),o=null;if(n.nodestream)try{o=e(\"../nodejs/NodejsStreamOutputAdapter\")}catch(e){}function l(e,o){return new a.Promise(function(t,r){var n=[],i=e._internalType,s=e._outputType,a=e._mimeType;e.on(\"data\",function(e,t){n.push(e),o&&o(t)}).on(\"error\",function(e){n=[],r(e)}).on(\"end\",function(){try{var e=function(e,t,r){switch(e){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",t),r);case\"base64\":return u.encode(t);default:return h.transformTo(e,t)}}(s,function(e,t){var r,n=0,i=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case\"string\":return t.join(\"\");case\"array\":return Array.prototype.concat.apply([],t);case\"uint8array\":for(i=new Uint8Array(s),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case\"nodebuffer\":return Buffer.concat(t);default:throw new Error(\"concat : unsupported type '\"+e+\"'\")}}(i,n),a);t(e)}catch(e){r(e)}n=[]}).resume()})}function f(e,t,r){var n=t;switch(t){case\"blob\":case\"arraybuffer\":n=\"uint8array\";break;case\"base64\":n=\"string\"}try{this._internalType=n,this._outputType=t,this._mimeType=r,h.checkSupport(n),this._worker=e.pipe(new i(n)),e.lock()}catch(e){this._worker=new s(\"error\"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var r=this;return\"data\"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){h.delay(t,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},e)}},t.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(e,t,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:\"application/zip\"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob(\"application/zip\").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e(\"readable-stream\").Readable}catch(e){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(e,t,s){\"use strict\";for(var o=e(\"./utils\"),h=e(\"./support\"),r=e(\"./nodejsUtils\"),n=e(\"./stream/GenericWorker\"),u=new Array(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1;function a(){n.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){n.call(this,\"utf-8 encode\")}s.utf8encode=function(e){return h.nodebuffer?r.newBufferFrom(e,\"utf-8\"):function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=h.uint8array?new Uint8Array(o):new Array(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t}(e)},s.utf8decode=function(e){return h.nodebuffer?o.transformTo(\"nodebuffer\",e).toString(\"utf-8\"):function(e){var t,r,n,i,s=e.length,a=new Array(2*s);for(t=r=0;t<s;)if((n=e[t++])<128)a[r++]=n;else if(4<(i=u[n]))a[r++]=65533,t+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&t<s;)n=n<<6|63&e[t++],i--;1<i?a[r++]=65533:n<65536?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(e=o.transformTo(h.uint8array?\"uint8array\":\"array\",e))},o.inherits(a,n),a.prototype.processChunk=function(e){var t=o.transformTo(h.uint8array?\"uint8array\":\"array\",e.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}(t),i=t;n!==t.length&&(h.uint8array?(i=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(i=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:s.utf8decode(i),meta:e.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,n),l.prototype.processChunk=function(e){this.push({data:s.utf8encode(e.data),meta:e.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(e,t,a){\"use strict\";var o=e(\"./support\"),h=e(\"./base64\"),r=e(\"./nodejsUtils\"),u=e(\"./external\");function n(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e(\"setimmediate\"),a.newBlob=function(t,r){a.checkSupport(\"blob\");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var i={stringifyByChunk:function(e,t,r){var n=[],i=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;i<s;)\"array\"===t||\"nodebuffer\"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,s)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,s)))),i+=r;return n.join(\"\")},stringifyByChar:function(e){for(var t=\"\",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}};function s(e){var t=65536,r=a.getTypeOf(e),n=!0;if(\"uint8array\"===r?n=i.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(n=i.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return i.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return i.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.applyFromCharCode=s;var c={};c.string={string:n,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,r.allocBuffer(e.length))}},c.array={string:s,array:n,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},c.arraybuffer={string:function(e){return s(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:n,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},c.uint8array={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:n,nodebuffer:function(e){return r.newBufferFrom(e)}},c.nodebuffer={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:n},a.transformTo=function(e,t){if(t=t||\"\",!e)return t;a.checkSupport(e);var r=a.getTypeOf(t);return c[r][e](t)},a.resolve=function(e){for(var t=e.split(\"/\"),r=[],n=0;n<t.length;n++){var i=t[n];\".\"===i||\"\"===i&&0!==n&&n!==t.length-1||(\"..\"===i?r.pop():r.push(i))}return r.join(\"/\")},a.getTypeOf=function(e){return\"string\"==typeof e?\"string\":\"[object Array]\"===Object.prototype.toString.call(e)?\"array\":o.nodebuffer&&r.isBuffer(e)?\"nodebuffer\":o.uint8array&&e instanceof Uint8Array?\"uint8array\":o.arraybuffer&&e instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){var t,r,n=\"\";for(r=0;r<(e||\"\").length;r++)n+=\"\\\\x\"+((t=e.charCodeAt(r))<16?\"0\":\"\")+t.toString(16).toUpperCase();return n},a.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})},a.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},a.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},a.prepareContent=function(r,e,n,i,s){return u.Promise.resolve(e).then(function(n){return o.blob&&(n instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(n)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(t,r){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){r(e.target.error)},e.readAsArrayBuffer(n)}):n}).then(function(e){var t=a.getTypeOf(e);return t?(\"arraybuffer\"===t?e=a.transformTo(\"uint8array\",e):\"string\"===t&&(s?e=h.decode(e):n&&!0!==i&&(e=function(e){return l(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(e))),e):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,setimmediate:54}],33:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),i=e(\"./utils\"),s=e(\"./signature\"),a=e(\"./zipEntry\"),o=e(\"./support\");function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+i.pretty(t)+\", expected \"+i.pretty(e)+\")\")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?\"uint8array\":\"array\",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(n)+\" bytes.\")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utils\":32,\"./zipEntry\":34}],34:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),s=e(\"./utils\"),i=e(\"./compressedObject\"),a=e(\"./crc32\"),o=e(\"./utf8\"),h=e(\"./compressions\"),u=e(\"./support\");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(t=function(e){for(var t in h)if(Object.prototype.hasOwnProperty.call(h,t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(e,t,r){\"use strict\";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=e(\"./stream/StreamHelper\"),i=e(\"./stream/DataWorker\"),a=e(\"./utf8\"),o=e(\"./compressedObject\"),h=e(\"./stream/GenericWorker\");n.prototype={internalStream:function(e){var t=null,r=\"string\";try{if(!e)throw new Error(\"No output type specified.\");var n=\"string\"===(r=e.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new h(\"error\")).error(e)}return new s(t,r,\"\")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||\"nodebuffer\").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new i(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)n.prototype[u[f]]=l;t.exports=n},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(e,l,t){(function(t){\"use strict\";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var i=0,s=new e(u),a=t.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r=\"document\"in t&&\"onreadystatechange\"in t.document.createElement(\"script\")?function(){var e=t.document.createElement(\"script\");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var o=new t.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var e,t;n=!0;for(var r=h.length;r;){for(t=h,h=[],e=-1;++e<r;)t[e]();r=h.length}n=!1}l.exports=function(e){1!==h.push(e)||n||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(e,t,r){\"use strict\";var i=e(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],n=[\"PENDING\"];function o(e){if(\"function\"!=typeof e)throw new TypeError(\"resolver must be a function\");this.state=n,this.queue=[],this.outcome=void 0,e!==u&&d(this,e)}function h(e,t,r){this.promise=e,\"function\"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){i(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(t,e)})}function c(e){var t=e&&e.then;if(e&&(\"object\"==typeof e||\"function\"==typeof e)&&\"function\"==typeof t)return function(){t.apply(e,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function i(e){r||(r=!0,l.resolve(t,e))}var s=p(function(){e(i,n)});\"error\"===s.status&&n(s.value)}function p(e,t){var r={};try{r.value=e(t),r.status=\"success\"}catch(e){r.status=\"error\",r.value=e}return r}(t.exports=o).prototype.finally=function(t){if(\"function\"!=typeof t)return this;var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})},o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if(\"function\"!=typeof e&&this.state===a||\"function\"!=typeof t&&this.state===s)return this;var r=new this.constructor(u);this.state!==n?f(r,this.state===a?e:t,this.outcome):this.queue.push(new h(r,e,t));return r},h.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){l.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=p(c,t);if(\"error\"===r.status)return l.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},l.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},o.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(u),e)},o.reject=function(e){var t=new this(u);return l.reject(t,e)},o.all=function(e){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var n=e.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,t=-1,o=new this(u);for(;++t<n;)h(e[t],t);return o;function h(e,t){r.resolve(e).then(function(e){s[t]=e,++a!==n||i||(i=!0,l.resolve(o,s))},function(e){i||(i=!0,l.reject(o,e))})}},o.race=function(e){var t=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=-1,s=new this(u);for(;++i<r;)a=e[i],t.resolve(a).then(function(e){n||(n=!0,l.resolve(s,e))},function(e){n||(n=!0,l.reject(s,e))});var a;return s}},{immediate:36}],38:[function(e,t,r){\"use strict\";var n={};(0,e(\"./lib/utils/common\").assign)(n,e(\"./lib/deflate\"),e(\"./lib/inflate\"),e(\"./lib/zlib/constants\")),t.exports=n},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(e,t,r){\"use strict\";var a=e(\"./zlib/deflate\"),o=e(\"./utils/common\"),h=e(\"./utils/strings\"),i=e(\"./zlib/messages\"),s=e(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,c=0,d=8;function p(e){if(!(this instanceof p))return new p(e);this.options=o.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:\"\"},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(i[r]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n=\"string\"==typeof t.dictionary?h.string2buf(t.dictionary):\"[object ArrayBuffer]\"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=a.deflateSetDictionary(this.strm,n))!==l)throw new Error(i[r]);this._dict_set=!0}}function n(e,t){var r=new p(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}p.prototype.push=function(e,t){var r,n,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,\"string\"==typeof e?i.input=h.string2buf(e):\"[object ArrayBuffer]\"===u.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(s),i.next_out=0,i.avail_out=s),1!==(r=a.deflate(i,n))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==r);return 4===n?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==n||(this.onEnd(l),!(i.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=p,r.deflate=n,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(e,t,r){\"use strict\";var c=e(\"./zlib/inflate\"),d=e(\"./utils/common\"),p=e(\"./utils/strings\"),m=e(\"./zlib/constants\"),n=e(\"./zlib/messages\"),i=e(\"./zlib/zstream\"),s=e(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=d.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var r=c.inflateInit2(this.strm,t.windowBits);if(r!==m.Z_OK)throw new Error(n[r]);this.header=new s,c.inflateGetHeader(this.strm,this.header)}function o(e,t){var r=new a(t);if(r.push(e,!0),r.err)throw r.msg||n[r.err];return r.result}a.prototype.push=function(e,t){var r,n,i,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof e?h.input=p.binstring2buf(e):\"[object ArrayBuffer]\"===_.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new d.Buf8(u),h.next_out=0,h.avail_out=u),(r=c.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=c.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||n!==m.Z_FINISH&&n!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(i=p.utf8border(h.output,h.next_out),s=h.next_out-i,a=p.buf2string(h.output,i),h.next_out=s,h.avail_out=u-s,s&&d.arraySet(h.output,h.output,i,s,0),this.onData(a)):this.onData(d.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(n=m.Z_FINISH),n===m.Z_FINISH?(r=c.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):n!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){\"use strict\";var h=e(\"./common\"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var u=new h.Buf8(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,h.shrinkBuf(e,t));for(var r=\"\",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}u[254]=u[254]=1,r.string2buf=function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new h.Buf8(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new h.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,s,a=t||e.length,o=new Array(2*a);for(r=n=0;r<a;)if((i=e[r++])<128)o[n++]=i;else if(4<(s=u[i]))o[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&r<a;)i=i<<6|63&e[r++],s--;1<s?o[n++]=65533:i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|1023&i)}return l(o,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}},{\"./common\":41}],43:[function(e,t,r){\"use strict\";t.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(i=i+t[n++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16|0}},{}],44:[function(e,t,r){\"use strict\";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){\"use strict\";var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,r){\"use strict\";var h,c=e(\"../utils/common\"),u=e(\"./trees\"),d=e(\"./adler32\"),p=e(\"./crc32\"),n=e(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,i=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(e,t){return e.msg=n[t],t}function T(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(c.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(e,t){u._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,u=e.window,l=e.w_mask,f=e.prev,c=e.strstart+S,d=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+a]===p&&u[r+a-1]===d&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<c);if(n=S-(c-s),s=c-S,a<n){if(e.match_start=t,o<=(a=n))break;d=u[s+a-1],p=u[s+a]}}}while((t=f[t&l])>h&&0!=--i);return a<=e.lookahead?a:e.lookahead}function j(e){var t,r,n,i,s,a,o,h,u,l,f=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-z)){for(c.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=r=e.hash_size;n=e.head[--t],e.head[t]=f<=n?n-f:0,--r;);for(t=r=f;n=e.prev[--t],e.prev[t]=f<=n?n-f:0,--r;);i+=f}if(0===e.strm.avail_in)break;if(a=e.strm,o=e.window,h=e.strstart+e.lookahead,u=i,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,c.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=d(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=r,e.lookahead+e.insert>=x)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+x-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<z&&0!==e.strm.avail_in)}function Z(e,t){for(var r,n;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r)),e.match_length>=x)if(n=u._tr_tally(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function W(e,t){for(var r,n,i;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===x&&4096<e.strstart-e.match_start)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-x,n=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=x-1,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((n=u._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function M(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*w),this.dyn_dtree=new c.Buf16(2*(2*a+1)),this.bl_tree=new c.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(k+1),this.heap=new c.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=i,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=l,u._tr_init(t),m):R(e,_)}function K(e){var t=G(e);return t===m&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=h[e.level].max_lazy,e.good_match=h[e.level].good_length,e.nice_match=h[e.level].nice_length,e.max_chain_length=h[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,r,n,i,s){if(!e)return _;var a=1;if(t===g&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),i<1||y<i||r!==v||n<8||15<n||t<0||9<t||s<0||b<s)return R(e,_);8===n&&(n=9);var o=new H;return(e.state=o).strm=e,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new c.Buf8(2*o.w_size),o.head=new c.Buf16(o.hash_size),o.prev=new c.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new c.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=r,K(e)}h=[new M(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,N(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-z&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(e,t){return Y(e,t,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?_:(e.state.gzhead=t,m):_},r.deflate=function(e,t){var r,n,i,s;if(!e||!e.state||5<t||t<0)return e?R(e,_):_;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==f)return R(e,0===e.avail_out?-5:_);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===C)if(2===n.wrap)e.adler=0,U(n,31),U(n,139),U(n,8),n.gzhead?(U(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),U(n,255&n.gzhead.time),U(n,n.gzhead.time>>8&255),U(n,n.gzhead.time>>16&255),U(n,n.gzhead.time>>24&255),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(U(n,255&n.gzhead.extra.length),U(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=p(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(U(n,0),U(n,0),U(n,0),U(n,0),U(n,0),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,3),n.status=E);else{var a=v+(n.w_bits-8<<4)<<8;a|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(a|=32),a+=31-a%31,n.status=E,P(n,a),0!==n.strstart&&(P(n,e.adler>>>16),P(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending!==n.pending_buf_size));)U(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&F(e),n.pending+2<=n.pending_buf_size&&(U(n,255&e.adler),U(n,e.adler>>8&255),e.adler=0,n.status=E)):n.status=E),0!==n.pending){if(F(e),0===e.avail_out)return n.last_flush=-1,m}else if(0===e.avail_in&&T(t)<=T(r)&&t!==f)return R(e,-5);if(666===n.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==l&&666!==n.status){var o=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return A;break}if(e.match_length=0,r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):3===n.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=S){if(j(e),e.lookahead<=S&&t===l)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=x&&0<e.strstart&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+S;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=S-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(r=u._tr_tally(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):h[n.level].func(n,t);if(o!==O&&o!==B||(n.status=666),o===A||o===O)return 0===e.avail_out&&(n.last_flush=-1),m;if(o===I&&(1===t?u._tr_align(n):5!==t&&(u._tr_stored_block(n,0,0,!1),3===t&&(D(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),F(e),0===e.avail_out))return n.last_flush=-1,m}return t!==f?m:n.wrap<=0?1:(2===n.wrap?(U(n,255&e.adler),U(n,e.adler>>8&255),U(n,e.adler>>16&255),U(n,e.adler>>24&255),U(n,255&e.total_in),U(n,e.total_in>>8&255),U(n,e.total_in>>16&255),U(n,e.total_in>>24&255)):(P(n,e.adler>>>16),P(n,65535&e.adler)),F(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?m:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?R(e,_):(e.state=null,t===E?R(e,-3):m):_},r.deflateSetDictionary=function(e,t){var r,n,i,s,a,o,h,u,l=t.length;if(!e||!e.state)return _;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(e.adler=d(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new c.Buf8(r.w_size),c.arraySet(u,t,l-r.w_size,r.w_size,0),t=u,l=r.w_size),a=e.avail_in,o=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,j(r);r.lookahead>=x;){for(n=r.strstart,i=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+x-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,e.next_in=o,e.input=h,e.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(e,t,r){\"use strict\";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){\"use strict\";t.exports=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C;r=e.state,n=e.next_in,z=e.input,i=n+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,c=r.window,d=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=m[d&g];t:for(;;){if(d>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg=\"invalid literal/length code\",r.mode=30;break e}w=65535&v,(y&=15)&&(p<y&&(d+=z[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=_[d&b];r:for(;;){if(d>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue r}e.msg=\"invalid distance code\",r.mode=30;break e}if(k=65535&v,p<(y&=15)&&(d+=z[n++]<<p,(p+=8)<y&&(d+=z[n++]<<p,p+=8)),h<(k+=d&(1<<y)-1)){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(d>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(S=c,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=c[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=c[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(n<i&&s<o);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=d,r.bits=p}},{}],49:[function(e,t,r){\"use strict\";var I=e(\"../utils/common\"),O=e(\"./adler32\"),B=e(\"./crc32\"),R=e(\"./inffast\"),T=e(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,n=852,i=592;function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=P,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new I.Buf32(n),t.distcode=t.distdyn=new I.Buf32(i),t.sane=1,t.back=-1,N):U}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):U}function h(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?U:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,o(e))):U}function u(e,t){var r,n;return e?(n=new s,(e.state=n).window=null,(r=h(e,t))!==N&&(e.state=null),r):U}var l,f,c=!0;function j(e){if(c){var t;for(l=new I.Buf32(512),f=new I.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(T(D,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;T(F,e.lens,0,32,f,0,e.work,{bits:5}),c=!1}e.lencode=l,e.lenbits=9,e.distcode=f,e.distbits=5}function Z(e,t,r,n){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),n>=s.wsize?(I.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n<(i=s.wsize-s.wnext)&&(i=n),I.arraySet(s.window,t,r-n,i,s.wnext),(n-=i)?(I.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(e){return u(e,15)},r.inflateInit2=u,r.inflate=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return U;12===(r=e.state).mode&&(r.mode=13),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,f=o,c=h,x=N;e:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){e.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){e.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){e.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(d=r.length)&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,n,s,d,k)),512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(65535&r.check)){e.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}e.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==t)break;u>>>=2,l-=2;break e;case 2:r.mode=17;break;case 3:e.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(o<d&&(d=o),h<d&&(d=h),0===d)break e;I.arraySet(i,n,s,d,a),o-=d,s+=d,h-=d,a+=d,r.length-=d;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){e.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){e.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){e.msg=\"invalid bit length repeat\",r.mode=30;break}for(;d--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){e.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=o&&258<=h){e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,R(e,c),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){e.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break e;if(d=c-h,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break}p=d>r.wnext?(d-=r.wnext,r.wsize-d):r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=a-r.offset,d=r.length;for(h<d&&(d=h),h-=d,r.length-=d;i[a++]=m[p++],--d;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break e;i[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,u|=n[s++]<<l,l+=8}if(c-=h,e.total_out+=c,r.total+=c,c&&(e.adler=r.check=r.flags?B(r.check,i,c,a-c):O(r.check,i,c,a-c)),c=h,(r.flags?u:L(u))!==r.check){e.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return U}return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,(r.wsize||c!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&Z(e,e.output,e.next_out,c-e.avail_out)?(r.mode=31,-4):(f-=e.avail_in,c-=e.avail_out,e.total_in+=f,e.total_out+=c,r.total+=c,r.wrap&&c&&(e.adler=r.check=r.flags?B(r.check,i,c,e.next_out-c):O(r.check,i,c,e.next_out-c)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===c||4===t)&&x===N&&(x=-5),x)},r.inflateEnd=function(e){if(!e||!e.state)return U;var t=e.state;return t.window&&(t.window=null),e.state=null,N},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?U:((r.head=t).done=!1,N):U},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,t,n,0)!==r.check?-3:Z(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(e,t,r){\"use strict\";var D=e(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,n,i,s,a,o){var h,u,l,f,c,d,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<n;v++)O[t[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===e||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<n;v++)0!==t[r+v]&&(a[B[t[r+v]]++]=v);if(d=0===e?(A=R=a,19):1===e?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,c=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===e&&852<C||2===e&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<d?(m=0,a[v]):a[v]>d?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;i[c+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=t[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),c+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===e&&852<C||2===e&&592<C)return 1;i[l=E&f]=k<<24|x<<16|c-s|0}}return 0!==E&&(i[c+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(e,t,r){\"use strict\";t.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(e,t,r){\"use strict\";var i=e(\"../utils/common\"),o=0,h=1;function n(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,a=29,u=256,l=u+1+a,f=30,c=19,_=2*l+1,g=15,d=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));n(z);var C=new Array(2*f);n(C);var E=new Array(512);n(E);var A=new Array(256);n(A);var I=new Array(a);n(I);var O,B,R,T=new Array(f);function D(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?E[e]:E[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>d-r?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=r-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function L(e,t,r){P(e,r[2*t],r[2*t+1])}function j(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function Z(e,t,r){var n,i,s=new Array(g+1),a=0;for(n=1;n<=g;n++)s[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=j(s[o]++,o))}}function W(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?U(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,s,a,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?L(e,i,t):(L(e,(s=A[i])+u+1,t),0!==(a=w[s])&&P(e,i-=I[s],a),L(e,s=N(--n),r),0!==(a=k[s])&&P(e,n-=T[s],a)),o<e.last_lit;);L(e,m,t)}function Y(e,t){var r,n,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,h=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)G(e,s,r);for(i=h;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,G(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,a,o,h=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=g;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)p<(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)&&(s=p,m++),h[2*n+1]=s,u<n||(e.bl_count[s]++,a=0,d<=n&&(a=c[n-d]),o=h[2*n],e.opt_len+=o*(s+a),f&&(e.static_len+=o*(l[2*n+1]+a)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)u<(i=e.heap[--r])||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),Z(s,u,e.bl_count)}function X(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<h&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*y]++,s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4))}function V(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<h&&i===a)){if(o<u)for(;L(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(L(e,i,e.bl_tree),o--),L(e,b,e.bl_tree),P(e,o-3,2)):o<=10?(L(e,v,e.bl_tree),P(e,o-3,3)):(L(e,y,e.bl_tree),P(e,o-11,7));s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4)}}n(T);var q=!1;function J(e,t,r,n){P(e,(s<<1)+(n?1:0),3),function(e,t,r,n){M(e),n&&(U(e,r),U(e,~r)),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){q||(function(){var e,t,r,n,i,s=new Array(g+1);for(n=r=0;n<a-1;n++)for(I[n]=r,e=0;e<1<<w[n];e++)A[r++]=n;for(A[r-1]=n,n=i=0;n<16;n++)for(T[n]=i,e=0;e<1<<k[n];e++)E[i++]=n;for(i>>=7;n<f;n++)for(T[n]=i<<7,e=0;e<1<<k[n]-7;e++)E[256+i++]=n;for(t=0;t<=g;t++)s[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,s[8]++;for(;e<=255;)z[2*e+1]=9,e++,s[9]++;for(;e<=279;)z[2*e+1]=7,e++,s[7]++;for(;e<=287;)z[2*e+1]=8,e++,s[8]++;for(Z(z,l+1,s),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=j(e,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,c,p)}(),q=!0),e.l_desc=new F(e.dyn_ltree,O),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=J,r._tr_flush_block=function(e,t,r,n){var i,s,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return h;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return h;return o}(e)),Y(e,e.l_desc),Y(e,e.d_desc),a=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?J(e,t,r,n):4===e.strategy||s===i?(P(e,2+(n?1:0),3),K(e,z,C)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*S[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),K(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&M(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(A[r]+u+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){P(e,2,3),L(e,m,z),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{\"../utils/common\":41}],53:[function(e,t,r){\"use strict\";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(r,n){\"use strict\";if(!r.setImmediate){var i,s,t,a,o=1,h={},u=!1,l=r.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(r);e=e&&e.setTimeout?e:r,i=\"[object process]\"==={}.toString.call(r.process)?function(e){process.nextTick(function(){c(e)})}:function(){if(r.postMessage&&!r.importScripts){var e=!0,t=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage(\"\",\"*\"),r.onmessage=t,e}}()?(a=\"setImmediate$\"+Math.random()+\"$\",r.addEventListener?r.addEventListener(\"message\",d,!1):r.attachEvent(\"onmessage\",d),function(e){r.postMessage(a+e,\"*\")}):r.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){c(e.data)},function(e){t.port2.postMessage(e)}):l&&\"onreadystatechange\"in l.createElement(\"script\")?(s=l.documentElement,function(e){var t=l.createElement(\"script\");t.onreadystatechange=function(){c(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):function(e){setTimeout(c,0,e)},e.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return h[o]=n,i(o),o++},e.clearImmediate=f}function f(e){delete h[e]}function c(e){if(u)setTimeout(c,0,e);else{var t=h[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),u=!1}}}}function d(e){e.source===r&&\"string\"==typeof e.data&&0===e.data.indexOf(a)&&c(+e.data.slice(a.length))}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[10])(10)});","import JSZip from 'jszip';\n\nvar RelationshipTypes;\n(function (RelationshipTypes) {\n    RelationshipTypes[\"OfficeDocument\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\";\n    RelationshipTypes[\"FontTable\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable\";\n    RelationshipTypes[\"Image\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\";\n    RelationshipTypes[\"Numbering\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering\";\n    RelationshipTypes[\"Styles\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\";\n    RelationshipTypes[\"StylesWithEffects\"] = \"http://schemas.microsoft.com/office/2007/relationships/stylesWithEffects\";\n    RelationshipTypes[\"Theme\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\";\n    RelationshipTypes[\"Settings\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings\";\n    RelationshipTypes[\"WebSettings\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/webSettings\";\n    RelationshipTypes[\"Hyperlink\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\";\n    RelationshipTypes[\"Footnotes\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes\";\n    RelationshipTypes[\"Endnotes\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/endnotes\";\n    RelationshipTypes[\"Footer\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer\";\n    RelationshipTypes[\"Header\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header\";\n    RelationshipTypes[\"ExtendedProperties\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\";\n    RelationshipTypes[\"CoreProperties\"] = \"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\";\n    RelationshipTypes[\"CustomProperties\"] = \"http://schemas.openxmlformats.org/package/2006/relationships/metadata/custom-properties\";\n    RelationshipTypes[\"Comments\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments\";\n    RelationshipTypes[\"CommentsExtended\"] = \"http://schemas.microsoft.com/office/2011/relationships/commentsExtended\";\n    RelationshipTypes[\"AltChunk\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk\";\n})(RelationshipTypes || (RelationshipTypes = {}));\nfunction parseRelationships(root, xml) {\n    return xml.elements(root).map(e => ({\n        id: xml.attr(e, \"Id\"),\n        type: xml.attr(e, \"Type\"),\n        target: xml.attr(e, \"Target\"),\n        targetMode: xml.attr(e, \"TargetMode\")\n    }));\n}\n\nfunction escapeClassName(className) {\n    return className?.replace(/[ .]+/g, '-').replace(/[&]+/g, 'and').toLowerCase();\n}\nfunction encloseFontFamily(fontFamily) {\n    return /^[^\"'].*\\s.*[^\"']$/.test(fontFamily) ? `'${fontFamily}'` : fontFamily;\n}\nfunction splitPath(path) {\n    let si = path.lastIndexOf('/') + 1;\n    let folder = si == 0 ? \"\" : path.substring(0, si);\n    let fileName = si == 0 ? path : path.substring(si);\n    return [folder, fileName];\n}\nfunction resolvePath(path, base) {\n    try {\n        const prefix = \"http://docx/\";\n        const url = new URL(path, prefix + base).toString();\n        return url.substring(prefix.length);\n    }\n    catch {\n        return `${base}${path}`;\n    }\n}\nfunction keyBy(array, by) {\n    return array.reduce((a, x) => {\n        a[by(x)] = x;\n        return a;\n    }, {});\n}\nfunction blobToBase64(blob) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => resolve(reader.result);\n        reader.onerror = () => reject();\n        reader.readAsDataURL(blob);\n    });\n}\nfunction isObject(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\nfunction isString(item) {\n    return typeof item === 'string' || item instanceof String;\n}\nfunction mergeDeep(target, ...sources) {\n    if (!sources.length)\n        return target;\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                const val = target[key] ?? (target[key] = {});\n                mergeDeep(val, source[key]);\n            }\n            else {\n                target[key] = source[key];\n            }\n        }\n    }\n    return mergeDeep(target, ...sources);\n}\nfunction asArray(val) {\n    return Array.isArray(val) ? val : [val];\n}\nfunction clamp(val, min, max) {\n    return min > val ? min : (max < val ? max : val);\n}\n\nconst ns$1 = {\n    wordml: \"http://schemas.openxmlformats.org/wordprocessingml/2006/main\",\n    drawingml: \"http://schemas.openxmlformats.org/drawingml/2006/main\",\n    picture: \"http://schemas.openxmlformats.org/drawingml/2006/picture\",\n    compatibility: \"http://schemas.openxmlformats.org/markup-compatibility/2006\",\n    math: \"http://schemas.openxmlformats.org/officeDocument/2006/math\"\n};\nconst LengthUsage = {\n    Dxa: { mul: 0.05, unit: \"pt\" },\n    Emu: { mul: 1 / 12700, unit: \"pt\" },\n    FontSize: { mul: 0.5, unit: \"pt\" },\n    Border: { mul: 0.125, unit: \"pt\", min: 0.25, max: 12 },\n    Point: { mul: 1, unit: \"pt\" },\n    Percent: { mul: 0.02, unit: \"%\" },\n    LineHeight: { mul: 1 / 240, unit: \"\" },\n    VmlEmu: { mul: 1 / 12700, unit: \"\" },\n};\nfunction convertLength(val, usage = LengthUsage.Dxa) {\n    if (val == null || /.+(p[xt]|[%])$/.test(val)) {\n        return val;\n    }\n    var num = parseInt(val) * usage.mul;\n    if (usage.min && usage.max)\n        num = clamp(num, usage.min, usage.max);\n    return `${num.toFixed(2)}${usage.unit}`;\n}\nfunction convertBoolean(v, defaultValue = false) {\n    switch (v) {\n        case \"1\": return true;\n        case \"0\": return false;\n        case \"on\": return true;\n        case \"off\": return false;\n        case \"true\": return true;\n        case \"false\": return false;\n        default: return defaultValue;\n    }\n}\nfunction parseCommonProperty(elem, props, xml) {\n    if (elem.namespaceURI != ns$1.wordml)\n        return false;\n    switch (elem.localName) {\n        case \"color\":\n            props.color = xml.attr(elem, \"val\");\n            break;\n        case \"sz\":\n            props.fontSize = xml.lengthAttr(elem, \"val\", LengthUsage.FontSize);\n            break;\n        default:\n            return false;\n    }\n    return true;\n}\n\nfunction parseXmlString(xmlString, trimXmlDeclaration = false) {\n    if (trimXmlDeclaration)\n        xmlString = xmlString.replace(/<[?].*[?]>/, \"\");\n    xmlString = removeUTF8BOM(xmlString);\n    const result = new DOMParser().parseFromString(xmlString, \"application/xml\");\n    const errorText = hasXmlParserError(result);\n    if (errorText)\n        throw new Error(errorText);\n    return result;\n}\nfunction hasXmlParserError(doc) {\n    return doc.getElementsByTagName(\"parsererror\")[0]?.textContent;\n}\nfunction removeUTF8BOM(data) {\n    return data.charCodeAt(0) === 0xFEFF ? data.substring(1) : data;\n}\nfunction serializeXmlString(elem) {\n    return new XMLSerializer().serializeToString(elem);\n}\nclass XmlParser {\n    elements(elem, localName = null) {\n        const result = [];\n        for (let i = 0, l = elem.childNodes.length; i < l; i++) {\n            let c = elem.childNodes.item(i);\n            if (c.nodeType == 1 && (localName == null || c.localName == localName))\n                result.push(c);\n        }\n        return result;\n    }\n    element(elem, localName) {\n        for (let i = 0, l = elem.childNodes.length; i < l; i++) {\n            let c = elem.childNodes.item(i);\n            if (c.nodeType == 1 && c.localName == localName)\n                return c;\n        }\n        return null;\n    }\n    elementAttr(elem, localName, attrLocalName) {\n        var el = this.element(elem, localName);\n        return el ? this.attr(el, attrLocalName) : undefined;\n    }\n    attrs(elem) {\n        return Array.from(elem.attributes);\n    }\n    attr(elem, localName) {\n        for (let i = 0, l = elem.attributes.length; i < l; i++) {\n            let a = elem.attributes.item(i);\n            if (a.localName == localName)\n                return a.value;\n        }\n        return null;\n    }\n    intAttr(node, attrName, defaultValue = null) {\n        var val = this.attr(node, attrName);\n        return val ? parseInt(val) : defaultValue;\n    }\n    hexAttr(node, attrName, defaultValue = null) {\n        var val = this.attr(node, attrName);\n        return val ? parseInt(val, 16) : defaultValue;\n    }\n    floatAttr(node, attrName, defaultValue = null) {\n        var val = this.attr(node, attrName);\n        return val ? parseFloat(val) : defaultValue;\n    }\n    boolAttr(node, attrName, defaultValue = null) {\n        return convertBoolean(this.attr(node, attrName), defaultValue);\n    }\n    lengthAttr(node, attrName, usage = LengthUsage.Dxa) {\n        return convertLength(this.attr(node, attrName), usage);\n    }\n}\nconst globalXmlParser = new XmlParser();\n\nclass Part {\n    constructor(_package, path) {\n        this._package = _package;\n        this.path = path;\n    }\n    async load() {\n        this.rels = await this._package.loadRelationships(this.path);\n        const xmlText = await this._package.load(this.path);\n        const xmlDoc = this._package.parseXmlDocument(xmlText);\n        if (this._package.options.keepOrigin) {\n            this._xmlDocument = xmlDoc;\n        }\n        this.parseXml(xmlDoc.firstElementChild);\n    }\n    save() {\n        this._package.update(this.path, serializeXmlString(this._xmlDocument));\n    }\n    parseXml(root) {\n    }\n}\n\nconst embedFontTypeMap = {\n    embedRegular: 'regular',\n    embedBold: 'bold',\n    embedItalic: 'italic',\n    embedBoldItalic: 'boldItalic',\n};\nfunction parseFonts(root, xml) {\n    return xml.elements(root).map(el => parseFont(el, xml));\n}\nfunction parseFont(elem, xml) {\n    let result = {\n        name: xml.attr(elem, \"name\"),\n        embedFontRefs: []\n    };\n    for (let el of xml.elements(elem)) {\n        switch (el.localName) {\n            case \"family\":\n                result.family = xml.attr(el, \"val\");\n                break;\n            case \"altName\":\n                result.altName = xml.attr(el, \"val\");\n                break;\n            case \"embedRegular\":\n            case \"embedBold\":\n            case \"embedItalic\":\n            case \"embedBoldItalic\":\n                result.embedFontRefs.push(parseEmbedFontRef(el, xml));\n                break;\n        }\n    }\n    return result;\n}\nfunction parseEmbedFontRef(elem, xml) {\n    return {\n        id: xml.attr(elem, \"id\"),\n        key: xml.attr(elem, \"fontKey\"),\n        type: embedFontTypeMap[elem.localName]\n    };\n}\n\nclass FontTablePart extends Part {\n    parseXml(root) {\n        this.fonts = parseFonts(root, this._package.xmlParser);\n    }\n}\n\nclass OpenXmlPackage {\n    constructor(_zip, options) {\n        this._zip = _zip;\n        this.options = options;\n        this.xmlParser = new XmlParser();\n    }\n    get(path) {\n        const p = normalizePath(path);\n        return this._zip.files[p] ?? this._zip.files[p.replace(/\\//g, '\\\\')];\n    }\n    update(path, content) {\n        this._zip.file(path, content);\n    }\n    static async load(input, options) {\n        const zip = await JSZip.loadAsync(input);\n        return new OpenXmlPackage(zip, options);\n    }\n    save(type = \"blob\") {\n        return this._zip.generateAsync({ type });\n    }\n    load(path, type = \"string\") {\n        return this.get(path)?.async(type) ?? Promise.resolve(null);\n    }\n    async loadRelationships(path = null) {\n        let relsPath = `_rels/.rels`;\n        if (path != null) {\n            const [f, fn] = splitPath(path);\n            relsPath = `${f}_rels/${fn}.rels`;\n        }\n        const txt = await this.load(relsPath);\n        return txt ? parseRelationships(this.parseXmlDocument(txt).firstElementChild, this.xmlParser) : null;\n    }\n    parseXmlDocument(txt) {\n        return parseXmlString(txt, this.options.trimXmlDeclaration);\n    }\n}\nfunction normalizePath(path) {\n    return path.startsWith('/') ? path.substr(1) : path;\n}\n\nclass DocumentPart extends Part {\n    constructor(pkg, path, parser) {\n        super(pkg, path);\n        this._documentParser = parser;\n    }\n    parseXml(root) {\n        this.body = this._documentParser.parseDocumentFile(root);\n    }\n}\n\nfunction parseBorder(elem, xml) {\n    return {\n        type: xml.attr(elem, \"val\"),\n        color: xml.attr(elem, \"color\"),\n        size: xml.lengthAttr(elem, \"sz\", LengthUsage.Border),\n        offset: xml.lengthAttr(elem, \"space\", LengthUsage.Point),\n        frame: xml.boolAttr(elem, 'frame'),\n        shadow: xml.boolAttr(elem, 'shadow')\n    };\n}\nfunction parseBorders(elem, xml) {\n    var result = {};\n    for (let e of xml.elements(elem)) {\n        switch (e.localName) {\n            case \"left\":\n                result.left = parseBorder(e, xml);\n                break;\n            case \"top\":\n                result.top = parseBorder(e, xml);\n                break;\n            case \"right\":\n                result.right = parseBorder(e, xml);\n                break;\n            case \"bottom\":\n                result.bottom = parseBorder(e, xml);\n                break;\n        }\n    }\n    return result;\n}\n\nvar SectionType;\n(function (SectionType) {\n    SectionType[\"Continuous\"] = \"continuous\";\n    SectionType[\"NextPage\"] = \"nextPage\";\n    SectionType[\"NextColumn\"] = \"nextColumn\";\n    SectionType[\"EvenPage\"] = \"evenPage\";\n    SectionType[\"OddPage\"] = \"oddPage\";\n})(SectionType || (SectionType = {}));\nfunction parseSectionProperties(elem, xml = globalXmlParser) {\n    var section = {};\n    for (let e of xml.elements(elem)) {\n        switch (e.localName) {\n            case \"pgSz\":\n                section.pageSize = {\n                    width: xml.lengthAttr(e, \"w\"),\n                    height: xml.lengthAttr(e, \"h\"),\n                    orientation: xml.attr(e, \"orient\")\n                };\n                break;\n            case \"type\":\n                section.type = xml.attr(e, \"val\");\n                break;\n            case \"pgMar\":\n                section.pageMargins = {\n                    left: xml.lengthAttr(e, \"left\"),\n                    right: xml.lengthAttr(e, \"right\"),\n                    top: xml.lengthAttr(e, \"top\"),\n                    bottom: xml.lengthAttr(e, \"bottom\"),\n                    header: xml.lengthAttr(e, \"header\"),\n                    footer: xml.lengthAttr(e, \"footer\"),\n                    gutter: xml.lengthAttr(e, \"gutter\"),\n                };\n                break;\n            case \"cols\":\n                section.columns = parseColumns(e, xml);\n                break;\n            case \"headerReference\":\n                (section.headerRefs ?? (section.headerRefs = [])).push(parseFooterHeaderReference(e, xml));\n                break;\n            case \"footerReference\":\n                (section.footerRefs ?? (section.footerRefs = [])).push(parseFooterHeaderReference(e, xml));\n                break;\n            case \"titlePg\":\n                section.titlePage = xml.boolAttr(e, \"val\", true);\n                break;\n            case \"pgBorders\":\n                section.pageBorders = parseBorders(e, xml);\n                break;\n            case \"pgNumType\":\n                section.pageNumber = parsePageNumber(e, xml);\n                break;\n        }\n    }\n    return section;\n}\nfunction parseColumns(elem, xml) {\n    return {\n        numberOfColumns: xml.intAttr(elem, \"num\"),\n        space: xml.lengthAttr(elem, \"space\"),\n        separator: xml.boolAttr(elem, \"sep\"),\n        equalWidth: xml.boolAttr(elem, \"equalWidth\", true),\n        columns: xml.elements(elem, \"col\")\n            .map(e => ({\n            width: xml.lengthAttr(e, \"w\"),\n            space: xml.lengthAttr(e, \"space\")\n        }))\n    };\n}\nfunction parsePageNumber(elem, xml) {\n    return {\n        chapSep: xml.attr(elem, \"chapSep\"),\n        chapStyle: xml.attr(elem, \"chapStyle\"),\n        format: xml.attr(elem, \"fmt\"),\n        start: xml.intAttr(elem, \"start\")\n    };\n}\nfunction parseFooterHeaderReference(elem, xml) {\n    return {\n        id: xml.attr(elem, \"id\"),\n        type: xml.attr(elem, \"type\"),\n    };\n}\n\nfunction parseLineSpacing(elem, xml) {\n    return {\n        before: xml.lengthAttr(elem, \"before\"),\n        after: xml.lengthAttr(elem, \"after\"),\n        line: xml.intAttr(elem, \"line\"),\n        lineRule: xml.attr(elem, \"lineRule\")\n    };\n}\n\nfunction parseRunProperties(elem, xml) {\n    let result = {};\n    for (let el of xml.elements(elem)) {\n        parseRunProperty(el, result, xml);\n    }\n    return result;\n}\nfunction parseRunProperty(elem, props, xml) {\n    if (parseCommonProperty(elem, props, xml))\n        return true;\n    return false;\n}\n\nfunction parseParagraphProperties(elem, xml) {\n    let result = {};\n    for (let el of xml.elements(elem)) {\n        parseParagraphProperty(el, result, xml);\n    }\n    return result;\n}\nfunction parseParagraphProperty(elem, props, xml) {\n    if (elem.namespaceURI != ns$1.wordml)\n        return false;\n    if (parseCommonProperty(elem, props, xml))\n        return true;\n    switch (elem.localName) {\n        case \"tabs\":\n            props.tabs = parseTabs(elem, xml);\n            break;\n        case \"sectPr\":\n            props.sectionProps = parseSectionProperties(elem, xml);\n            break;\n        case \"numPr\":\n            props.numbering = parseNumbering$1(elem, xml);\n            break;\n        case \"spacing\":\n            props.lineSpacing = parseLineSpacing(elem, xml);\n            return false;\n        case \"textAlignment\":\n            props.textAlignment = xml.attr(elem, \"val\");\n            return false;\n        case \"keepLines\":\n            props.keepLines = xml.boolAttr(elem, \"val\", true);\n            break;\n        case \"keepNext\":\n            props.keepNext = xml.boolAttr(elem, \"val\", true);\n            break;\n        case \"pageBreakBefore\":\n            props.pageBreakBefore = xml.boolAttr(elem, \"val\", true);\n            break;\n        case \"outlineLvl\":\n            props.outlineLevel = xml.intAttr(elem, \"val\");\n            break;\n        case \"pStyle\":\n            props.styleName = xml.attr(elem, \"val\");\n            break;\n        case \"rPr\":\n            props.runProps = parseRunProperties(elem, xml);\n            break;\n        default:\n            return false;\n    }\n    return true;\n}\nfunction parseTabs(elem, xml) {\n    return xml.elements(elem, \"tab\")\n        .map(e => ({\n        position: xml.lengthAttr(e, \"pos\"),\n        leader: xml.attr(e, \"leader\"),\n        style: xml.attr(e, \"val\")\n    }));\n}\nfunction parseNumbering$1(elem, xml) {\n    var result = {};\n    for (let e of xml.elements(elem)) {\n        switch (e.localName) {\n            case \"numId\":\n                result.id = xml.attr(e, \"val\");\n                break;\n            case \"ilvl\":\n                result.level = xml.intAttr(e, \"val\");\n                break;\n        }\n    }\n    return result;\n}\n\nfunction parseNumberingPart(elem, xml) {\n    let result = {\n        numberings: [],\n        abstractNumberings: [],\n        bulletPictures: []\n    };\n    for (let e of xml.elements(elem)) {\n        switch (e.localName) {\n            case \"num\":\n                result.numberings.push(parseNumbering(e, xml));\n                break;\n            case \"abstractNum\":\n                result.abstractNumberings.push(parseAbstractNumbering(e, xml));\n                break;\n            case \"numPicBullet\":\n                result.bulletPictures.push(parseNumberingBulletPicture(e, xml));\n                break;\n        }\n    }\n    return result;\n}\nfunction parseNumbering(elem, xml) {\n    let result = {\n        id: xml.attr(elem, 'numId'),\n        overrides: []\n    };\n    for (let e of xml.elements(elem)) {\n        switch (e.localName) {\n            case \"abstractNumId\":\n                result.abstractId = xml.attr(e, \"val\");\n                break;\n            case \"lvlOverride\":\n                result.overrides.push(parseNumberingLevelOverrride(e, xml));\n                break;\n        }\n    }\n    return result;\n}\nfunction parseAbstractNumbering(elem, xml) {\n    let result = {\n        id: xml.attr(elem, 'abstractNumId'),\n        levels: []\n    };\n    for (let e of xml.elements(elem)) {\n        switch (e.localName) {\n            case \"name\":\n                result.name = xml.attr(e, \"val\");\n                break;\n            case \"multiLevelType\":\n                result.multiLevelType = xml.attr(e, \"val\");\n                break;\n            case \"numStyleLink\":\n                result.numberingStyleLink = xml.attr(e, \"val\");\n                break;\n            case \"styleLink\":\n                result.styleLink = xml.attr(e, \"val\");\n                break;\n            case \"lvl\":\n                result.levels.push(parseNumberingLevel(e, xml));\n                break;\n        }\n    }\n    return result;\n}\nfunction parseNumberingLevel(elem, xml) {\n    let result = {\n        level: xml.intAttr(elem, 'ilvl')\n    };\n    for (let e of xml.elements(elem)) {\n        switch (e.localName) {\n            case \"start\":\n                result.start = xml.attr(e, \"val\");\n                break;\n            case \"lvlRestart\":\n                result.restart = xml.intAttr(e, \"val\");\n                break;\n            case \"numFmt\":\n                result.format = xml.attr(e, \"val\");\n                break;\n            case \"lvlText\":\n                result.text = xml.attr(e, \"val\");\n                break;\n            case \"lvlJc\":\n                result.justification = xml.attr(e, \"val\");\n                break;\n            case \"lvlPicBulletId\":\n                result.bulletPictureId = xml.attr(e, \"val\");\n                break;\n            case \"pStyle\":\n                result.paragraphStyle = xml.attr(e, \"val\");\n                break;\n            case \"pPr\":\n                result.paragraphProps = parseParagraphProperties(e, xml);\n                break;\n            case \"rPr\":\n                result.runProps = parseRunProperties(e, xml);\n                break;\n        }\n    }\n    return result;\n}\nfunction parseNumberingLevelOverrride(elem, xml) {\n    let result = {\n        level: xml.intAttr(elem, 'ilvl')\n    };\n    for (let e of xml.elements(elem)) {\n        switch (e.localName) {\n            case \"startOverride\":\n                result.start = xml.intAttr(e, \"val\");\n                break;\n            case \"lvl\":\n                result.numberingLevel = parseNumberingLevel(e, xml);\n                break;\n        }\n    }\n    return result;\n}\nfunction parseNumberingBulletPicture(elem, xml) {\n    var pict = xml.element(elem, \"pict\");\n    var shape = pict && xml.element(pict, \"shape\");\n    var imagedata = shape && xml.element(shape, \"imagedata\");\n    return imagedata ? {\n        id: xml.attr(elem, \"numPicBulletId\"),\n        referenceId: xml.attr(imagedata, \"id\"),\n        style: xml.attr(shape, \"style\")\n    } : null;\n}\n\nclass NumberingPart extends Part {\n    constructor(pkg, path, parser) {\n        super(pkg, path);\n        this._documentParser = parser;\n    }\n    parseXml(root) {\n        Object.assign(this, parseNumberingPart(root, this._package.xmlParser));\n        this.domNumberings = this._documentParser.parseNumberingFile(root);\n    }\n}\n\nclass StylesPart extends Part {\n    constructor(pkg, path, parser) {\n        super(pkg, path);\n        this._documentParser = parser;\n    }\n    parseXml(root) {\n        this.styles = this._documentParser.parseStylesFile(root);\n    }\n}\n\nvar DomType;\n(function (DomType) {\n    DomType[\"Document\"] = \"document\";\n    DomType[\"Paragraph\"] = \"paragraph\";\n    DomType[\"Run\"] = \"run\";\n    DomType[\"Break\"] = \"break\";\n    DomType[\"NoBreakHyphen\"] = \"noBreakHyphen\";\n    DomType[\"Table\"] = \"table\";\n    DomType[\"Row\"] = \"row\";\n    DomType[\"Cell\"] = \"cell\";\n    DomType[\"Hyperlink\"] = \"hyperlink\";\n    DomType[\"SmartTag\"] = \"smartTag\";\n    DomType[\"Drawing\"] = \"drawing\";\n    DomType[\"Image\"] = \"image\";\n    DomType[\"Text\"] = \"text\";\n    DomType[\"Tab\"] = \"tab\";\n    DomType[\"Symbol\"] = \"symbol\";\n    DomType[\"BookmarkStart\"] = \"bookmarkStart\";\n    DomType[\"BookmarkEnd\"] = \"bookmarkEnd\";\n    DomType[\"Footer\"] = \"footer\";\n    DomType[\"Header\"] = \"header\";\n    DomType[\"FootnoteReference\"] = \"footnoteReference\";\n    DomType[\"EndnoteReference\"] = \"endnoteReference\";\n    DomType[\"Footnote\"] = \"footnote\";\n    DomType[\"Endnote\"] = \"endnote\";\n    DomType[\"SimpleField\"] = \"simpleField\";\n    DomType[\"ComplexField\"] = \"complexField\";\n    DomType[\"Instruction\"] = \"instruction\";\n    DomType[\"VmlPicture\"] = \"vmlPicture\";\n    DomType[\"MmlMath\"] = \"mmlMath\";\n    DomType[\"MmlMathParagraph\"] = \"mmlMathParagraph\";\n    DomType[\"MmlFraction\"] = \"mmlFraction\";\n    DomType[\"MmlFunction\"] = \"mmlFunction\";\n    DomType[\"MmlFunctionName\"] = \"mmlFunctionName\";\n    DomType[\"MmlNumerator\"] = \"mmlNumerator\";\n    DomType[\"MmlDenominator\"] = \"mmlDenominator\";\n    DomType[\"MmlRadical\"] = \"mmlRadical\";\n    DomType[\"MmlBase\"] = \"mmlBase\";\n    DomType[\"MmlDegree\"] = \"mmlDegree\";\n    DomType[\"MmlSuperscript\"] = \"mmlSuperscript\";\n    DomType[\"MmlSubscript\"] = \"mmlSubscript\";\n    DomType[\"MmlPreSubSuper\"] = \"mmlPreSubSuper\";\n    DomType[\"MmlSubArgument\"] = \"mmlSubArgument\";\n    DomType[\"MmlSuperArgument\"] = \"mmlSuperArgument\";\n    DomType[\"MmlNary\"] = \"mmlNary\";\n    DomType[\"MmlDelimiter\"] = \"mmlDelimiter\";\n    DomType[\"MmlRun\"] = \"mmlRun\";\n    DomType[\"MmlEquationArray\"] = \"mmlEquationArray\";\n    DomType[\"MmlLimit\"] = \"mmlLimit\";\n    DomType[\"MmlLimitLower\"] = \"mmlLimitLower\";\n    DomType[\"MmlMatrix\"] = \"mmlMatrix\";\n    DomType[\"MmlMatrixRow\"] = \"mmlMatrixRow\";\n    DomType[\"MmlBox\"] = \"mmlBox\";\n    DomType[\"MmlBar\"] = \"mmlBar\";\n    DomType[\"MmlGroupChar\"] = \"mmlGroupChar\";\n    DomType[\"VmlElement\"] = \"vmlElement\";\n    DomType[\"Inserted\"] = \"inserted\";\n    DomType[\"Deleted\"] = \"deleted\";\n    DomType[\"DeletedText\"] = \"deletedText\";\n    DomType[\"Comment\"] = \"comment\";\n    DomType[\"CommentReference\"] = \"commentReference\";\n    DomType[\"CommentRangeStart\"] = \"commentRangeStart\";\n    DomType[\"CommentRangeEnd\"] = \"commentRangeEnd\";\n    DomType[\"AltChunk\"] = \"altChunk\";\n})(DomType || (DomType = {}));\nclass OpenXmlElementBase {\n    constructor() {\n        this.children = [];\n        this.cssStyle = {};\n    }\n}\n\nclass WmlHeader extends OpenXmlElementBase {\n    constructor() {\n        super(...arguments);\n        this.type = DomType.Header;\n    }\n}\nclass WmlFooter extends OpenXmlElementBase {\n    constructor() {\n        super(...arguments);\n        this.type = DomType.Footer;\n    }\n}\n\nclass BaseHeaderFooterPart extends Part {\n    constructor(pkg, path, parser) {\n        super(pkg, path);\n        this._documentParser = parser;\n    }\n    parseXml(root) {\n        this.rootElement = this.createRootElement();\n        this.rootElement.children = this._documentParser.parseBodyElements(root);\n    }\n}\nclass HeaderPart extends BaseHeaderFooterPart {\n    createRootElement() {\n        return new WmlHeader();\n    }\n}\nclass FooterPart extends BaseHeaderFooterPart {\n    createRootElement() {\n        return new WmlFooter();\n    }\n}\n\nfunction parseExtendedProps(root, xmlParser) {\n    const result = {};\n    for (let el of xmlParser.elements(root)) {\n        switch (el.localName) {\n            case \"Template\":\n                result.template = el.textContent;\n                break;\n            case \"Pages\":\n                result.pages = safeParseToInt(el.textContent);\n                break;\n            case \"Words\":\n                result.words = safeParseToInt(el.textContent);\n                break;\n            case \"Characters\":\n                result.characters = safeParseToInt(el.textContent);\n                break;\n            case \"Application\":\n                result.application = el.textContent;\n                break;\n            case \"Lines\":\n                result.lines = safeParseToInt(el.textContent);\n                break;\n            case \"Paragraphs\":\n                result.paragraphs = safeParseToInt(el.textContent);\n                break;\n            case \"Company\":\n                result.company = el.textContent;\n                break;\n            case \"AppVersion\":\n                result.appVersion = el.textContent;\n                break;\n        }\n    }\n    return result;\n}\nfunction safeParseToInt(value) {\n    if (typeof value === 'undefined')\n        return;\n    return parseInt(value);\n}\n\nclass ExtendedPropsPart extends Part {\n    parseXml(root) {\n        this.props = parseExtendedProps(root, this._package.xmlParser);\n    }\n}\n\nfunction parseCoreProps(root, xmlParser) {\n    const result = {};\n    for (let el of xmlParser.elements(root)) {\n        switch (el.localName) {\n            case \"title\":\n                result.title = el.textContent;\n                break;\n            case \"description\":\n                result.description = el.textContent;\n                break;\n            case \"subject\":\n                result.subject = el.textContent;\n                break;\n            case \"creator\":\n                result.creator = el.textContent;\n                break;\n            case \"keywords\":\n                result.keywords = el.textContent;\n                break;\n            case \"language\":\n                result.language = el.textContent;\n                break;\n            case \"lastModifiedBy\":\n                result.lastModifiedBy = el.textContent;\n                break;\n            case \"revision\":\n                el.textContent && (result.revision = parseInt(el.textContent));\n                break;\n        }\n    }\n    return result;\n}\n\nclass CorePropsPart extends Part {\n    parseXml(root) {\n        this.props = parseCoreProps(root, this._package.xmlParser);\n    }\n}\n\nclass DmlTheme {\n}\nfunction parseTheme(elem, xml) {\n    var result = new DmlTheme();\n    var themeElements = xml.element(elem, \"themeElements\");\n    for (let el of xml.elements(themeElements)) {\n        switch (el.localName) {\n            case \"clrScheme\":\n                result.colorScheme = parseColorScheme(el, xml);\n                break;\n            case \"fontScheme\":\n                result.fontScheme = parseFontScheme(el, xml);\n                break;\n        }\n    }\n    return result;\n}\nfunction parseColorScheme(elem, xml) {\n    var result = {\n        name: xml.attr(elem, \"name\"),\n        colors: {}\n    };\n    for (let el of xml.elements(elem)) {\n        var srgbClr = xml.element(el, \"srgbClr\");\n        var sysClr = xml.element(el, \"sysClr\");\n        if (srgbClr) {\n            result.colors[el.localName] = xml.attr(srgbClr, \"val\");\n        }\n        else if (sysClr) {\n            result.colors[el.localName] = xml.attr(sysClr, \"lastClr\");\n        }\n    }\n    return result;\n}\nfunction parseFontScheme(elem, xml) {\n    var result = {\n        name: xml.attr(elem, \"name\"),\n    };\n    for (let el of xml.elements(elem)) {\n        switch (el.localName) {\n            case \"majorFont\":\n                result.majorFont = parseFontInfo(el, xml);\n                break;\n            case \"minorFont\":\n                result.minorFont = parseFontInfo(el, xml);\n                break;\n        }\n    }\n    return result;\n}\nfunction parseFontInfo(elem, xml) {\n    return {\n        latinTypeface: xml.elementAttr(elem, \"latin\", \"typeface\"),\n        eaTypeface: xml.elementAttr(elem, \"ea\", \"typeface\"),\n        csTypeface: xml.elementAttr(elem, \"cs\", \"typeface\"),\n    };\n}\n\nclass ThemePart extends Part {\n    constructor(pkg, path) {\n        super(pkg, path);\n    }\n    parseXml(root) {\n        this.theme = parseTheme(root, this._package.xmlParser);\n    }\n}\n\nclass WmlBaseNote {\n}\nclass WmlFootnote extends WmlBaseNote {\n    constructor() {\n        super(...arguments);\n        this.type = DomType.Footnote;\n    }\n}\nclass WmlEndnote extends WmlBaseNote {\n    constructor() {\n        super(...arguments);\n        this.type = DomType.Endnote;\n    }\n}\n\nclass BaseNotePart extends Part {\n    constructor(pkg, path, parser) {\n        super(pkg, path);\n        this._documentParser = parser;\n    }\n}\nclass FootnotesPart extends BaseNotePart {\n    constructor(pkg, path, parser) {\n        super(pkg, path, parser);\n    }\n    parseXml(root) {\n        this.notes = this._documentParser.parseNotes(root, \"footnote\", WmlFootnote);\n    }\n}\nclass EndnotesPart extends BaseNotePart {\n    constructor(pkg, path, parser) {\n        super(pkg, path, parser);\n    }\n    parseXml(root) {\n        this.notes = this._documentParser.parseNotes(root, \"endnote\", WmlEndnote);\n    }\n}\n\nfunction parseSettings(elem, xml) {\n    var result = {};\n    for (let el of xml.elements(elem)) {\n        switch (el.localName) {\n            case \"defaultTabStop\":\n                result.defaultTabStop = xml.lengthAttr(el, \"val\");\n                break;\n            case \"footnotePr\":\n                result.footnoteProps = parseNoteProperties(el, xml);\n                break;\n            case \"endnotePr\":\n                result.endnoteProps = parseNoteProperties(el, xml);\n                break;\n            case \"autoHyphenation\":\n                result.autoHyphenation = xml.boolAttr(el, \"val\");\n                break;\n        }\n    }\n    return result;\n}\nfunction parseNoteProperties(elem, xml) {\n    var result = {\n        defaultNoteIds: []\n    };\n    for (let el of xml.elements(elem)) {\n        switch (el.localName) {\n            case \"numFmt\":\n                result.nummeringFormat = xml.attr(el, \"val\");\n                break;\n            case \"footnote\":\n            case \"endnote\":\n                result.defaultNoteIds.push(xml.attr(el, \"id\"));\n                break;\n        }\n    }\n    return result;\n}\n\nclass SettingsPart extends Part {\n    constructor(pkg, path) {\n        super(pkg, path);\n    }\n    parseXml(root) {\n        this.settings = parseSettings(root, this._package.xmlParser);\n    }\n}\n\nfunction parseCustomProps(root, xml) {\n    return xml.elements(root, \"property\").map(e => {\n        const firstChild = e.firstChild;\n        return {\n            formatId: xml.attr(e, \"fmtid\"),\n            name: xml.attr(e, \"name\"),\n            type: firstChild.nodeName,\n            value: firstChild.textContent\n        };\n    });\n}\n\nclass CustomPropsPart extends Part {\n    parseXml(root) {\n        this.props = parseCustomProps(root, this._package.xmlParser);\n    }\n}\n\nclass CommentsPart extends Part {\n    constructor(pkg, path, parser) {\n        super(pkg, path);\n        this._documentParser = parser;\n    }\n    parseXml(root) {\n        this.comments = this._documentParser.parseComments(root);\n        this.commentMap = keyBy(this.comments, x => x.id);\n    }\n}\n\nclass CommentsExtendedPart extends Part {\n    constructor(pkg, path) {\n        super(pkg, path);\n        this.comments = [];\n    }\n    parseXml(root) {\n        const xml = this._package.xmlParser;\n        for (let el of xml.elements(root, \"commentEx\")) {\n            this.comments.push({\n                paraId: xml.attr(el, 'paraId'),\n                paraIdParent: xml.attr(el, 'paraIdParent'),\n                done: xml.boolAttr(el, 'done')\n            });\n        }\n        this.commentMap = keyBy(this.comments, x => x.paraId);\n    }\n}\n\nconst topLevelRels = [\n    { type: RelationshipTypes.OfficeDocument, target: \"word/document.xml\" },\n    { type: RelationshipTypes.ExtendedProperties, target: \"docProps/app.xml\" },\n    { type: RelationshipTypes.CoreProperties, target: \"docProps/core.xml\" },\n    { type: RelationshipTypes.CustomProperties, target: \"docProps/custom.xml\" },\n];\nclass WordDocument {\n    constructor() {\n        this.parts = [];\n        this.partsMap = {};\n    }\n    static async load(blob, parser, options) {\n        var d = new WordDocument();\n        d._options = options;\n        d._parser = parser;\n        d._package = await OpenXmlPackage.load(blob, options);\n        d.rels = await d._package.loadRelationships();\n        await Promise.all(topLevelRels.map(rel => {\n            const r = d.rels.find(x => x.type === rel.type) ?? rel;\n            return d.loadRelationshipPart(r.target, r.type);\n        }));\n        return d;\n    }\n    save(type = \"blob\") {\n        return this._package.save(type);\n    }\n    async loadRelationshipPart(path, type) {\n        if (this.partsMap[path])\n            return this.partsMap[path];\n        if (!this._package.get(path))\n            return null;\n        let part = null;\n        switch (type) {\n            case RelationshipTypes.OfficeDocument:\n                this.documentPart = part = new DocumentPart(this._package, path, this._parser);\n                break;\n            case RelationshipTypes.FontTable:\n                this.fontTablePart = part = new FontTablePart(this._package, path);\n                break;\n            case RelationshipTypes.Numbering:\n                this.numberingPart = part = new NumberingPart(this._package, path, this._parser);\n                break;\n            case RelationshipTypes.Styles:\n                this.stylesPart = part = new StylesPart(this._package, path, this._parser);\n                break;\n            case RelationshipTypes.Theme:\n                this.themePart = part = new ThemePart(this._package, path);\n                break;\n            case RelationshipTypes.Footnotes:\n                this.footnotesPart = part = new FootnotesPart(this._package, path, this._parser);\n                break;\n            case RelationshipTypes.Endnotes:\n                this.endnotesPart = part = new EndnotesPart(this._package, path, this._parser);\n                break;\n            case RelationshipTypes.Footer:\n                part = new FooterPart(this._package, path, this._parser);\n                break;\n            case RelationshipTypes.Header:\n                part = new HeaderPart(this._package, path, this._parser);\n                break;\n            case RelationshipTypes.CoreProperties:\n                this.corePropsPart = part = new CorePropsPart(this._package, path);\n                break;\n            case RelationshipTypes.ExtendedProperties:\n                this.extendedPropsPart = part = new ExtendedPropsPart(this._package, path);\n                break;\n            case RelationshipTypes.CustomProperties:\n                part = new CustomPropsPart(this._package, path);\n                break;\n            case RelationshipTypes.Settings:\n                this.settingsPart = part = new SettingsPart(this._package, path);\n                break;\n            case RelationshipTypes.Comments:\n                this.commentsPart = part = new CommentsPart(this._package, path, this._parser);\n                break;\n            case RelationshipTypes.CommentsExtended:\n                this.commentsExtendedPart = part = new CommentsExtendedPart(this._package, path);\n                break;\n        }\n        if (part == null)\n            return Promise.resolve(null);\n        this.partsMap[path] = part;\n        this.parts.push(part);\n        await part.load();\n        if (part.rels?.length > 0) {\n            const [folder] = splitPath(part.path);\n            await Promise.all(part.rels.map(rel => this.loadRelationshipPart(resolvePath(rel.target, folder), rel.type)));\n        }\n        return part;\n    }\n    async loadDocumentImage(id, part) {\n        const x = await this.loadResource(part ?? this.documentPart, id, \"blob\");\n        return this.blobToURL(x);\n    }\n    async loadNumberingImage(id) {\n        const x = await this.loadResource(this.numberingPart, id, \"blob\");\n        return this.blobToURL(x);\n    }\n    async loadFont(id, key) {\n        const x = await this.loadResource(this.fontTablePart, id, \"uint8array\");\n        return x ? this.blobToURL(new Blob([deobfuscate(x, key)])) : x;\n    }\n    async loadAltChunk(id, part) {\n        return await this.loadResource(part ?? this.documentPart, id, \"string\");\n    }\n    blobToURL(blob) {\n        if (!blob)\n            return null;\n        if (this._options.useBase64URL) {\n            return blobToBase64(blob);\n        }\n        return URL.createObjectURL(blob);\n    }\n    findPartByRelId(id, basePart = null) {\n        var rel = (basePart.rels ?? this.rels).find(r => r.id == id);\n        const folder = basePart ? splitPath(basePart.path)[0] : '';\n        return rel ? this.partsMap[resolvePath(rel.target, folder)] : null;\n    }\n    getPathById(part, id) {\n        const rel = part.rels.find(x => x.id == id);\n        const [folder] = splitPath(part.path);\n        return rel ? resolvePath(rel.target, folder) : null;\n    }\n    loadResource(part, id, outputType) {\n        const path = this.getPathById(part, id);\n        return path ? this._package.load(path, outputType) : Promise.resolve(null);\n    }\n}\nfunction deobfuscate(data, guidKey) {\n    const len = 16;\n    const trimmed = guidKey.replace(/{|}|-/g, \"\");\n    const numbers = new Array(len);\n    for (let i = 0; i < len; i++)\n        numbers[len - i - 1] = parseInt(trimmed.substr(i * 2, 2), 16);\n    for (let i = 0; i < 32; i++)\n        data[i] = data[i] ^ numbers[i % len];\n    return data;\n}\n\nfunction parseBookmarkStart(elem, xml) {\n    return {\n        type: DomType.BookmarkStart,\n        id: xml.attr(elem, \"id\"),\n        name: xml.attr(elem, \"name\"),\n        colFirst: xml.intAttr(elem, \"colFirst\"),\n        colLast: xml.intAttr(elem, \"colLast\")\n    };\n}\nfunction parseBookmarkEnd(elem, xml) {\n    return {\n        type: DomType.BookmarkEnd,\n        id: xml.attr(elem, \"id\")\n    };\n}\n\nclass VmlElement extends OpenXmlElementBase {\n    constructor() {\n        super(...arguments);\n        this.type = DomType.VmlElement;\n        this.attrs = {};\n    }\n}\nfunction parseVmlElement(elem, parser) {\n    var result = new VmlElement();\n    switch (elem.localName) {\n        case \"rect\":\n            result.tagName = \"rect\";\n            Object.assign(result.attrs, { width: '100%', height: '100%' });\n            break;\n        case \"oval\":\n            result.tagName = \"ellipse\";\n            Object.assign(result.attrs, { cx: \"50%\", cy: \"50%\", rx: \"50%\", ry: \"50%\" });\n            break;\n        case \"line\":\n            result.tagName = \"line\";\n            break;\n        case \"shape\":\n            result.tagName = \"g\";\n            break;\n        case \"textbox\":\n            result.tagName = \"foreignObject\";\n            Object.assign(result.attrs, { width: '100%', height: '100%' });\n            break;\n        default:\n            return null;\n    }\n    for (const at of globalXmlParser.attrs(elem)) {\n        switch (at.localName) {\n            case \"style\":\n                result.cssStyleText = at.value;\n                break;\n            case \"fillcolor\":\n                result.attrs.fill = at.value;\n                break;\n            case \"from\":\n                const [x1, y1] = parsePoint(at.value);\n                Object.assign(result.attrs, { x1, y1 });\n                break;\n            case \"to\":\n                const [x2, y2] = parsePoint(at.value);\n                Object.assign(result.attrs, { x2, y2 });\n                break;\n        }\n    }\n    for (const el of globalXmlParser.elements(elem)) {\n        switch (el.localName) {\n            case \"stroke\":\n                Object.assign(result.attrs, parseStroke(el));\n                break;\n            case \"fill\":\n                Object.assign(result.attrs, parseFill());\n                break;\n            case \"imagedata\":\n                result.tagName = \"image\";\n                Object.assign(result.attrs, { width: '100%', height: '100%' });\n                result.imageHref = {\n                    id: globalXmlParser.attr(el, \"id\"),\n                    title: globalXmlParser.attr(el, \"title\"),\n                };\n                break;\n            case \"txbxContent\":\n                result.children.push(...parser.parseBodyElements(el));\n                break;\n            default:\n                const child = parseVmlElement(el, parser);\n                child && result.children.push(child);\n                break;\n        }\n    }\n    return result;\n}\nfunction parseStroke(el) {\n    return {\n        'stroke': globalXmlParser.attr(el, \"color\"),\n        'stroke-width': globalXmlParser.lengthAttr(el, \"weight\", LengthUsage.Emu) ?? '1px'\n    };\n}\nfunction parseFill(el) {\n    return {};\n}\nfunction parsePoint(val) {\n    return val.split(\",\");\n}\n\nclass WmlComment extends OpenXmlElementBase {\n    constructor() {\n        super(...arguments);\n        this.type = DomType.Comment;\n    }\n}\nclass WmlCommentReference extends OpenXmlElementBase {\n    constructor(id) {\n        super();\n        this.id = id;\n        this.type = DomType.CommentReference;\n    }\n}\nclass WmlCommentRangeStart extends OpenXmlElementBase {\n    constructor(id) {\n        super();\n        this.id = id;\n        this.type = DomType.CommentRangeStart;\n    }\n}\nclass WmlCommentRangeEnd extends OpenXmlElementBase {\n    constructor(id) {\n        super();\n        this.id = id;\n        this.type = DomType.CommentRangeEnd;\n    }\n}\n\nvar autos = {\n    shd: \"inherit\",\n    color: \"black\",\n    borderColor: \"black\",\n    highlight: \"transparent\"\n};\nconst supportedNamespaceURIs = [];\nconst mmlTagMap = {\n    \"oMath\": DomType.MmlMath,\n    \"oMathPara\": DomType.MmlMathParagraph,\n    \"f\": DomType.MmlFraction,\n    \"func\": DomType.MmlFunction,\n    \"fName\": DomType.MmlFunctionName,\n    \"num\": DomType.MmlNumerator,\n    \"den\": DomType.MmlDenominator,\n    \"rad\": DomType.MmlRadical,\n    \"deg\": DomType.MmlDegree,\n    \"e\": DomType.MmlBase,\n    \"sSup\": DomType.MmlSuperscript,\n    \"sSub\": DomType.MmlSubscript,\n    \"sPre\": DomType.MmlPreSubSuper,\n    \"sup\": DomType.MmlSuperArgument,\n    \"sub\": DomType.MmlSubArgument,\n    \"d\": DomType.MmlDelimiter,\n    \"nary\": DomType.MmlNary,\n    \"eqArr\": DomType.MmlEquationArray,\n    \"lim\": DomType.MmlLimit,\n    \"limLow\": DomType.MmlLimitLower,\n    \"m\": DomType.MmlMatrix,\n    \"mr\": DomType.MmlMatrixRow,\n    \"box\": DomType.MmlBox,\n    \"bar\": DomType.MmlBar,\n    \"groupChr\": DomType.MmlGroupChar\n};\nclass DocumentParser {\n    constructor(options) {\n        this.options = {\n            ignoreWidth: false,\n            debug: false,\n            ...options\n        };\n    }\n    parseNotes(xmlDoc, elemName, elemClass) {\n        var result = [];\n        for (let el of globalXmlParser.elements(xmlDoc, elemName)) {\n            const node = new elemClass();\n            node.id = globalXmlParser.attr(el, \"id\");\n            node.noteType = globalXmlParser.attr(el, \"type\");\n            node.children = this.parseBodyElements(el);\n            result.push(node);\n        }\n        return result;\n    }\n    parseComments(xmlDoc) {\n        var result = [];\n        for (let el of globalXmlParser.elements(xmlDoc, \"comment\")) {\n            const item = new WmlComment();\n            item.id = globalXmlParser.attr(el, \"id\");\n            item.author = globalXmlParser.attr(el, \"author\");\n            item.initials = globalXmlParser.attr(el, \"initials\");\n            item.date = globalXmlParser.attr(el, \"date\");\n            item.children = this.parseBodyElements(el);\n            result.push(item);\n        }\n        return result;\n    }\n    parseDocumentFile(xmlDoc) {\n        var xbody = globalXmlParser.element(xmlDoc, \"body\");\n        var background = globalXmlParser.element(xmlDoc, \"background\");\n        var sectPr = globalXmlParser.element(xbody, \"sectPr\");\n        return {\n            type: DomType.Document,\n            children: this.parseBodyElements(xbody),\n            props: sectPr ? parseSectionProperties(sectPr, globalXmlParser) : {},\n            cssStyle: background ? this.parseBackground(background) : {},\n        };\n    }\n    parseBackground(elem) {\n        var result = {};\n        var color = xmlUtil.colorAttr(elem, \"color\");\n        if (color) {\n            result[\"background-color\"] = color;\n        }\n        return result;\n    }\n    parseBodyElements(element) {\n        var children = [];\n        for (let elem of globalXmlParser.elements(element)) {\n            switch (elem.localName) {\n                case \"p\":\n                    children.push(this.parseParagraph(elem));\n                    break;\n                case \"altChunk\":\n                    children.push(this.parseAltChunk(elem));\n                    break;\n                case \"tbl\":\n                    children.push(this.parseTable(elem));\n                    break;\n                case \"sdt\":\n                    children.push(...this.parseSdt(elem, e => this.parseBodyElements(e)));\n                    break;\n            }\n        }\n        return children;\n    }\n    parseStylesFile(xstyles) {\n        var result = [];\n        xmlUtil.foreach(xstyles, n => {\n            switch (n.localName) {\n                case \"style\":\n                    result.push(this.parseStyle(n));\n                    break;\n                case \"docDefaults\":\n                    result.push(this.parseDefaultStyles(n));\n                    break;\n            }\n        });\n        return result;\n    }\n    parseDefaultStyles(node) {\n        var result = {\n            id: null,\n            name: null,\n            target: null,\n            basedOn: null,\n            styles: []\n        };\n        xmlUtil.foreach(node, c => {\n            switch (c.localName) {\n                case \"rPrDefault\":\n                    var rPr = globalXmlParser.element(c, \"rPr\");\n                    if (rPr)\n                        result.styles.push({\n                            target: \"span\",\n                            values: this.parseDefaultProperties(rPr, {})\n                        });\n                    break;\n                case \"pPrDefault\":\n                    var pPr = globalXmlParser.element(c, \"pPr\");\n                    if (pPr)\n                        result.styles.push({\n                            target: \"p\",\n                            values: this.parseDefaultProperties(pPr, {})\n                        });\n                    break;\n            }\n        });\n        return result;\n    }\n    parseStyle(node) {\n        var result = {\n            id: globalXmlParser.attr(node, \"styleId\"),\n            isDefault: globalXmlParser.boolAttr(node, \"default\"),\n            name: null,\n            target: null,\n            basedOn: null,\n            styles: [],\n            linked: null\n        };\n        switch (globalXmlParser.attr(node, \"type\")) {\n            case \"paragraph\":\n                result.target = \"p\";\n                break;\n            case \"table\":\n                result.target = \"table\";\n                break;\n            case \"character\":\n                result.target = \"span\";\n                break;\n        }\n        xmlUtil.foreach(node, n => {\n            switch (n.localName) {\n                case \"basedOn\":\n                    result.basedOn = globalXmlParser.attr(n, \"val\");\n                    break;\n                case \"name\":\n                    result.name = globalXmlParser.attr(n, \"val\");\n                    break;\n                case \"link\":\n                    result.linked = globalXmlParser.attr(n, \"val\");\n                    break;\n                case \"next\":\n                    result.next = globalXmlParser.attr(n, \"val\");\n                    break;\n                case \"aliases\":\n                    result.aliases = globalXmlParser.attr(n, \"val\").split(\",\");\n                    break;\n                case \"pPr\":\n                    result.styles.push({\n                        target: \"p\",\n                        values: this.parseDefaultProperties(n, {})\n                    });\n                    result.paragraphProps = parseParagraphProperties(n, globalXmlParser);\n                    break;\n                case \"rPr\":\n                    result.styles.push({\n                        target: \"span\",\n                        values: this.parseDefaultProperties(n, {})\n                    });\n                    result.runProps = parseRunProperties(n, globalXmlParser);\n                    break;\n                case \"tblPr\":\n                case \"tcPr\":\n                    result.styles.push({\n                        target: \"td\",\n                        values: this.parseDefaultProperties(n, {})\n                    });\n                    break;\n                case \"tblStylePr\":\n                    for (let s of this.parseTableStyle(n))\n                        result.styles.push(s);\n                    break;\n                case \"rsid\":\n                case \"qFormat\":\n                case \"hidden\":\n                case \"semiHidden\":\n                case \"unhideWhenUsed\":\n                case \"autoRedefine\":\n                case \"uiPriority\":\n                    break;\n                default:\n                    this.options.debug && console.warn(`DOCX: Unknown style element: ${n.localName}`);\n            }\n        });\n        return result;\n    }\n    parseTableStyle(node) {\n        var result = [];\n        var type = globalXmlParser.attr(node, \"type\");\n        var selector = \"\";\n        var modificator = \"\";\n        switch (type) {\n            case \"firstRow\":\n                modificator = \".first-row\";\n                selector = \"tr.first-row td\";\n                break;\n            case \"lastRow\":\n                modificator = \".last-row\";\n                selector = \"tr.last-row td\";\n                break;\n            case \"firstCol\":\n                modificator = \".first-col\";\n                selector = \"td.first-col\";\n                break;\n            case \"lastCol\":\n                modificator = \".last-col\";\n                selector = \"td.last-col\";\n                break;\n            case \"band1Vert\":\n                modificator = \":not(.no-vband)\";\n                selector = \"td.odd-col\";\n                break;\n            case \"band2Vert\":\n                modificator = \":not(.no-vband)\";\n                selector = \"td.even-col\";\n                break;\n            case \"band1Horz\":\n                modificator = \":not(.no-hband)\";\n                selector = \"tr.odd-row\";\n                break;\n            case \"band2Horz\":\n                modificator = \":not(.no-hband)\";\n                selector = \"tr.even-row\";\n                break;\n            default: return [];\n        }\n        xmlUtil.foreach(node, n => {\n            switch (n.localName) {\n                case \"pPr\":\n                    result.push({\n                        target: `${selector} p`,\n                        mod: modificator,\n                        values: this.parseDefaultProperties(n, {})\n                    });\n                    break;\n                case \"rPr\":\n                    result.push({\n                        target: `${selector} span`,\n                        mod: modificator,\n                        values: this.parseDefaultProperties(n, {})\n                    });\n                    break;\n                case \"tblPr\":\n                case \"tcPr\":\n                    result.push({\n                        target: selector,\n                        mod: modificator,\n                        values: this.parseDefaultProperties(n, {})\n                    });\n                    break;\n            }\n        });\n        return result;\n    }\n    parseNumberingFile(xnums) {\n        var result = [];\n        var mapping = {};\n        var bullets = [];\n        xmlUtil.foreach(xnums, n => {\n            switch (n.localName) {\n                case \"abstractNum\":\n                    this.parseAbstractNumbering(n, bullets)\n                        .forEach(x => result.push(x));\n                    break;\n                case \"numPicBullet\":\n                    bullets.push(this.parseNumberingPicBullet(n));\n                    break;\n                case \"num\":\n                    var numId = globalXmlParser.attr(n, \"numId\");\n                    var abstractNumId = globalXmlParser.elementAttr(n, \"abstractNumId\", \"val\");\n                    mapping[abstractNumId] = numId;\n                    break;\n            }\n        });\n        result.forEach(x => x.id = mapping[x.id]);\n        return result;\n    }\n    parseNumberingPicBullet(elem) {\n        var pict = globalXmlParser.element(elem, \"pict\");\n        var shape = pict && globalXmlParser.element(pict, \"shape\");\n        var imagedata = shape && globalXmlParser.element(shape, \"imagedata\");\n        return imagedata ? {\n            id: globalXmlParser.intAttr(elem, \"numPicBulletId\"),\n            src: globalXmlParser.attr(imagedata, \"id\"),\n            style: globalXmlParser.attr(shape, \"style\")\n        } : null;\n    }\n    parseAbstractNumbering(node, bullets) {\n        var result = [];\n        var id = globalXmlParser.attr(node, \"abstractNumId\");\n        xmlUtil.foreach(node, n => {\n            switch (n.localName) {\n                case \"lvl\":\n                    result.push(this.parseNumberingLevel(id, n, bullets));\n                    break;\n            }\n        });\n        return result;\n    }\n    parseNumberingLevel(id, node, bullets) {\n        var result = {\n            id: id,\n            level: globalXmlParser.intAttr(node, \"ilvl\"),\n            start: 1,\n            pStyleName: undefined,\n            pStyle: {},\n            rStyle: {},\n            suff: \"tab\"\n        };\n        xmlUtil.foreach(node, n => {\n            switch (n.localName) {\n                case \"start\":\n                    result.start = globalXmlParser.intAttr(n, \"val\");\n                    break;\n                case \"pPr\":\n                    this.parseDefaultProperties(n, result.pStyle);\n                    break;\n                case \"rPr\":\n                    this.parseDefaultProperties(n, result.rStyle);\n                    break;\n                case \"lvlPicBulletId\":\n                    var id = globalXmlParser.intAttr(n, \"val\");\n                    result.bullet = bullets.find(x => x?.id == id);\n                    break;\n                case \"lvlText\":\n                    result.levelText = globalXmlParser.attr(n, \"val\");\n                    break;\n                case \"pStyle\":\n                    result.pStyleName = globalXmlParser.attr(n, \"val\");\n                    break;\n                case \"numFmt\":\n                    result.format = globalXmlParser.attr(n, \"val\");\n                    break;\n                case \"suff\":\n                    result.suff = globalXmlParser.attr(n, \"val\");\n                    break;\n            }\n        });\n        return result;\n    }\n    parseSdt(node, parser) {\n        const sdtContent = globalXmlParser.element(node, \"sdtContent\");\n        return sdtContent ? parser(sdtContent) : [];\n    }\n    parseInserted(node, parentParser) {\n        return {\n            type: DomType.Inserted,\n            children: parentParser(node)?.children ?? []\n        };\n    }\n    parseDeleted(node, parentParser) {\n        return {\n            type: DomType.Deleted,\n            children: parentParser(node)?.children ?? []\n        };\n    }\n    parseAltChunk(node) {\n        return { type: DomType.AltChunk, children: [], id: globalXmlParser.attr(node, \"id\") };\n    }\n    parseParagraph(node) {\n        var result = { type: DomType.Paragraph, children: [] };\n        for (let el of globalXmlParser.elements(node)) {\n            switch (el.localName) {\n                case \"pPr\":\n                    this.parseParagraphProperties(el, result);\n                    break;\n                case \"r\":\n                    result.children.push(this.parseRun(el, result));\n                    break;\n                case \"hyperlink\":\n                    result.children.push(this.parseHyperlink(el, result));\n                    break;\n                case \"smartTag\":\n                    result.children.push(this.parseSmartTag(el, result));\n                    break;\n                case \"bookmarkStart\":\n                    result.children.push(parseBookmarkStart(el, globalXmlParser));\n                    break;\n                case \"bookmarkEnd\":\n                    result.children.push(parseBookmarkEnd(el, globalXmlParser));\n                    break;\n                case \"commentRangeStart\":\n                    result.children.push(new WmlCommentRangeStart(globalXmlParser.attr(el, \"id\")));\n                    break;\n                case \"commentRangeEnd\":\n                    result.children.push(new WmlCommentRangeEnd(globalXmlParser.attr(el, \"id\")));\n                    break;\n                case \"oMath\":\n                case \"oMathPara\":\n                    result.children.push(this.parseMathElement(el));\n                    break;\n                case \"sdt\":\n                    result.children.push(...this.parseSdt(el, e => this.parseParagraph(e).children));\n                    break;\n                case \"ins\":\n                    result.children.push(this.parseInserted(el, e => this.parseParagraph(e)));\n                    break;\n                case \"del\":\n                    result.children.push(this.parseDeleted(el, e => this.parseParagraph(e)));\n                    break;\n            }\n        }\n        return result;\n    }\n    parseParagraphProperties(elem, paragraph) {\n        this.parseDefaultProperties(elem, paragraph.cssStyle = {}, null, c => {\n            if (parseParagraphProperty(c, paragraph, globalXmlParser))\n                return true;\n            switch (c.localName) {\n                case \"pStyle\":\n                    paragraph.styleName = globalXmlParser.attr(c, \"val\");\n                    break;\n                case \"cnfStyle\":\n                    paragraph.className = values.classNameOfCnfStyle(c);\n                    break;\n                case \"framePr\":\n                    this.parseFrame(c, paragraph);\n                    break;\n                case \"rPr\":\n                    break;\n                default:\n                    return false;\n            }\n            return true;\n        });\n    }\n    parseFrame(node, paragraph) {\n        var dropCap = globalXmlParser.attr(node, \"dropCap\");\n        if (dropCap == \"drop\")\n            paragraph.cssStyle[\"float\"] = \"left\";\n    }\n    parseHyperlink(node, parent) {\n        var result = { type: DomType.Hyperlink, parent: parent, children: [] };\n        result.anchor = globalXmlParser.attr(node, \"anchor\");\n        result.id = globalXmlParser.attr(node, \"id\");\n        xmlUtil.foreach(node, c => {\n            switch (c.localName) {\n                case \"r\":\n                    result.children.push(this.parseRun(c, result));\n                    break;\n            }\n        });\n        return result;\n    }\n    parseSmartTag(node, parent) {\n        var result = { type: DomType.SmartTag, parent, children: [] };\n        var uri = globalXmlParser.attr(node, \"uri\");\n        var element = globalXmlParser.attr(node, \"element\");\n        if (uri)\n            result.uri = uri;\n        if (element)\n            result.element = element;\n        xmlUtil.foreach(node, c => {\n            switch (c.localName) {\n                case \"r\":\n                    result.children.push(this.parseRun(c, result));\n                    break;\n            }\n        });\n        return result;\n    }\n    parseRun(node, parent) {\n        var result = { type: DomType.Run, parent: parent, children: [] };\n        xmlUtil.foreach(node, c => {\n            c = this.checkAlternateContent(c);\n            switch (c.localName) {\n                case \"t\":\n                    result.children.push({\n                        type: DomType.Text,\n                        text: c.textContent\n                    });\n                    break;\n                case \"delText\":\n                    result.children.push({\n                        type: DomType.DeletedText,\n                        text: c.textContent\n                    });\n                    break;\n                case \"commentReference\":\n                    result.children.push(new WmlCommentReference(globalXmlParser.attr(c, \"id\")));\n                    break;\n                case \"fldSimple\":\n                    result.children.push({\n                        type: DomType.SimpleField,\n                        instruction: globalXmlParser.attr(c, \"instr\"),\n                        lock: globalXmlParser.boolAttr(c, \"lock\", false),\n                        dirty: globalXmlParser.boolAttr(c, \"dirty\", false)\n                    });\n                    break;\n                case \"instrText\":\n                    result.fieldRun = true;\n                    result.children.push({\n                        type: DomType.Instruction,\n                        text: c.textContent\n                    });\n                    break;\n                case \"fldChar\":\n                    result.fieldRun = true;\n                    result.children.push({\n                        type: DomType.ComplexField,\n                        charType: globalXmlParser.attr(c, \"fldCharType\"),\n                        lock: globalXmlParser.boolAttr(c, \"lock\", false),\n                        dirty: globalXmlParser.boolAttr(c, \"dirty\", false)\n                    });\n                    break;\n                case \"noBreakHyphen\":\n                    result.children.push({ type: DomType.NoBreakHyphen });\n                    break;\n                case \"br\":\n                    result.children.push({\n                        type: DomType.Break,\n                        break: globalXmlParser.attr(c, \"type\") || \"textWrapping\"\n                    });\n                    break;\n                case \"lastRenderedPageBreak\":\n                    result.children.push({\n                        type: DomType.Break,\n                        break: \"lastRenderedPageBreak\"\n                    });\n                    break;\n                case \"sym\":\n                    result.children.push({\n                        type: DomType.Symbol,\n                        font: encloseFontFamily(globalXmlParser.attr(c, \"font\")),\n                        char: globalXmlParser.attr(c, \"char\")\n                    });\n                    break;\n                case \"tab\":\n                    result.children.push({ type: DomType.Tab });\n                    break;\n                case \"footnoteReference\":\n                    result.children.push({\n                        type: DomType.FootnoteReference,\n                        id: globalXmlParser.attr(c, \"id\")\n                    });\n                    break;\n                case \"endnoteReference\":\n                    result.children.push({\n                        type: DomType.EndnoteReference,\n                        id: globalXmlParser.attr(c, \"id\")\n                    });\n                    break;\n                case \"drawing\":\n                    let d = this.parseDrawing(c);\n                    if (d)\n                        result.children = [d];\n                    break;\n                case \"pict\":\n                    result.children.push(this.parseVmlPicture(c));\n                    break;\n                case \"rPr\":\n                    this.parseRunProperties(c, result);\n                    break;\n            }\n        });\n        return result;\n    }\n    parseMathElement(elem) {\n        const propsTag = `${elem.localName}Pr`;\n        const result = { type: mmlTagMap[elem.localName], children: [] };\n        for (const el of globalXmlParser.elements(elem)) {\n            const childType = mmlTagMap[el.localName];\n            if (childType) {\n                result.children.push(this.parseMathElement(el));\n            }\n            else if (el.localName == \"r\") {\n                var run = this.parseRun(el);\n                run.type = DomType.MmlRun;\n                result.children.push(run);\n            }\n            else if (el.localName == propsTag) {\n                result.props = this.parseMathProperies(el);\n            }\n        }\n        return result;\n    }\n    parseMathProperies(elem) {\n        const result = {};\n        for (const el of globalXmlParser.elements(elem)) {\n            switch (el.localName) {\n                case \"chr\":\n                    result.char = globalXmlParser.attr(el, \"val\");\n                    break;\n                case \"vertJc\":\n                    result.verticalJustification = globalXmlParser.attr(el, \"val\");\n                    break;\n                case \"pos\":\n                    result.position = globalXmlParser.attr(el, \"val\");\n                    break;\n                case \"degHide\":\n                    result.hideDegree = globalXmlParser.boolAttr(el, \"val\");\n                    break;\n                case \"begChr\":\n                    result.beginChar = globalXmlParser.attr(el, \"val\");\n                    break;\n                case \"endChr\":\n                    result.endChar = globalXmlParser.attr(el, \"val\");\n                    break;\n            }\n        }\n        return result;\n    }\n    parseRunProperties(elem, run) {\n        this.parseDefaultProperties(elem, run.cssStyle = {}, null, c => {\n            switch (c.localName) {\n                case \"rStyle\":\n                    run.styleName = globalXmlParser.attr(c, \"val\");\n                    break;\n                case \"vertAlign\":\n                    run.verticalAlign = values.valueOfVertAlign(c, true);\n                    break;\n                default:\n                    return false;\n            }\n            return true;\n        });\n    }\n    parseVmlPicture(elem) {\n        const result = { type: DomType.VmlPicture, children: [] };\n        for (const el of globalXmlParser.elements(elem)) {\n            const child = parseVmlElement(el, this);\n            child && result.children.push(child);\n        }\n        return result;\n    }\n    checkAlternateContent(elem) {\n        if (elem.localName != 'AlternateContent')\n            return elem;\n        var choice = globalXmlParser.element(elem, \"Choice\");\n        if (choice) {\n            var requires = globalXmlParser.attr(choice, \"Requires\");\n            var namespaceURI = elem.lookupNamespaceURI(requires);\n            if (supportedNamespaceURIs.includes(namespaceURI))\n                return choice.firstElementChild;\n        }\n        return globalXmlParser.element(elem, \"Fallback\")?.firstElementChild;\n    }\n    parseDrawing(node) {\n        for (var n of globalXmlParser.elements(node)) {\n            switch (n.localName) {\n                case \"inline\":\n                case \"anchor\":\n                    return this.parseDrawingWrapper(n);\n            }\n        }\n    }\n    parseDrawingWrapper(node) {\n        var result = { type: DomType.Drawing, children: [], cssStyle: {} };\n        var isAnchor = node.localName == \"anchor\";\n        let wrapType = null;\n        let simplePos = globalXmlParser.boolAttr(node, \"simplePos\");\n        globalXmlParser.boolAttr(node, \"behindDoc\");\n        let posX = { relative: \"page\", align: \"left\", offset: \"0\" };\n        let posY = { relative: \"page\", align: \"top\", offset: \"0\" };\n        for (var n of globalXmlParser.elements(node)) {\n            switch (n.localName) {\n                case \"simplePos\":\n                    if (simplePos) {\n                        posX.offset = globalXmlParser.lengthAttr(n, \"x\", LengthUsage.Emu);\n                        posY.offset = globalXmlParser.lengthAttr(n, \"y\", LengthUsage.Emu);\n                    }\n                    break;\n                case \"extent\":\n                    result.cssStyle[\"width\"] = globalXmlParser.lengthAttr(n, \"cx\", LengthUsage.Emu);\n                    result.cssStyle[\"height\"] = globalXmlParser.lengthAttr(n, \"cy\", LengthUsage.Emu);\n                    break;\n                case \"positionH\":\n                case \"positionV\":\n                    if (!simplePos) {\n                        let pos = n.localName == \"positionH\" ? posX : posY;\n                        var alignNode = globalXmlParser.element(n, \"align\");\n                        var offsetNode = globalXmlParser.element(n, \"posOffset\");\n                        pos.relative = globalXmlParser.attr(n, \"relativeFrom\") ?? pos.relative;\n                        if (alignNode)\n                            pos.align = alignNode.textContent;\n                        if (offsetNode)\n                            pos.offset = xmlUtil.sizeValue(offsetNode, LengthUsage.Emu);\n                    }\n                    break;\n                case \"wrapTopAndBottom\":\n                    wrapType = \"wrapTopAndBottom\";\n                    break;\n                case \"wrapNone\":\n                    wrapType = \"wrapNone\";\n                    break;\n                case \"graphic\":\n                    var g = this.parseGraphic(n);\n                    if (g)\n                        result.children.push(g);\n                    break;\n            }\n        }\n        if (wrapType == \"wrapTopAndBottom\") {\n            result.cssStyle['display'] = 'block';\n            if (posX.align) {\n                result.cssStyle['text-align'] = posX.align;\n                result.cssStyle['width'] = \"100%\";\n            }\n        }\n        else if (wrapType == \"wrapNone\") {\n            result.cssStyle['display'] = 'block';\n            result.cssStyle['position'] = 'relative';\n            result.cssStyle[\"width\"] = \"0px\";\n            result.cssStyle[\"height\"] = \"0px\";\n            if (posX.offset)\n                result.cssStyle[\"left\"] = posX.offset;\n            if (posY.offset)\n                result.cssStyle[\"top\"] = posY.offset;\n        }\n        else if (isAnchor && (posX.align == 'left' || posX.align == 'right')) {\n            result.cssStyle[\"float\"] = posX.align;\n        }\n        return result;\n    }\n    parseGraphic(elem) {\n        var graphicData = globalXmlParser.element(elem, \"graphicData\");\n        for (let n of globalXmlParser.elements(graphicData)) {\n            switch (n.localName) {\n                case \"pic\":\n                    return this.parsePicture(n);\n            }\n        }\n        return null;\n    }\n    parsePicture(elem) {\n        var result = { type: DomType.Image, src: \"\", cssStyle: {} };\n        var blipFill = globalXmlParser.element(elem, \"blipFill\");\n        var blip = globalXmlParser.element(blipFill, \"blip\");\n        result.src = globalXmlParser.attr(blip, \"embed\");\n        var spPr = globalXmlParser.element(elem, \"spPr\");\n        var xfrm = globalXmlParser.element(spPr, \"xfrm\");\n        result.cssStyle[\"position\"] = \"relative\";\n        for (var n of globalXmlParser.elements(xfrm)) {\n            switch (n.localName) {\n                case \"ext\":\n                    result.cssStyle[\"width\"] = globalXmlParser.lengthAttr(n, \"cx\", LengthUsage.Emu);\n                    result.cssStyle[\"height\"] = globalXmlParser.lengthAttr(n, \"cy\", LengthUsage.Emu);\n                    break;\n                case \"off\":\n                    result.cssStyle[\"left\"] = globalXmlParser.lengthAttr(n, \"x\", LengthUsage.Emu);\n                    result.cssStyle[\"top\"] = globalXmlParser.lengthAttr(n, \"y\", LengthUsage.Emu);\n                    break;\n            }\n        }\n        return result;\n    }\n    parseTable(node) {\n        var result = { type: DomType.Table, children: [] };\n        xmlUtil.foreach(node, c => {\n            switch (c.localName) {\n                case \"tr\":\n                    result.children.push(this.parseTableRow(c));\n                    break;\n                case \"tblGrid\":\n                    result.columns = this.parseTableColumns(c);\n                    break;\n                case \"tblPr\":\n                    this.parseTableProperties(c, result);\n                    break;\n            }\n        });\n        return result;\n    }\n    parseTableColumns(node) {\n        var result = [];\n        xmlUtil.foreach(node, n => {\n            switch (n.localName) {\n                case \"gridCol\":\n                    result.push({ width: globalXmlParser.lengthAttr(n, \"w\") });\n                    break;\n            }\n        });\n        return result;\n    }\n    parseTableProperties(elem, table) {\n        table.cssStyle = {};\n        table.cellStyle = {};\n        this.parseDefaultProperties(elem, table.cssStyle, table.cellStyle, c => {\n            switch (c.localName) {\n                case \"tblStyle\":\n                    table.styleName = globalXmlParser.attr(c, \"val\");\n                    break;\n                case \"tblLook\":\n                    table.className = values.classNameOftblLook(c);\n                    break;\n                case \"tblpPr\":\n                    this.parseTablePosition(c, table);\n                    break;\n                case \"tblStyleColBandSize\":\n                    table.colBandSize = globalXmlParser.intAttr(c, \"val\");\n                    break;\n                case \"tblStyleRowBandSize\":\n                    table.rowBandSize = globalXmlParser.intAttr(c, \"val\");\n                    break;\n                default:\n                    return false;\n            }\n            return true;\n        });\n        switch (table.cssStyle[\"text-align\"]) {\n            case \"center\":\n                delete table.cssStyle[\"text-align\"];\n                table.cssStyle[\"margin-left\"] = \"auto\";\n                table.cssStyle[\"margin-right\"] = \"auto\";\n                break;\n            case \"right\":\n                delete table.cssStyle[\"text-align\"];\n                table.cssStyle[\"margin-left\"] = \"auto\";\n                break;\n        }\n    }\n    parseTablePosition(node, table) {\n        var topFromText = globalXmlParser.lengthAttr(node, \"topFromText\");\n        var bottomFromText = globalXmlParser.lengthAttr(node, \"bottomFromText\");\n        var rightFromText = globalXmlParser.lengthAttr(node, \"rightFromText\");\n        var leftFromText = globalXmlParser.lengthAttr(node, \"leftFromText\");\n        table.cssStyle[\"float\"] = 'left';\n        table.cssStyle[\"margin-bottom\"] = values.addSize(table.cssStyle[\"margin-bottom\"], bottomFromText);\n        table.cssStyle[\"margin-left\"] = values.addSize(table.cssStyle[\"margin-left\"], leftFromText);\n        table.cssStyle[\"margin-right\"] = values.addSize(table.cssStyle[\"margin-right\"], rightFromText);\n        table.cssStyle[\"margin-top\"] = values.addSize(table.cssStyle[\"margin-top\"], topFromText);\n    }\n    parseTableRow(node) {\n        var result = { type: DomType.Row, children: [] };\n        xmlUtil.foreach(node, c => {\n            switch (c.localName) {\n                case \"tc\":\n                    result.children.push(this.parseTableCell(c));\n                    break;\n                case \"trPr\":\n                    this.parseTableRowProperties(c, result);\n                    break;\n            }\n        });\n        return result;\n    }\n    parseTableRowProperties(elem, row) {\n        row.cssStyle = this.parseDefaultProperties(elem, {}, null, c => {\n            switch (c.localName) {\n                case \"cnfStyle\":\n                    row.className = values.classNameOfCnfStyle(c);\n                    break;\n                case \"tblHeader\":\n                    row.isHeader = globalXmlParser.boolAttr(c, \"val\");\n                    break;\n                default:\n                    return false;\n            }\n            return true;\n        });\n    }\n    parseTableCell(node) {\n        var result = { type: DomType.Cell, children: [] };\n        xmlUtil.foreach(node, c => {\n            switch (c.localName) {\n                case \"tbl\":\n                    result.children.push(this.parseTable(c));\n                    break;\n                case \"p\":\n                    result.children.push(this.parseParagraph(c));\n                    break;\n                case \"tcPr\":\n                    this.parseTableCellProperties(c, result);\n                    break;\n            }\n        });\n        return result;\n    }\n    parseTableCellProperties(elem, cell) {\n        cell.cssStyle = this.parseDefaultProperties(elem, {}, null, c => {\n            switch (c.localName) {\n                case \"gridSpan\":\n                    cell.span = globalXmlParser.intAttr(c, \"val\", null);\n                    break;\n                case \"vMerge\":\n                    cell.verticalMerge = globalXmlParser.attr(c, \"val\") ?? \"continue\";\n                    break;\n                case \"cnfStyle\":\n                    cell.className = values.classNameOfCnfStyle(c);\n                    break;\n                default:\n                    return false;\n            }\n            return true;\n        });\n        this.parseTableCellVerticalText(elem, cell);\n    }\n    parseTableCellVerticalText(elem, cell) {\n        const directionMap = {\n            \"btLr\": {\n                writingMode: \"vertical-rl\",\n                transform: \"rotate(180deg)\"\n            },\n            \"lrTb\": {\n                writingMode: \"vertical-lr\",\n                transform: \"none\"\n            },\n            \"tbRl\": {\n                writingMode: \"vertical-rl\",\n                transform: \"none\"\n            }\n        };\n        xmlUtil.foreach(elem, c => {\n            if (c.localName === \"textDirection\") {\n                const direction = globalXmlParser.attr(c, \"val\");\n                const style = directionMap[direction] || { writingMode: \"horizontal-tb\" };\n                cell.cssStyle[\"writing-mode\"] = style.writingMode;\n                cell.cssStyle[\"transform\"] = style.transform;\n            }\n        });\n    }\n    parseDefaultProperties(elem, style = null, childStyle = null, handler = null) {\n        style = style || {};\n        xmlUtil.foreach(elem, c => {\n            if (handler?.(c))\n                return;\n            switch (c.localName) {\n                case \"jc\":\n                    style[\"text-align\"] = values.valueOfJc(c);\n                    break;\n                case \"textAlignment\":\n                    style[\"vertical-align\"] = values.valueOfTextAlignment(c);\n                    break;\n                case \"color\":\n                    style[\"color\"] = xmlUtil.colorAttr(c, \"val\", null, autos.color);\n                    break;\n                case \"sz\":\n                    style[\"font-size\"] = style[\"min-height\"] = globalXmlParser.lengthAttr(c, \"val\", LengthUsage.FontSize);\n                    break;\n                case \"shd\":\n                    style[\"background-color\"] = xmlUtil.colorAttr(c, \"fill\", null, autos.shd);\n                    break;\n                case \"highlight\":\n                    style[\"background-color\"] = xmlUtil.colorAttr(c, \"val\", null, autos.highlight);\n                    break;\n                case \"vertAlign\":\n                    break;\n                case \"position\":\n                    style.verticalAlign = globalXmlParser.lengthAttr(c, \"val\", LengthUsage.FontSize);\n                    break;\n                case \"tcW\":\n                    if (this.options.ignoreWidth)\n                        break;\n                case \"tblW\":\n                    style[\"width\"] = values.valueOfSize(c, \"w\");\n                    break;\n                case \"trHeight\":\n                    this.parseTrHeight(c, style);\n                    break;\n                case \"strike\":\n                    style[\"text-decoration\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"line-through\" : \"none\";\n                    break;\n                case \"b\":\n                    style[\"font-weight\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"bold\" : \"normal\";\n                    break;\n                case \"i\":\n                    style[\"font-style\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"italic\" : \"normal\";\n                    break;\n                case \"caps\":\n                    style[\"text-transform\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"uppercase\" : \"none\";\n                    break;\n                case \"smallCaps\":\n                    style[\"font-variant\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"small-caps\" : \"none\";\n                    break;\n                case \"u\":\n                    this.parseUnderline(c, style);\n                    break;\n                case \"ind\":\n                case \"tblInd\":\n                    this.parseIndentation(c, style);\n                    break;\n                case \"rFonts\":\n                    this.parseFont(c, style);\n                    break;\n                case \"tblBorders\":\n                    this.parseBorderProperties(c, childStyle || style);\n                    break;\n                case \"tblCellSpacing\":\n                    style[\"border-spacing\"] = values.valueOfMargin(c);\n                    style[\"border-collapse\"] = \"separate\";\n                    break;\n                case \"pBdr\":\n                    this.parseBorderProperties(c, style);\n                    break;\n                case \"bdr\":\n                    style[\"border\"] = values.valueOfBorder(c);\n                    break;\n                case \"tcBorders\":\n                    this.parseBorderProperties(c, style);\n                    break;\n                case \"vanish\":\n                    if (globalXmlParser.boolAttr(c, \"val\", true))\n                        style[\"display\"] = \"none\";\n                    break;\n                case \"kern\":\n                    break;\n                case \"noWrap\":\n                    break;\n                case \"tblCellMar\":\n                case \"tcMar\":\n                    this.parseMarginProperties(c, childStyle || style);\n                    break;\n                case \"tblLayout\":\n                    style[\"table-layout\"] = values.valueOfTblLayout(c);\n                    break;\n                case \"vAlign\":\n                    style[\"vertical-align\"] = values.valueOfTextAlignment(c);\n                    break;\n                case \"spacing\":\n                    if (elem.localName == \"pPr\")\n                        this.parseSpacing(c, style);\n                    break;\n                case \"wordWrap\":\n                    if (globalXmlParser.boolAttr(c, \"val\"))\n                        style[\"overflow-wrap\"] = \"break-word\";\n                    break;\n                case \"suppressAutoHyphens\":\n                    style[\"hyphens\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"none\" : \"auto\";\n                    break;\n                case \"lang\":\n                    style[\"$lang\"] = globalXmlParser.attr(c, \"val\");\n                    break;\n                case \"bCs\":\n                case \"iCs\":\n                case \"szCs\":\n                case \"tabs\":\n                case \"outlineLvl\":\n                case \"contextualSpacing\":\n                case \"tblStyleColBandSize\":\n                case \"tblStyleRowBandSize\":\n                case \"webHidden\":\n                case \"pageBreakBefore\":\n                case \"suppressLineNumbers\":\n                case \"keepLines\":\n                case \"keepNext\":\n                case \"widowControl\":\n                case \"bidi\":\n                case \"rtl\":\n                case \"noProof\":\n                    break;\n                default:\n                    if (this.options.debug)\n                        console.warn(`DOCX: Unknown document element: ${elem.localName}.${c.localName}`);\n                    break;\n            }\n        });\n        return style;\n    }\n    parseUnderline(node, style) {\n        var val = globalXmlParser.attr(node, \"val\");\n        if (val == null)\n            return;\n        switch (val) {\n            case \"dash\":\n            case \"dashDotDotHeavy\":\n            case \"dashDotHeavy\":\n            case \"dashedHeavy\":\n            case \"dashLong\":\n            case \"dashLongHeavy\":\n            case \"dotDash\":\n            case \"dotDotDash\":\n                style[\"text-decoration\"] = \"underline dashed\";\n                break;\n            case \"dotted\":\n            case \"dottedHeavy\":\n                style[\"text-decoration\"] = \"underline dotted\";\n                break;\n            case \"double\":\n                style[\"text-decoration\"] = \"underline double\";\n                break;\n            case \"single\":\n            case \"thick\":\n                style[\"text-decoration\"] = \"underline\";\n                break;\n            case \"wave\":\n            case \"wavyDouble\":\n            case \"wavyHeavy\":\n                style[\"text-decoration\"] = \"underline wavy\";\n                break;\n            case \"words\":\n                style[\"text-decoration\"] = \"underline\";\n                break;\n            case \"none\":\n                style[\"text-decoration\"] = \"none\";\n                break;\n        }\n        var col = xmlUtil.colorAttr(node, \"color\");\n        if (col)\n            style[\"text-decoration-color\"] = col;\n    }\n    parseFont(node, style) {\n        var ascii = globalXmlParser.attr(node, \"ascii\");\n        var asciiTheme = values.themeValue(node, \"asciiTheme\");\n        var eastAsia = globalXmlParser.attr(node, \"eastAsia\");\n        var fonts = [ascii, asciiTheme, eastAsia].filter(x => x).map(x => encloseFontFamily(x));\n        if (fonts.length > 0)\n            style[\"font-family\"] = [...new Set(fonts)].join(', ');\n    }\n    parseIndentation(node, style) {\n        var firstLine = globalXmlParser.lengthAttr(node, \"firstLine\");\n        var hanging = globalXmlParser.lengthAttr(node, \"hanging\");\n        var left = globalXmlParser.lengthAttr(node, \"left\");\n        var start = globalXmlParser.lengthAttr(node, \"start\");\n        var right = globalXmlParser.lengthAttr(node, \"right\");\n        var end = globalXmlParser.lengthAttr(node, \"end\");\n        if (firstLine)\n            style[\"text-indent\"] = firstLine;\n        if (hanging)\n            style[\"text-indent\"] = `-${hanging}`;\n        if (left || start)\n            style[\"margin-left\"] = left || start;\n        if (right || end)\n            style[\"margin-right\"] = right || end;\n    }\n    parseSpacing(node, style) {\n        var before = globalXmlParser.lengthAttr(node, \"before\");\n        var after = globalXmlParser.lengthAttr(node, \"after\");\n        var line = globalXmlParser.intAttr(node, \"line\", null);\n        var lineRule = globalXmlParser.attr(node, \"lineRule\");\n        if (before)\n            style[\"margin-top\"] = before;\n        if (after)\n            style[\"margin-bottom\"] = after;\n        if (line !== null) {\n            switch (lineRule) {\n                case \"auto\":\n                    style[\"line-height\"] = `${(line / 240).toFixed(2)}`;\n                    break;\n                case \"atLeast\":\n                    style[\"line-height\"] = `calc(100% + ${line / 20}pt)`;\n                    break;\n                default:\n                    style[\"line-height\"] = style[\"min-height\"] = `${line / 20}pt`;\n                    break;\n            }\n        }\n    }\n    parseMarginProperties(node, output) {\n        xmlUtil.foreach(node, c => {\n            switch (c.localName) {\n                case \"left\":\n                    output[\"padding-left\"] = values.valueOfMargin(c);\n                    break;\n                case \"right\":\n                    output[\"padding-right\"] = values.valueOfMargin(c);\n                    break;\n                case \"top\":\n                    output[\"padding-top\"] = values.valueOfMargin(c);\n                    break;\n                case \"bottom\":\n                    output[\"padding-bottom\"] = values.valueOfMargin(c);\n                    break;\n            }\n        });\n    }\n    parseTrHeight(node, output) {\n        switch (globalXmlParser.attr(node, \"hRule\")) {\n            case \"exact\":\n                output[\"height\"] = globalXmlParser.lengthAttr(node, \"val\");\n                break;\n            case \"atLeast\":\n            default:\n                output[\"height\"] = globalXmlParser.lengthAttr(node, \"val\");\n                break;\n        }\n    }\n    parseBorderProperties(node, output) {\n        xmlUtil.foreach(node, c => {\n            switch (c.localName) {\n                case \"start\":\n                case \"left\":\n                    output[\"border-left\"] = values.valueOfBorder(c);\n                    break;\n                case \"end\":\n                case \"right\":\n                    output[\"border-right\"] = values.valueOfBorder(c);\n                    break;\n                case \"top\":\n                    output[\"border-top\"] = values.valueOfBorder(c);\n                    break;\n                case \"bottom\":\n                    output[\"border-bottom\"] = values.valueOfBorder(c);\n                    break;\n            }\n        });\n    }\n}\nconst knownColors = ['black', 'blue', 'cyan', 'darkBlue', 'darkCyan', 'darkGray', 'darkGreen', 'darkMagenta', 'darkRed', 'darkYellow', 'green', 'lightGray', 'magenta', 'none', 'red', 'white', 'yellow'];\nclass xmlUtil {\n    static foreach(node, cb) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n            let n = node.childNodes[i];\n            if (n.nodeType == Node.ELEMENT_NODE)\n                cb(n);\n        }\n    }\n    static colorAttr(node, attrName, defValue = null, autoColor = 'black') {\n        var v = globalXmlParser.attr(node, attrName);\n        if (v) {\n            if (v == \"auto\") {\n                return autoColor;\n            }\n            else if (knownColors.includes(v)) {\n                return v;\n            }\n            return `#${v}`;\n        }\n        var themeColor = globalXmlParser.attr(node, \"themeColor\");\n        return themeColor ? `var(--docx-${themeColor}-color)` : defValue;\n    }\n    static sizeValue(node, type = LengthUsage.Dxa) {\n        return convertLength(node.textContent, type);\n    }\n}\nclass values {\n    static themeValue(c, attr) {\n        var val = globalXmlParser.attr(c, attr);\n        return val ? `var(--docx-${val}-font)` : null;\n    }\n    static valueOfSize(c, attr) {\n        var type = LengthUsage.Dxa;\n        switch (globalXmlParser.attr(c, \"type\")) {\n            case \"dxa\": break;\n            case \"pct\":\n                type = LengthUsage.Percent;\n                break;\n            case \"auto\": return \"auto\";\n        }\n        return globalXmlParser.lengthAttr(c, attr, type);\n    }\n    static valueOfMargin(c) {\n        return globalXmlParser.lengthAttr(c, \"w\");\n    }\n    static valueOfBorder(c) {\n        var type = globalXmlParser.attr(c, \"val\");\n        if (type == \"nil\")\n            return \"none\";\n        var color = xmlUtil.colorAttr(c, \"color\");\n        var size = globalXmlParser.lengthAttr(c, \"sz\", LengthUsage.Border);\n        return `${size} solid ${color == \"auto\" ? autos.borderColor : color}`;\n    }\n    static valueOfTblLayout(c) {\n        var type = globalXmlParser.attr(c, \"val\");\n        return type == \"fixed\" ? \"fixed\" : \"auto\";\n    }\n    static classNameOfCnfStyle(c) {\n        const val = globalXmlParser.attr(c, \"val\");\n        const classes = [\n            'first-row', 'last-row', 'first-col', 'last-col',\n            'odd-col', 'even-col', 'odd-row', 'even-row',\n            'ne-cell', 'nw-cell', 'se-cell', 'sw-cell'\n        ];\n        return classes.filter((_, i) => val[i] == '1').join(' ');\n    }\n    static valueOfJc(c) {\n        var type = globalXmlParser.attr(c, \"val\");\n        switch (type) {\n            case \"start\":\n            case \"left\": return \"left\";\n            case \"center\": return \"center\";\n            case \"end\":\n            case \"right\": return \"right\";\n            case \"both\": return \"justify\";\n        }\n        return type;\n    }\n    static valueOfVertAlign(c, asTagName = false) {\n        var type = globalXmlParser.attr(c, \"val\");\n        switch (type) {\n            case \"subscript\": return \"sub\";\n            case \"superscript\": return asTagName ? \"sup\" : \"super\";\n        }\n        return asTagName ? null : type;\n    }\n    static valueOfTextAlignment(c) {\n        var type = globalXmlParser.attr(c, \"val\");\n        switch (type) {\n            case \"auto\":\n            case \"baseline\": return \"baseline\";\n            case \"top\": return \"top\";\n            case \"center\": return \"middle\";\n            case \"bottom\": return \"bottom\";\n        }\n        return type;\n    }\n    static addSize(a, b) {\n        if (a == null)\n            return b;\n        if (b == null)\n            return a;\n        return `calc(${a} + ${b})`;\n    }\n    static classNameOftblLook(c) {\n        const val = globalXmlParser.hexAttr(c, \"val\", 0);\n        let className = \"\";\n        if (globalXmlParser.boolAttr(c, \"firstRow\") || (val & 0x0020))\n            className += \" first-row\";\n        if (globalXmlParser.boolAttr(c, \"lastRow\") || (val & 0x0040))\n            className += \" last-row\";\n        if (globalXmlParser.boolAttr(c, \"firstColumn\") || (val & 0x0080))\n            className += \" first-col\";\n        if (globalXmlParser.boolAttr(c, \"lastColumn\") || (val & 0x0100))\n            className += \" last-col\";\n        if (globalXmlParser.boolAttr(c, \"noHBand\") || (val & 0x0200))\n            className += \" no-hband\";\n        if (globalXmlParser.boolAttr(c, \"noVBand\") || (val & 0x0400))\n            className += \" no-vband\";\n        return className.trim();\n    }\n}\n\nconst defaultTab = { pos: 0, leader: \"none\", style: \"left\" };\nconst maxTabs = 50;\nfunction computePixelToPoint(container = document.body) {\n    const temp = document.createElement(\"div\");\n    temp.style.width = '100pt';\n    container.appendChild(temp);\n    const result = 100 / temp.offsetWidth;\n    container.removeChild(temp);\n    return result;\n}\nfunction updateTabStop(elem, tabs, defaultTabSize, pixelToPoint = 72 / 96) {\n    const p = elem.closest(\"p\");\n    const ebb = elem.getBoundingClientRect();\n    const pbb = p.getBoundingClientRect();\n    const pcs = getComputedStyle(p);\n    const tabStops = tabs?.length > 0 ? tabs.map(t => ({\n        pos: lengthToPoint(t.position),\n        leader: t.leader,\n        style: t.style\n    })).sort((a, b) => a.pos - b.pos) : [defaultTab];\n    const lastTab = tabStops[tabStops.length - 1];\n    const pWidthPt = pbb.width * pixelToPoint;\n    const size = lengthToPoint(defaultTabSize);\n    let pos = lastTab.pos + size;\n    if (pos < pWidthPt) {\n        for (; pos < pWidthPt && tabStops.length < maxTabs; pos += size) {\n            tabStops.push({ ...defaultTab, pos: pos });\n        }\n    }\n    const marginLeft = parseFloat(pcs.marginLeft);\n    const pOffset = pbb.left + marginLeft;\n    const left = (ebb.left - pOffset) * pixelToPoint;\n    const tab = tabStops.find(t => t.style != \"clear\" && t.pos > left);\n    if (tab == null)\n        return;\n    let width = 1;\n    if (tab.style == \"right\" || tab.style == \"center\") {\n        const tabStops = Array.from(p.querySelectorAll(`.${elem.className}`));\n        const nextIdx = tabStops.indexOf(elem) + 1;\n        const range = document.createRange();\n        range.setStart(elem, 1);\n        if (nextIdx < tabStops.length) {\n            range.setEndBefore(tabStops[nextIdx]);\n        }\n        else {\n            range.setEndAfter(p);\n        }\n        const mul = tab.style == \"center\" ? 0.5 : 1;\n        const nextBB = range.getBoundingClientRect();\n        const offset = nextBB.left + mul * nextBB.width - (pbb.left - marginLeft);\n        width = tab.pos - offset * pixelToPoint;\n    }\n    else {\n        width = tab.pos - left;\n    }\n    elem.innerHTML = \"&nbsp;\";\n    elem.style.textDecoration = \"inherit\";\n    elem.style.wordSpacing = `${width.toFixed(0)}pt`;\n    switch (tab.leader) {\n        case \"dot\":\n        case \"middleDot\":\n            elem.style.textDecoration = \"underline\";\n            elem.style.textDecorationStyle = \"dotted\";\n            break;\n        case \"hyphen\":\n        case \"heavy\":\n        case \"underscore\":\n            elem.style.textDecoration = \"underline\";\n            break;\n    }\n}\nfunction lengthToPoint(length) {\n    return parseFloat(length);\n}\n\nconst ns = {\n    svg: \"http://www.w3.org/2000/svg\",\n    mathML: \"http://www.w3.org/1998/Math/MathML\"\n};\nclass HtmlRenderer {\n    constructor(htmlDocument) {\n        this.htmlDocument = htmlDocument;\n        this.className = \"docx\";\n        this.styleMap = {};\n        this.currentPart = null;\n        this.tableVerticalMerges = [];\n        this.currentVerticalMerge = null;\n        this.tableCellPositions = [];\n        this.currentCellPosition = null;\n        this.footnoteMap = {};\n        this.endnoteMap = {};\n        this.currentEndnoteIds = [];\n        this.usedHederFooterParts = [];\n        this.currentTabs = [];\n        this.commentMap = {};\n        this.tasks = [];\n        this.postRenderTasks = [];\n    }\n    async render(document, bodyContainer, styleContainer = null, options) {\n        this.document = document;\n        this.options = options;\n        this.className = options.className;\n        this.rootSelector = options.inWrapper ? `.${this.className}-wrapper` : ':root';\n        this.styleMap = null;\n        this.tasks = [];\n        if (this.options.renderComments && globalThis.Highlight) {\n            this.commentHighlight = new Highlight();\n        }\n        styleContainer = styleContainer || bodyContainer;\n        removeAllElements(styleContainer);\n        removeAllElements(bodyContainer);\n        styleContainer.appendChild(this.createComment(\"docxjs library predefined styles\"));\n        styleContainer.appendChild(this.renderDefaultStyle());\n        if (document.themePart) {\n            styleContainer.appendChild(this.createComment(\"docxjs document theme values\"));\n            this.renderTheme(document.themePart, styleContainer);\n        }\n        if (document.stylesPart != null) {\n            this.styleMap = this.processStyles(document.stylesPart.styles);\n            styleContainer.appendChild(this.createComment(\"docxjs document styles\"));\n            styleContainer.appendChild(this.renderStyles(document.stylesPart.styles));\n        }\n        if (document.numberingPart) {\n            this.prodessNumberings(document.numberingPart.domNumberings);\n            styleContainer.appendChild(this.createComment(\"docxjs document numbering styles\"));\n            styleContainer.appendChild(this.renderNumbering(document.numberingPart.domNumberings, styleContainer));\n        }\n        if (document.footnotesPart) {\n            this.footnoteMap = keyBy(document.footnotesPart.notes, x => x.id);\n        }\n        if (document.endnotesPart) {\n            this.endnoteMap = keyBy(document.endnotesPart.notes, x => x.id);\n        }\n        if (document.settingsPart) {\n            this.defaultTabSize = document.settingsPart.settings?.defaultTabStop;\n        }\n        if (!options.ignoreFonts && document.fontTablePart)\n            this.renderFontTable(document.fontTablePart, styleContainer);\n        var sectionElements = this.renderSections(document.documentPart.body);\n        if (this.options.inWrapper) {\n            bodyContainer.appendChild(this.renderWrapper(sectionElements));\n        }\n        else {\n            appendChildren(bodyContainer, sectionElements);\n        }\n        if (this.commentHighlight && options.renderComments) {\n            CSS.highlights.set(`${this.className}-comments`, this.commentHighlight);\n        }\n        this.postRenderTasks.forEach(t => t());\n        await Promise.allSettled(this.tasks);\n        this.refreshTabStops();\n    }\n    renderTheme(themePart, styleContainer) {\n        const variables = {};\n        const fontScheme = themePart.theme?.fontScheme;\n        if (fontScheme) {\n            if (fontScheme.majorFont) {\n                variables['--docx-majorHAnsi-font'] = fontScheme.majorFont.latinTypeface;\n            }\n            if (fontScheme.minorFont) {\n                variables['--docx-minorHAnsi-font'] = fontScheme.minorFont.latinTypeface;\n            }\n        }\n        const colorScheme = themePart.theme?.colorScheme;\n        if (colorScheme) {\n            for (let [k, v] of Object.entries(colorScheme.colors)) {\n                variables[`--docx-${k}-color`] = `#${v}`;\n            }\n        }\n        const cssText = this.styleToString(`.${this.className}`, variables);\n        styleContainer.appendChild(this.createStyleElement(cssText));\n    }\n    renderFontTable(fontsPart, styleContainer) {\n        for (let f of fontsPart.fonts) {\n            for (let ref of f.embedFontRefs) {\n                this.tasks.push(this.document.loadFont(ref.id, ref.key).then(fontData => {\n                    const cssValues = {\n                        'font-family': encloseFontFamily(f.name),\n                        'src': `url(${fontData})`\n                    };\n                    if (ref.type == \"bold\" || ref.type == \"boldItalic\") {\n                        cssValues['font-weight'] = 'bold';\n                    }\n                    if (ref.type == \"italic\" || ref.type == \"boldItalic\") {\n                        cssValues['font-style'] = 'italic';\n                    }\n                    const cssText = this.styleToString(\"@font-face\", cssValues);\n                    styleContainer.appendChild(this.createComment(`docxjs ${f.name} font`));\n                    styleContainer.appendChild(this.createStyleElement(cssText));\n                }));\n            }\n        }\n    }\n    processStyleName(className) {\n        return className ? `${this.className}_${escapeClassName(className)}` : this.className;\n    }\n    processStyles(styles) {\n        const stylesMap = keyBy(styles.filter(x => x.id != null), x => x.id);\n        for (const style of styles.filter(x => x.basedOn)) {\n            var baseStyle = stylesMap[style.basedOn];\n            if (baseStyle) {\n                style.paragraphProps = mergeDeep(style.paragraphProps, baseStyle.paragraphProps);\n                style.runProps = mergeDeep(style.runProps, baseStyle.runProps);\n                for (const baseValues of baseStyle.styles) {\n                    const styleValues = style.styles.find(x => x.target == baseValues.target);\n                    if (styleValues) {\n                        this.copyStyleProperties(baseValues.values, styleValues.values);\n                    }\n                    else {\n                        style.styles.push({ ...baseValues, values: { ...baseValues.values } });\n                    }\n                }\n            }\n            else if (this.options.debug)\n                console.warn(`Can't find base style ${style.basedOn}`);\n        }\n        for (let style of styles) {\n            style.cssName = this.processStyleName(style.id);\n        }\n        return stylesMap;\n    }\n    prodessNumberings(numberings) {\n        for (let num of numberings.filter(n => n.pStyleName)) {\n            const style = this.findStyle(num.pStyleName);\n            if (style?.paragraphProps?.numbering) {\n                style.paragraphProps.numbering.level = num.level;\n            }\n        }\n    }\n    processElement(element) {\n        if (element.children) {\n            for (var e of element.children) {\n                e.parent = element;\n                if (e.type == DomType.Table) {\n                    this.processTable(e);\n                }\n                else {\n                    this.processElement(e);\n                }\n            }\n        }\n    }\n    processTable(table) {\n        for (var r of table.children) {\n            for (var c of r.children) {\n                c.cssStyle = this.copyStyleProperties(table.cellStyle, c.cssStyle, [\n                    \"border-left\", \"border-right\", \"border-top\", \"border-bottom\",\n                    \"padding-left\", \"padding-right\", \"padding-top\", \"padding-bottom\"\n                ]);\n                this.processElement(c);\n            }\n        }\n    }\n    copyStyleProperties(input, output, attrs = null) {\n        if (!input)\n            return output;\n        if (output == null)\n            output = {};\n        if (attrs == null)\n            attrs = Object.getOwnPropertyNames(input);\n        for (var key of attrs) {\n            if (input.hasOwnProperty(key) && !output.hasOwnProperty(key))\n                output[key] = input[key];\n        }\n        return output;\n    }\n    createPageElement(className, props) {\n        var elem = this.createElement(\"section\", { className });\n        if (props) {\n            if (props.pageMargins) {\n                elem.style.paddingLeft = props.pageMargins.left;\n                elem.style.paddingRight = props.pageMargins.right;\n                elem.style.paddingTop = props.pageMargins.top;\n                elem.style.paddingBottom = props.pageMargins.bottom;\n            }\n            if (props.pageSize) {\n                if (!this.options.ignoreWidth)\n                    elem.style.width = props.pageSize.width;\n                if (!this.options.ignoreHeight)\n                    elem.style.minHeight = props.pageSize.height;\n            }\n        }\n        return elem;\n    }\n    createSectionContent(props) {\n        var elem = this.createElement(\"article\");\n        if (props.columns && props.columns.numberOfColumns) {\n            elem.style.columnCount = `${props.columns.numberOfColumns}`;\n            elem.style.columnGap = props.columns.space;\n            if (props.columns.separator) {\n                elem.style.columnRule = \"1px solid black\";\n            }\n        }\n        return elem;\n    }\n    renderSections(document) {\n        const result = [];\n        this.processElement(document);\n        const sections = this.splitBySection(document.children, document.props);\n        const pages = this.groupByPageBreaks(sections);\n        let prevProps = null;\n        for (let i = 0, l = pages.length; i < l; i++) {\n            this.currentFootnoteIds = [];\n            const section = pages[i][0];\n            let props = section.sectProps;\n            const pageElement = this.createPageElement(this.className, props);\n            this.renderStyleValues(document.cssStyle, pageElement);\n            this.options.renderHeaders && this.renderHeaderFooter(props.headerRefs, props, result.length, prevProps != props, pageElement);\n            for (const sect of pages[i]) {\n                var contentElement = this.createSectionContent(sect.sectProps);\n                this.renderElements(sect.elements, contentElement);\n                pageElement.appendChild(contentElement);\n                props = sect.sectProps;\n            }\n            if (this.options.renderFootnotes) {\n                this.renderNotes(this.currentFootnoteIds, this.footnoteMap, pageElement);\n            }\n            if (this.options.renderEndnotes && i == l - 1) {\n                this.renderNotes(this.currentEndnoteIds, this.endnoteMap, pageElement);\n            }\n            this.options.renderFooters && this.renderHeaderFooter(props.footerRefs, props, result.length, prevProps != props, pageElement);\n            result.push(pageElement);\n            prevProps = props;\n        }\n        return result;\n    }\n    renderHeaderFooter(refs, props, page, firstOfSection, into) {\n        if (!refs)\n            return;\n        var ref = (props.titlePage && firstOfSection ? refs.find(x => x.type == \"first\") : null)\n            ?? (page % 2 == 1 ? refs.find(x => x.type == \"even\") : null)\n            ?? refs.find(x => x.type == \"default\");\n        var part = ref && this.document.findPartByRelId(ref.id, this.document.documentPart);\n        if (part) {\n            this.currentPart = part;\n            if (!this.usedHederFooterParts.includes(part.path)) {\n                this.processElement(part.rootElement);\n                this.usedHederFooterParts.push(part.path);\n            }\n            const [el] = this.renderElements([part.rootElement], into);\n            if (props?.pageMargins) {\n                if (part.rootElement.type === DomType.Header) {\n                    el.style.marginTop = `calc(${props.pageMargins.header} - ${props.pageMargins.top})`;\n                    el.style.minHeight = `calc(${props.pageMargins.top} - ${props.pageMargins.header})`;\n                }\n                else if (part.rootElement.type === DomType.Footer) {\n                    el.style.marginBottom = `calc(${props.pageMargins.footer} - ${props.pageMargins.bottom})`;\n                    el.style.minHeight = `calc(${props.pageMargins.bottom} - ${props.pageMargins.footer})`;\n                }\n            }\n            this.currentPart = null;\n        }\n    }\n    isPageBreakElement(elem) {\n        if (elem.type != DomType.Break)\n            return false;\n        if (elem.break == \"lastRenderedPageBreak\")\n            return !this.options.ignoreLastRenderedPageBreak;\n        return elem.break == \"page\";\n    }\n    isPageBreakSection(prev, next) {\n        if (!prev)\n            return false;\n        if (!next)\n            return false;\n        return prev.pageSize?.orientation != next.pageSize?.orientation\n            || prev.pageSize?.width != next.pageSize?.width\n            || prev.pageSize?.height != next.pageSize?.height;\n    }\n    splitBySection(elements, defaultProps) {\n        var current = { sectProps: null, elements: [], pageBreak: false };\n        var result = [current];\n        for (let elem of elements) {\n            if (elem.type == DomType.Paragraph) {\n                const s = this.findStyle(elem.styleName);\n                if (s?.paragraphProps?.pageBreakBefore) {\n                    current.sectProps = sectProps;\n                    current.pageBreak = true;\n                    current = { sectProps: null, elements: [], pageBreak: false };\n                    result.push(current);\n                }\n            }\n            current.elements.push(elem);\n            if (elem.type == DomType.Paragraph) {\n                const p = elem;\n                var sectProps = p.sectionProps;\n                var pBreakIndex = -1;\n                var rBreakIndex = -1;\n                if (this.options.breakPages && p.children) {\n                    pBreakIndex = p.children.findIndex(r => {\n                        rBreakIndex = r.children?.findIndex(this.isPageBreakElement.bind(this)) ?? -1;\n                        return rBreakIndex != -1;\n                    });\n                }\n                if (sectProps || pBreakIndex != -1) {\n                    current.sectProps = sectProps;\n                    current.pageBreak = pBreakIndex != -1;\n                    current = { sectProps: null, elements: [], pageBreak: false };\n                    result.push(current);\n                }\n                if (pBreakIndex != -1) {\n                    let breakRun = p.children[pBreakIndex];\n                    let splitRun = rBreakIndex < breakRun.children.length - 1;\n                    if (pBreakIndex < p.children.length - 1 || splitRun) {\n                        var children = elem.children;\n                        var newParagraph = { ...elem, children: children.slice(pBreakIndex) };\n                        elem.children = children.slice(0, pBreakIndex);\n                        current.elements.push(newParagraph);\n                        if (splitRun) {\n                            let runChildren = breakRun.children;\n                            let newRun = { ...breakRun, children: runChildren.slice(0, rBreakIndex) };\n                            elem.children.push(newRun);\n                            breakRun.children = runChildren.slice(rBreakIndex);\n                        }\n                    }\n                }\n            }\n        }\n        let currentSectProps = null;\n        for (let i = result.length - 1; i >= 0; i--) {\n            if (result[i].sectProps == null) {\n                result[i].sectProps = currentSectProps ?? defaultProps;\n            }\n            else {\n                currentSectProps = result[i].sectProps;\n            }\n        }\n        return result;\n    }\n    groupByPageBreaks(sections) {\n        let current = [];\n        let prev;\n        const result = [current];\n        for (let s of sections) {\n            current.push(s);\n            if (this.options.ignoreLastRenderedPageBreak || s.pageBreak || this.isPageBreakSection(prev, s.sectProps))\n                result.push(current = []);\n            prev = s.sectProps;\n        }\n        return result.filter(x => x.length > 0);\n    }\n    renderWrapper(children) {\n        return this.createElement(\"div\", { className: `${this.className}-wrapper` }, children);\n    }\n    renderDefaultStyle() {\n        var c = this.className;\n        var wrapperStyle = `\r\n.${c}-wrapper { background: gray; padding: 30px; padding-bottom: 0px; display: flex; flex-flow: column; align-items: center; } \r\n.${c}-wrapper>section.${c} { background: white; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-bottom: 30px; }`;\n        if (this.options.hideWrapperOnPrint) {\n            wrapperStyle = `@media not print { ${wrapperStyle} }`;\n        }\n        var styleText = `${wrapperStyle}\r\n.${c} { color: black; hyphens: auto; text-underline-position: from-font; }\r\nsection.${c} { box-sizing: border-box; display: flex; flex-flow: column nowrap; position: relative; overflow: hidden; }\r\nsection.${c}>article { margin-bottom: auto; z-index: 1; }\r\nsection.${c}>footer { z-index: 1; }\r\n.${c} table { border-collapse: collapse; }\r\n.${c} table td, .${c} table th { vertical-align: top; }\r\n.${c} p { margin: 0pt; min-height: 1em; }\r\n.${c} span { white-space: pre-wrap; overflow-wrap: break-word; }\r\n.${c} a { color: inherit; text-decoration: inherit; }\r\n.${c} svg { fill: transparent; }\r\n`;\n        if (this.options.renderComments) {\n            styleText += `\r\n.${c}-comment-ref { cursor: default; }\r\n.${c}-comment-popover { display: none; z-index: 1000; padding: 0.5rem; background: white; position: absolute; box-shadow: 0 0 0.25rem rgba(0, 0, 0, 0.25); width: 30ch; }\r\n.${c}-comment-ref:hover~.${c}-comment-popover { display: block; }\r\n.${c}-comment-author,.${c}-comment-date { font-size: 0.875rem; color: #888; }\r\n`;\n        }\n        return this.createStyleElement(styleText);\n    }\n    renderNumbering(numberings, styleContainer) {\n        var styleText = \"\";\n        var resetCounters = [];\n        for (var num of numberings) {\n            var selector = `p.${this.numberingClass(num.id, num.level)}`;\n            var listStyleType = \"none\";\n            if (num.bullet) {\n                let valiable = `--${this.className}-${num.bullet.src}`.toLowerCase();\n                styleText += this.styleToString(`${selector}:before`, {\n                    \"content\": \"' '\",\n                    \"display\": \"inline-block\",\n                    \"background\": `var(${valiable})`\n                }, num.bullet.style);\n                this.tasks.push(this.document.loadNumberingImage(num.bullet.src).then(data => {\n                    var text = `${this.rootSelector} { ${valiable}: url(${data}) }`;\n                    styleContainer.appendChild(this.createStyleElement(text));\n                }));\n            }\n            else if (num.levelText) {\n                let counter = this.numberingCounter(num.id, num.level);\n                const counterReset = counter + \" \" + (num.start - 1);\n                if (num.level > 0) {\n                    styleText += this.styleToString(`p.${this.numberingClass(num.id, num.level - 1)}`, {\n                        \"counter-set\": counterReset\n                    });\n                }\n                resetCounters.push(counterReset);\n                styleText += this.styleToString(`${selector}:before`, {\n                    \"content\": this.levelTextToContent(num.levelText, num.suff, num.id, this.numFormatToCssValue(num.format)),\n                    \"counter-increment\": counter,\n                    ...num.rStyle,\n                });\n            }\n            else {\n                listStyleType = this.numFormatToCssValue(num.format);\n            }\n            styleText += this.styleToString(selector, {\n                \"display\": \"list-item\",\n                \"list-style-position\": \"inside\",\n                \"list-style-type\": listStyleType,\n                ...num.pStyle\n            });\n        }\n        if (resetCounters.length > 0) {\n            styleText += this.styleToString(this.rootSelector, {\n                \"counter-reset\": resetCounters.join(\" \")\n            });\n        }\n        return this.createStyleElement(styleText);\n    }\n    renderStyles(styles) {\n        var styleText = \"\";\n        const stylesMap = this.styleMap;\n        const defautStyles = keyBy(styles.filter(s => s.isDefault), s => s.target);\n        for (const style of styles) {\n            var subStyles = style.styles;\n            if (style.linked) {\n                var linkedStyle = style.linked && stylesMap[style.linked];\n                if (linkedStyle)\n                    subStyles = subStyles.concat(linkedStyle.styles);\n                else if (this.options.debug)\n                    console.warn(`Can't find linked style ${style.linked}`);\n            }\n            for (const subStyle of subStyles) {\n                var selector = `${style.target ?? ''}.${style.cssName}`;\n                if (style.target != subStyle.target)\n                    selector += ` ${subStyle.target}`;\n                if (defautStyles[style.target] == style)\n                    selector = `.${this.className} ${style.target}, ` + selector;\n                styleText += this.styleToString(selector, subStyle.values);\n            }\n        }\n        return this.createStyleElement(styleText);\n    }\n    renderNotes(noteIds, notesMap, into) {\n        var notes = noteIds.map(id => notesMap[id]).filter(x => x);\n        if (notes.length > 0) {\n            var result = this.createElement(\"ol\", null, this.renderElements(notes));\n            into.appendChild(result);\n        }\n    }\n    renderElement(elem) {\n        switch (elem.type) {\n            case DomType.Paragraph:\n                return this.renderParagraph(elem);\n            case DomType.BookmarkStart:\n                return this.renderBookmarkStart(elem);\n            case DomType.BookmarkEnd:\n                return null;\n            case DomType.Run:\n                return this.renderRun(elem);\n            case DomType.Table:\n                return this.renderTable(elem);\n            case DomType.Row:\n                return this.renderTableRow(elem);\n            case DomType.Cell:\n                return this.renderTableCell(elem);\n            case DomType.Hyperlink:\n                return this.renderHyperlink(elem);\n            case DomType.SmartTag:\n                return this.renderSmartTag(elem);\n            case DomType.Drawing:\n                return this.renderDrawing(elem);\n            case DomType.Image:\n                return this.renderImage(elem);\n            case DomType.Text:\n                return this.renderText(elem);\n            case DomType.Text:\n                return this.renderText(elem);\n            case DomType.DeletedText:\n                return this.renderDeletedText(elem);\n            case DomType.Tab:\n                return this.renderTab(elem);\n            case DomType.Symbol:\n                return this.renderSymbol(elem);\n            case DomType.Break:\n                return this.renderBreak(elem);\n            case DomType.Footer:\n                return this.renderContainer(elem, \"footer\");\n            case DomType.Header:\n                return this.renderContainer(elem, \"header\");\n            case DomType.Footnote:\n            case DomType.Endnote:\n                return this.renderContainer(elem, \"li\");\n            case DomType.FootnoteReference:\n                return this.renderFootnoteReference(elem);\n            case DomType.EndnoteReference:\n                return this.renderEndnoteReference(elem);\n            case DomType.NoBreakHyphen:\n                return this.createElement(\"wbr\");\n            case DomType.VmlPicture:\n                return this.renderVmlPicture(elem);\n            case DomType.VmlElement:\n                return this.renderVmlElement(elem);\n            case DomType.MmlMath:\n                return this.renderContainerNS(elem, ns.mathML, \"math\", { xmlns: ns.mathML });\n            case DomType.MmlMathParagraph:\n                return this.renderContainer(elem, \"span\");\n            case DomType.MmlFraction:\n                return this.renderContainerNS(elem, ns.mathML, \"mfrac\");\n            case DomType.MmlBase:\n                return this.renderContainerNS(elem, ns.mathML, elem.parent.type == DomType.MmlMatrixRow ? \"mtd\" : \"mrow\");\n            case DomType.MmlNumerator:\n            case DomType.MmlDenominator:\n            case DomType.MmlFunction:\n            case DomType.MmlLimit:\n            case DomType.MmlBox:\n                return this.renderContainerNS(elem, ns.mathML, \"mrow\");\n            case DomType.MmlGroupChar:\n                return this.renderMmlGroupChar(elem);\n            case DomType.MmlLimitLower:\n                return this.renderContainerNS(elem, ns.mathML, \"munder\");\n            case DomType.MmlMatrix:\n                return this.renderContainerNS(elem, ns.mathML, \"mtable\");\n            case DomType.MmlMatrixRow:\n                return this.renderContainerNS(elem, ns.mathML, \"mtr\");\n            case DomType.MmlRadical:\n                return this.renderMmlRadical(elem);\n            case DomType.MmlSuperscript:\n                return this.renderContainerNS(elem, ns.mathML, \"msup\");\n            case DomType.MmlSubscript:\n                return this.renderContainerNS(elem, ns.mathML, \"msub\");\n            case DomType.MmlDegree:\n            case DomType.MmlSuperArgument:\n            case DomType.MmlSubArgument:\n                return this.renderContainerNS(elem, ns.mathML, \"mn\");\n            case DomType.MmlFunctionName:\n                return this.renderContainerNS(elem, ns.mathML, \"ms\");\n            case DomType.MmlDelimiter:\n                return this.renderMmlDelimiter(elem);\n            case DomType.MmlRun:\n                return this.renderMmlRun(elem);\n            case DomType.MmlNary:\n                return this.renderMmlNary(elem);\n            case DomType.MmlPreSubSuper:\n                return this.renderMmlPreSubSuper(elem);\n            case DomType.MmlBar:\n                return this.renderMmlBar(elem);\n            case DomType.MmlEquationArray:\n                return this.renderMllList(elem);\n            case DomType.Inserted:\n                return this.renderInserted(elem);\n            case DomType.Deleted:\n                return this.renderDeleted(elem);\n            case DomType.CommentRangeStart:\n                return this.renderCommentRangeStart(elem);\n            case DomType.CommentRangeEnd:\n                return this.renderCommentRangeEnd(elem);\n            case DomType.CommentReference:\n                return this.renderCommentReference(elem);\n            case DomType.AltChunk:\n                return this.renderAltChunk(elem);\n        }\n        return null;\n    }\n    renderElements(elems, into) {\n        if (elems == null)\n            return null;\n        var result = elems.flatMap(e => this.renderElement(e)).filter(e => e != null);\n        if (into)\n            appendChildren(into, result);\n        return result;\n    }\n    renderContainer(elem, tagName, props) {\n        return this.createElement(tagName, props, this.renderElements(elem.children));\n    }\n    renderContainerNS(elem, ns, tagName, props) {\n        return this.createElementNS(ns, tagName, props, this.renderElements(elem.children));\n    }\n    renderParagraph(elem) {\n        var result = this.renderContainer(elem, \"p\");\n        const style = this.findStyle(elem.styleName);\n        elem.tabs ?? (elem.tabs = style?.paragraphProps?.tabs);\n        this.renderClass(elem, result);\n        this.renderStyleValues(elem.cssStyle, result);\n        this.renderCommonProperties(result.style, elem);\n        const numbering = elem.numbering ?? style?.paragraphProps?.numbering;\n        if (numbering) {\n            result.classList.add(this.numberingClass(numbering.id, numbering.level));\n        }\n        return result;\n    }\n    renderRunProperties(style, props) {\n        this.renderCommonProperties(style, props);\n    }\n    renderCommonProperties(style, props) {\n        if (props == null)\n            return;\n        if (props.color) {\n            style[\"color\"] = props.color;\n        }\n        if (props.fontSize) {\n            style[\"font-size\"] = props.fontSize;\n        }\n    }\n    renderHyperlink(elem) {\n        var result = this.renderContainer(elem, \"a\");\n        this.renderStyleValues(elem.cssStyle, result);\n        let href = '';\n        if (elem.id) {\n            const rel = this.document.documentPart.rels.find(it => it.id == elem.id && it.targetMode === \"External\");\n            href = rel?.target ?? href;\n        }\n        if (elem.anchor) {\n            href += `#${elem.anchor}`;\n        }\n        result.href = href;\n        return result;\n    }\n    renderSmartTag(elem) {\n        return this.renderContainer(elem, \"span\");\n    }\n    renderCommentRangeStart(commentStart) {\n        if (!this.options.renderComments)\n            return null;\n        const rng = new Range();\n        this.commentHighlight?.add(rng);\n        const result = this.htmlDocument.createComment(`start of comment #${commentStart.id}`);\n        this.later(() => rng.setStart(result, 0));\n        this.commentMap[commentStart.id] = rng;\n        return result;\n    }\n    renderCommentRangeEnd(commentEnd) {\n        if (!this.options.renderComments)\n            return null;\n        const rng = this.commentMap[commentEnd.id];\n        const result = this.htmlDocument.createComment(`end of comment #${commentEnd.id}`);\n        this.later(() => rng?.setEnd(result, 0));\n        return result;\n    }\n    renderCommentReference(commentRef) {\n        if (!this.options.renderComments)\n            return null;\n        var comment = this.document.commentsPart?.commentMap[commentRef.id];\n        if (!comment)\n            return null;\n        const frg = new DocumentFragment();\n        const commentRefEl = this.createElement(\"span\", { className: `${this.className}-comment-ref` }, ['']);\n        const commentsContainerEl = this.createElement(\"div\", { className: `${this.className}-comment-popover` });\n        this.renderCommentContent(comment, commentsContainerEl);\n        frg.appendChild(this.htmlDocument.createComment(`comment #${comment.id} by ${comment.author} on ${comment.date}`));\n        frg.appendChild(commentRefEl);\n        frg.appendChild(commentsContainerEl);\n        return frg;\n    }\n    renderAltChunk(elem) {\n        if (!this.options.renderAltChunks)\n            return null;\n        var result = this.createElement(\"iframe\");\n        this.tasks.push(this.document.loadAltChunk(elem.id, this.currentPart).then(x => {\n            result.srcdoc = x;\n        }));\n        return result;\n    }\n    renderCommentContent(comment, container) {\n        container.appendChild(this.createElement('div', { className: `${this.className}-comment-author` }, [comment.author]));\n        container.appendChild(this.createElement('div', { className: `${this.className}-comment-date` }, [new Date(comment.date).toLocaleString()]));\n        this.renderElements(comment.children, container);\n    }\n    renderDrawing(elem) {\n        var result = this.renderContainer(elem, \"div\");\n        result.style.display = \"inline-block\";\n        result.style.position = \"relative\";\n        result.style.textIndent = \"0px\";\n        this.renderStyleValues(elem.cssStyle, result);\n        return result;\n    }\n    renderImage(elem) {\n        let result = this.createElement(\"img\");\n        this.renderStyleValues(elem.cssStyle, result);\n        if (this.document) {\n            this.tasks.push(this.document.loadDocumentImage(elem.src, this.currentPart).then(x => {\n                result.src = x;\n            }));\n        }\n        return result;\n    }\n    renderText(elem) {\n        return this.htmlDocument.createTextNode(elem.text);\n    }\n    renderDeletedText(elem) {\n        return this.options.renderEndnotes ? this.htmlDocument.createTextNode(elem.text) : null;\n    }\n    renderBreak(elem) {\n        if (elem.break == \"textWrapping\") {\n            return this.createElement(\"br\");\n        }\n        return null;\n    }\n    renderInserted(elem) {\n        if (this.options.renderChanges)\n            return this.renderContainer(elem, \"ins\");\n        return this.renderElements(elem.children);\n    }\n    renderDeleted(elem) {\n        if (this.options.renderChanges)\n            return this.renderContainer(elem, \"del\");\n        return null;\n    }\n    renderSymbol(elem) {\n        var span = this.createElement(\"span\");\n        span.style.fontFamily = elem.font;\n        span.innerHTML = `&#x${elem.char};`;\n        return span;\n    }\n    renderFootnoteReference(elem) {\n        var result = this.createElement(\"sup\");\n        this.currentFootnoteIds.push(elem.id);\n        result.textContent = `${this.currentFootnoteIds.length}`;\n        return result;\n    }\n    renderEndnoteReference(elem) {\n        var result = this.createElement(\"sup\");\n        this.currentEndnoteIds.push(elem.id);\n        result.textContent = `${this.currentEndnoteIds.length}`;\n        return result;\n    }\n    renderTab(elem) {\n        var tabSpan = this.createElement(\"span\");\n        tabSpan.innerHTML = \"&emsp;\";\n        if (this.options.experimental) {\n            tabSpan.className = this.tabStopClass();\n            var stops = findParent(elem, DomType.Paragraph)?.tabs;\n            this.currentTabs.push({ stops, span: tabSpan });\n        }\n        return tabSpan;\n    }\n    renderBookmarkStart(elem) {\n        return this.createElement(\"span\", { id: elem.name });\n    }\n    renderRun(elem) {\n        if (elem.fieldRun)\n            return null;\n        const result = this.createElement(\"span\");\n        if (elem.id)\n            result.id = elem.id;\n        this.renderClass(elem, result);\n        this.renderStyleValues(elem.cssStyle, result);\n        if (elem.verticalAlign) {\n            const wrapper = this.createElement(elem.verticalAlign);\n            this.renderElements(elem.children, wrapper);\n            result.appendChild(wrapper);\n        }\n        else {\n            this.renderElements(elem.children, result);\n        }\n        return result;\n    }\n    renderTable(elem) {\n        let result = this.createElement(\"table\");\n        this.tableCellPositions.push(this.currentCellPosition);\n        this.tableVerticalMerges.push(this.currentVerticalMerge);\n        this.currentVerticalMerge = {};\n        this.currentCellPosition = { col: 0, row: 0 };\n        if (elem.columns)\n            result.appendChild(this.renderTableColumns(elem.columns));\n        this.renderClass(elem, result);\n        this.renderElements(elem.children, result);\n        this.renderStyleValues(elem.cssStyle, result);\n        this.currentVerticalMerge = this.tableVerticalMerges.pop();\n        this.currentCellPosition = this.tableCellPositions.pop();\n        return result;\n    }\n    renderTableColumns(columns) {\n        let result = this.createElement(\"colgroup\");\n        for (let col of columns) {\n            let colElem = this.createElement(\"col\");\n            if (col.width)\n                colElem.style.width = col.width;\n            result.appendChild(colElem);\n        }\n        return result;\n    }\n    renderTableRow(elem) {\n        let result = this.renderContainer(elem, \"tr\");\n        this.currentCellPosition.col = 0;\n        this.renderClass(elem, result);\n        this.renderStyleValues(elem.cssStyle, result);\n        this.currentCellPosition.row++;\n        return result;\n    }\n    renderTableCell(elem) {\n        let result = this.renderContainer(elem, \"td\");\n        const key = this.currentCellPosition.col;\n        if (elem.verticalMerge) {\n            if (elem.verticalMerge == \"restart\") {\n                this.currentVerticalMerge[key] = result;\n                result.rowSpan = 1;\n            }\n            else if (this.currentVerticalMerge[key]) {\n                this.currentVerticalMerge[key].rowSpan += 1;\n                result.style.display = \"none\";\n            }\n        }\n        else {\n            this.currentVerticalMerge[key] = null;\n        }\n        this.renderClass(elem, result);\n        this.renderStyleValues(elem.cssStyle, result);\n        if (elem.span)\n            result.colSpan = elem.span;\n        this.currentCellPosition.col += result.colSpan;\n        return result;\n    }\n    renderVmlPicture(elem) {\n        return this.renderContainer(elem, \"div\");\n    }\n    renderVmlElement(elem) {\n        var container = this.createSvgElement(\"svg\");\n        container.setAttribute(\"style\", elem.cssStyleText);\n        const result = this.renderVmlChildElement(elem);\n        if (elem.imageHref?.id) {\n            this.tasks.push(this.document?.loadDocumentImage(elem.imageHref.id, this.currentPart)\n                .then(x => result.setAttribute(\"href\", x)));\n        }\n        container.appendChild(result);\n        requestAnimationFrame(() => {\n            const bb = container.firstElementChild.getBBox();\n            container.setAttribute(\"width\", `${Math.ceil(bb.x + bb.width)}`);\n            container.setAttribute(\"height\", `${Math.ceil(bb.y + bb.height)}`);\n        });\n        return container;\n    }\n    renderVmlChildElement(elem) {\n        const result = this.createSvgElement(elem.tagName);\n        Object.entries(elem.attrs).forEach(([k, v]) => result.setAttribute(k, v));\n        for (let child of elem.children) {\n            if (child.type == DomType.VmlElement) {\n                result.appendChild(this.renderVmlChildElement(child));\n            }\n            else {\n                result.appendChild(...asArray(this.renderElement(child)));\n            }\n        }\n        return result;\n    }\n    renderMmlRadical(elem) {\n        const base = elem.children.find(el => el.type == DomType.MmlBase);\n        if (elem.props?.hideDegree) {\n            return this.createElementNS(ns.mathML, \"msqrt\", null, this.renderElements([base]));\n        }\n        const degree = elem.children.find(el => el.type == DomType.MmlDegree);\n        return this.createElementNS(ns.mathML, \"mroot\", null, this.renderElements([base, degree]));\n    }\n    renderMmlDelimiter(elem) {\n        const children = [];\n        children.push(this.createElementNS(ns.mathML, \"mo\", null, [elem.props.beginChar ?? '(']));\n        children.push(...this.renderElements(elem.children));\n        children.push(this.createElementNS(ns.mathML, \"mo\", null, [elem.props.endChar ?? ')']));\n        return this.createElementNS(ns.mathML, \"mrow\", null, children);\n    }\n    renderMmlNary(elem) {\n        const children = [];\n        const grouped = keyBy(elem.children, x => x.type);\n        const sup = grouped[DomType.MmlSuperArgument];\n        const sub = grouped[DomType.MmlSubArgument];\n        const supElem = sup ? this.createElementNS(ns.mathML, \"mo\", null, asArray(this.renderElement(sup))) : null;\n        const subElem = sub ? this.createElementNS(ns.mathML, \"mo\", null, asArray(this.renderElement(sub))) : null;\n        const charElem = this.createElementNS(ns.mathML, \"mo\", null, [elem.props?.char ?? '\\u222B']);\n        if (supElem || subElem) {\n            children.push(this.createElementNS(ns.mathML, \"munderover\", null, [charElem, subElem, supElem]));\n        }\n        else if (supElem) {\n            children.push(this.createElementNS(ns.mathML, \"mover\", null, [charElem, supElem]));\n        }\n        else if (subElem) {\n            children.push(this.createElementNS(ns.mathML, \"munder\", null, [charElem, subElem]));\n        }\n        else {\n            children.push(charElem);\n        }\n        children.push(...this.renderElements(grouped[DomType.MmlBase].children));\n        return this.createElementNS(ns.mathML, \"mrow\", null, children);\n    }\n    renderMmlPreSubSuper(elem) {\n        const children = [];\n        const grouped = keyBy(elem.children, x => x.type);\n        const sup = grouped[DomType.MmlSuperArgument];\n        const sub = grouped[DomType.MmlSubArgument];\n        const supElem = sup ? this.createElementNS(ns.mathML, \"mo\", null, asArray(this.renderElement(sup))) : null;\n        const subElem = sub ? this.createElementNS(ns.mathML, \"mo\", null, asArray(this.renderElement(sub))) : null;\n        const stubElem = this.createElementNS(ns.mathML, \"mo\", null);\n        children.push(this.createElementNS(ns.mathML, \"msubsup\", null, [stubElem, subElem, supElem]));\n        children.push(...this.renderElements(grouped[DomType.MmlBase].children));\n        return this.createElementNS(ns.mathML, \"mrow\", null, children);\n    }\n    renderMmlGroupChar(elem) {\n        const tagName = elem.props.verticalJustification === \"bot\" ? \"mover\" : \"munder\";\n        const result = this.renderContainerNS(elem, ns.mathML, tagName);\n        if (elem.props.char) {\n            result.appendChild(this.createElementNS(ns.mathML, \"mo\", null, [elem.props.char]));\n        }\n        return result;\n    }\n    renderMmlBar(elem) {\n        const result = this.renderContainerNS(elem, ns.mathML, \"mrow\");\n        switch (elem.props.position) {\n            case \"top\":\n                result.style.textDecoration = \"overline\";\n                break;\n            case \"bottom\":\n                result.style.textDecoration = \"underline\";\n                break;\n        }\n        return result;\n    }\n    renderMmlRun(elem) {\n        const result = this.createElementNS(ns.mathML, \"ms\", null, this.renderElements(elem.children));\n        this.renderClass(elem, result);\n        this.renderStyleValues(elem.cssStyle, result);\n        return result;\n    }\n    renderMllList(elem) {\n        const result = this.createElementNS(ns.mathML, \"mtable\");\n        this.renderClass(elem, result);\n        this.renderStyleValues(elem.cssStyle, result);\n        for (let child of this.renderElements(elem.children)) {\n            result.appendChild(this.createElementNS(ns.mathML, \"mtr\", null, [\n                this.createElementNS(ns.mathML, \"mtd\", null, [child])\n            ]));\n        }\n        return result;\n    }\n    renderStyleValues(style, ouput) {\n        for (let k in style) {\n            if (k.startsWith(\"$\")) {\n                ouput.setAttribute(k.slice(1), style[k]);\n            }\n            else {\n                ouput.style[k] = style[k];\n            }\n        }\n    }\n    renderClass(input, ouput) {\n        if (input.className)\n            ouput.className = input.className;\n        if (input.styleName)\n            ouput.classList.add(this.processStyleName(input.styleName));\n    }\n    findStyle(styleName) {\n        return styleName && this.styleMap?.[styleName];\n    }\n    numberingClass(id, lvl) {\n        return `${this.className}-num-${id}-${lvl}`;\n    }\n    tabStopClass() {\n        return `${this.className}-tab-stop`;\n    }\n    styleToString(selectors, values, cssText = null) {\n        let result = `${selectors} {\\r\\n`;\n        for (const key in values) {\n            if (key.startsWith('$'))\n                continue;\n            result += `  ${key}: ${values[key]};\\r\\n`;\n        }\n        if (cssText)\n            result += cssText;\n        return result + \"}\\r\\n\";\n    }\n    numberingCounter(id, lvl) {\n        return `${this.className}-num-${id}-${lvl}`;\n    }\n    levelTextToContent(text, suff, id, numformat) {\n        const suffMap = {\n            \"tab\": \"\\\\9\",\n            \"space\": \"\\\\a0\",\n        };\n        var result = text.replace(/%\\d*/g, s => {\n            let lvl = parseInt(s.substring(1), 10) - 1;\n            return `\"counter(${this.numberingCounter(id, lvl)}, ${numformat})\"`;\n        });\n        return `\"${result}${suffMap[suff] ?? \"\"}\"`;\n    }\n    numFormatToCssValue(format) {\n        var mapping = {\n            none: \"none\",\n            bullet: \"disc\",\n            decimal: \"decimal\",\n            lowerLetter: \"lower-alpha\",\n            upperLetter: \"upper-alpha\",\n            lowerRoman: \"lower-roman\",\n            upperRoman: \"upper-roman\",\n            decimalZero: \"decimal-leading-zero\",\n            aiueo: \"katakana\",\n            aiueoFullWidth: \"katakana\",\n            chineseCounting: \"simp-chinese-informal\",\n            chineseCountingThousand: \"simp-chinese-informal\",\n            chineseLegalSimplified: \"simp-chinese-formal\",\n            chosung: \"hangul-consonant\",\n            ideographDigital: \"cjk-ideographic\",\n            ideographTraditional: \"cjk-heavenly-stem\",\n            ideographLegalTraditional: \"trad-chinese-formal\",\n            ideographZodiac: \"cjk-earthly-branch\",\n            iroha: \"katakana-iroha\",\n            irohaFullWidth: \"katakana-iroha\",\n            japaneseCounting: \"japanese-informal\",\n            japaneseDigitalTenThousand: \"cjk-decimal\",\n            japaneseLegal: \"japanese-formal\",\n            thaiNumbers: \"thai\",\n            koreanCounting: \"korean-hangul-formal\",\n            koreanDigital: \"korean-hangul-formal\",\n            koreanDigital2: \"korean-hanja-informal\",\n            hebrew1: \"hebrew\",\n            hebrew2: \"hebrew\",\n            hindiNumbers: \"devanagari\",\n            ganada: \"hangul\",\n            taiwaneseCounting: \"cjk-ideographic\",\n            taiwaneseCountingThousand: \"cjk-ideographic\",\n            taiwaneseDigital: \"cjk-decimal\",\n        };\n        return mapping[format] ?? format;\n    }\n    refreshTabStops() {\n        if (!this.options.experimental)\n            return;\n        setTimeout(() => {\n            const pixelToPoint = computePixelToPoint();\n            for (let tab of this.currentTabs) {\n                updateTabStop(tab.span, tab.stops, this.defaultTabSize, pixelToPoint);\n            }\n        }, 500);\n    }\n    createElementNS(ns, tagName, props, children) {\n        var result = ns ? this.htmlDocument.createElementNS(ns, tagName) : this.htmlDocument.createElement(tagName);\n        Object.assign(result, props);\n        children && appendChildren(result, children);\n        return result;\n    }\n    createElement(tagName, props, children) {\n        return this.createElementNS(undefined, tagName, props, children);\n    }\n    createSvgElement(tagName, props, children) {\n        return this.createElementNS(ns.svg, tagName, props, children);\n    }\n    createStyleElement(cssText) {\n        return this.createElement(\"style\", { innerHTML: cssText });\n    }\n    createComment(text) {\n        return this.htmlDocument.createComment(text);\n    }\n    later(func) {\n        this.postRenderTasks.push(func);\n    }\n}\nfunction removeAllElements(elem) {\n    elem.innerHTML = '';\n}\nfunction appendChildren(elem, children) {\n    children.forEach(c => elem.appendChild(isString(c) ? document.createTextNode(c) : c));\n}\nfunction findParent(elem, type) {\n    var parent = elem.parent;\n    while (parent != null && parent.type != type)\n        parent = parent.parent;\n    return parent;\n}\n\nconst defaultOptions = {\n    ignoreHeight: false,\n    ignoreWidth: false,\n    ignoreFonts: false,\n    breakPages: true,\n    debug: false,\n    experimental: false,\n    className: \"docx\",\n    inWrapper: true,\n    hideWrapperOnPrint: false,\n    trimXmlDeclaration: true,\n    ignoreLastRenderedPageBreak: true,\n    renderHeaders: true,\n    renderFooters: true,\n    renderFootnotes: true,\n    renderEndnotes: true,\n    useBase64URL: false,\n    renderChanges: false,\n    renderComments: false,\n    renderAltChunks: true\n};\nfunction parseAsync(data, userOptions) {\n    const ops = { ...defaultOptions, ...userOptions };\n    return WordDocument.load(data, new DocumentParser(ops), ops);\n}\nasync function renderDocument(document, bodyContainer, styleContainer, userOptions) {\n    const ops = { ...defaultOptions, ...userOptions };\n    const renderer = new HtmlRenderer(window.document);\n    return await renderer.render(document, bodyContainer, styleContainer, ops);\n}\nasync function renderAsync(data, bodyContainer, styleContainer, userOptions) {\n    const doc = await parseAsync(data, userOptions);\n    await renderDocument(doc, bodyContainer, styleContainer, userOptions);\n    return doc;\n}\n\nexport { defaultOptions, parseAsync, renderAsync, renderDocument };\n//# sourceMappingURL=docx-preview.mjs.map\n","import { renderAsync } from 'docx-preview';\nimport { type FC, useEffect, useRef, useState } from 'react';\n\nimport type { ViewerProps } from '../file-preview';\nimport { DocContainer, DocWrapper } from './StyledComponents';\n\nexport const DocxViewer: FC<ViewerProps> = ({ blob, rotate }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    if (!containerRef.current) return;\n    renderAsync(blob, containerRef.current, undefined, {\n      inWrapper: false,\n    })\n      .then(() => {\n        setLoaded(true);\n      })\n      .catch(error => {\n        console.error('Failed to render DOCX file:', error);\n      });\n  }, [blob]);\n\n  return (\n    <DocWrapper>\n      <DocContainer\n        loaded={loaded}\n        ref={containerRef}\n        style={{ transform: `rotate(${rotate}deg)` }}\n      />\n    </DocWrapper>\n  );\n};\n","/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/ // The require scope\n/******/ var __webpack_require__ = {};\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = globalThis.pdfjsLib = {};\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AbortException: () => (/* reexport */ AbortException),\n  AnnotationEditorLayer: () => (/* reexport */ AnnotationEditorLayer),\n  AnnotationEditorParamsType: () => (/* reexport */ AnnotationEditorParamsType),\n  AnnotationEditorType: () => (/* reexport */ AnnotationEditorType),\n  AnnotationEditorUIManager: () => (/* reexport */ AnnotationEditorUIManager),\n  AnnotationLayer: () => (/* reexport */ AnnotationLayer),\n  AnnotationMode: () => (/* reexport */ AnnotationMode),\n  ColorPicker: () => (/* reexport */ ColorPicker),\n  DOMSVGFactory: () => (/* reexport */ DOMSVGFactory),\n  DrawLayer: () => (/* reexport */ DrawLayer),\n  FeatureTest: () => (/* reexport */ util_FeatureTest),\n  GlobalWorkerOptions: () => (/* reexport */ GlobalWorkerOptions),\n  ImageKind: () => (/* reexport */ util_ImageKind),\n  InvalidPDFException: () => (/* reexport */ InvalidPDFException),\n  MissingPDFException: () => (/* reexport */ MissingPDFException),\n  OPS: () => (/* reexport */ OPS),\n  OutputScale: () => (/* reexport */ OutputScale),\n  PDFDataRangeTransport: () => (/* reexport */ PDFDataRangeTransport),\n  PDFDateString: () => (/* reexport */ PDFDateString),\n  PDFWorker: () => (/* reexport */ PDFWorker),\n  PasswordResponses: () => (/* reexport */ PasswordResponses),\n  PermissionFlag: () => (/* reexport */ PermissionFlag),\n  PixelsPerInch: () => (/* reexport */ PixelsPerInch),\n  RenderingCancelledException: () => (/* reexport */ RenderingCancelledException),\n  TextLayer: () => (/* reexport */ TextLayer),\n  UnexpectedResponseException: () => (/* reexport */ UnexpectedResponseException),\n  Util: () => (/* reexport */ Util),\n  VerbosityLevel: () => (/* reexport */ VerbosityLevel),\n  XfaLayer: () => (/* reexport */ XfaLayer),\n  build: () => (/* reexport */ build),\n  createValidAbsoluteUrl: () => (/* reexport */ createValidAbsoluteUrl),\n  fetchData: () => (/* reexport */ fetchData),\n  getDocument: () => (/* reexport */ getDocument),\n  getFilenameFromUrl: () => (/* reexport */ getFilenameFromUrl),\n  getPdfFilenameFromUrl: () => (/* reexport */ getPdfFilenameFromUrl),\n  getXfaPageViewport: () => (/* reexport */ getXfaPageViewport),\n  isDataScheme: () => (/* reexport */ isDataScheme),\n  isPdfFile: () => (/* reexport */ isPdfFile),\n  noContextMenu: () => (/* reexport */ noContextMenu),\n  normalizeUnicode: () => (/* reexport */ normalizeUnicode),\n  setLayerDimensions: () => (/* reexport */ setLayerDimensions),\n  shadow: () => (/* reexport */ shadow),\n  version: () => (/* reexport */ version)\n});\n\n;// ./src/shared/util.js\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nconst MAX_IMAGE_SIZE_TO_CACHE = 10e6;\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  IS_EDITING: 0x80,\n  OPLIST: 0x100\n};\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15\n};\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_DEFAULT_COLOR: 32,\n  HIGHLIGHT_THICKNESS: 33,\n  HIGHLIGHT_FREE: 34,\n  HIGHLIGHT_SHOW_ALL: 35\n};\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nconst util_ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n  setStrokeTransparent: 92,\n  setFillTransparent: 93\n};\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nlet verbosity = VerbosityLevel.WARNINGS;\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\nfunction getVerbosityLevel() {\n  return verbosity;\n}\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        if (dots?.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch {}\n      }\n    }\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch {}\n  return null;\n}\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nclass util_FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n  static get platform() {\n    if (typeof navigator !== \"undefined\" && typeof navigator?.platform === \"string\") {\n      return shadow(this, \"platform\", {\n        isMac: navigator.platform.includes(\"Mac\"),\n        isWindows: navigator.platform.includes(\"Win\"),\n        isFirefox: typeof navigator?.userAgent === \"string\" && navigator.userAgent.includes(\"Firefox\")\n      });\n    }\n    return shadow(this, \"platform\", {\n      isMac: false,\n      isWindows: false,\n      isFirefox: false\n    });\n  }\n  static get isCSSRoundSupported() {\n    return shadow(this, \"isCSSRoundSupported\", globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\"));\n  }\n}\nconst hexNumbers = Array.from(Array(256).keys(), n => n.toString(16).padStart(2, \"0\"));\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = this.applyTransform(r, m);\n    const p2 = this.applyTransform(r.slice(2, 4), m);\n    const p3 = this.applyTransform([r[0], r[3]], m);\n    const p4 = this.applyTransform([r[2], r[1]], m);\n    return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n  }\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n    if (yLow > yHigh) {\n      return null;\n    }\n    return [xLow, yLow, xHigh, yHigh];\n  }\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, -c / b, minMax);\n      }\n      return;\n    }\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b + sqrtDelta) / a2, minMax);\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b - sqrtDelta) / a2, minMax);\n  }\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    if (minMax) {\n      minMax[0] = Math.min(minMax[0], x0, x3);\n      minMax[1] = Math.min(minMax[1], y0, y3);\n      minMax[2] = Math.max(minMax[2], x0, x3);\n      minMax[3] = Math.max(minMax[3], y0, y3);\n    } else {\n      minMax = [Math.min(x0, x3), Math.min(y0, y3), Math.max(x0, x3), Math.max(y0, y3)];\n    }\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-x0 + 3 * (x1 - x2) + x3), 6 * (x0 - 2 * x1 + x2), 3 * (x1 - x0), minMax);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-y0 + 3 * (y1 - y2) + y3), 6 * (y0 - 2 * y1 + y2), 3 * (y1 - y0), minMax);\n    return minMax;\n  }\n}\nconst PDFStringTranslateTable = (/* unused pure expression or super */ null && ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac]));\nfunction stringToPDFString(str) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (!decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (charCode === 0x1b) {\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getModificationDate(date = new Date()) {\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    NormalizeRegex = /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2));\n}\nfunction getUuid() {\n  if (typeof crypto !== \"undefined\" && typeof crypto?.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues === \"function\") {\n    crypto.getRandomValues(buf);\n  } else {\n    for (let i = 0; i < 32; i++) {\n      buf[i] = Math.floor(Math.random() * 255);\n    }\n  }\n  return bytesToString(buf);\n}\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\nconst FontRenderOps = {\n  BEZIER_CURVE_TO: 0,\n  MOVE_TO: 1,\n  LINE_TO: 2,\n  QUADRATIC_CURVE_TO: 3,\n  RESTORE: 4,\n  SAVE: 5,\n  SCALE: 6,\n  TRANSFORM: 7,\n  TRANSLATE: 8\n};\nfunction toHexUtil(arr) {\n  if (Uint8Array.prototype.toHex) {\n    return arr.toHex();\n  }\n  return Array.from(arr, num => hexNumbers[num]).join(\"\");\n}\nfunction toBase64Util(arr) {\n  if (Uint8Array.prototype.toBase64) {\n    return arr.toBase64();\n  }\n  return btoa(bytesToString(arr));\n}\nfunction fromBase64Util(str) {\n  if (Uint8Array.fromBase64) {\n    return Uint8Array.fromBase64(str);\n  }\n  return stringToBytes(atob(str));\n}\n\n;// ./src/display/display_utils.js\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\nasync function fetchData(url, type = \"text\") {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = type;\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n    request.send(null);\n  });\n}\nclass PageViewport {\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n  get rawDims() {\n    const {\n      viewBox\n    } = this;\n    return shadow(this, \"rawDims\", {\n      pageWidth: viewBox[2] - viewBox[0],\n      pageHeight: viewBox[3] - viewBox[1],\n      pageX: viewBox[0],\n      pageY: viewBox[1]\n    });\n  }\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\nfunction getFilenameFromUrl(url) {\n  [url] = url.split(/[#?]/, 1);\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch {}\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\nclass StatTimer {\n  started = Object.create(null);\n  times = [];\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n    for (const {\n      name\n    } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const {\n      name,\n      start,\n      end\n    } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const {\n      protocol\n    } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch {\n    return false;\n  }\n}\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\nclass PDFDateString {\n  static #regex;\n  static toDateObject(input) {\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n    this.#regex ||= new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    const matches = this.#regex.exec(input);\n    if (!matches) {\n      return null;\n    }\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation\n  });\n}\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [(colorRGB & 0xff0000) >> 16, (colorRGB & 0x00ff00) >> 8, colorRGB & 0x0000ff];\n  }\n  if (color.startsWith(\"rgb(\")) {\n    return color.slice(4, -1).split(\",\").map(x => parseInt(x));\n  }\n  if (color.startsWith(\"rgba(\")) {\n    return color.slice(5, -1).split(\",\").map(x => parseInt(x)).slice(0, 3);\n  }\n  warn(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\nfunction getCurrentTransform(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\nfunction getCurrentTransformInverse(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\nfunction setLayerDimensions(div, viewport, mustFlip = false, mustRotate = true) {\n  if (viewport instanceof PageViewport) {\n    const {\n      pageWidth,\n      pageHeight\n    } = viewport.rawDims;\n    const {\n      style\n    } = div;\n    const useRound = util_FeatureTest.isCSSRoundSupported;\n    const w = `var(--scale-factor) * ${pageWidth}px`,\n      h = `var(--scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(down, ${w}, var(--scale-round-x, 1px))` : `calc(${w})`,\n      heightStr = useRound ? `round(down, ${h}, var(--scale-round-y, 1px))` : `calc(${h})`;\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n  get symmetric() {\n    return this.sx === this.sy;\n  }\n}\n\n;// ./src/display/editor/toolbar.js\n\nclass EditorToolbar {\n  #toolbar = null;\n  #colorPicker = null;\n  #editor;\n  #buttons = null;\n  #altText = null;\n  static #l10nRemove = null;\n  constructor(editor) {\n    this.#editor = editor;\n    EditorToolbar.#l10nRemove ||= Object.freeze({\n      freetext: \"pdfjs-editor-remove-freetext-button\",\n      highlight: \"pdfjs-editor-remove-highlight-button\",\n      ink: \"pdfjs-editor-remove-ink-button\",\n      stamp: \"pdfjs-editor-remove-stamp-button\"\n    });\n  }\n  render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.classList.add(\"editToolbar\", \"hidden\");\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    const signal = this.#editor._uiManager._signal;\n    editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown, {\n      signal\n    });\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const {\n        style\n      } = editToolbar;\n      const x = this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${100 * position[1]}% + var(--editor-toolbar-vert-offset))`;\n    }\n    this.#addDeleteButton();\n    return editToolbar;\n  }\n  get div() {\n    return this.#toolbar;\n  }\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #addListenersToElement(element) {\n    const signal = this.#editor._uiManager._signal;\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n  }\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n    this.#altText?.shown();\n  }\n  #addDeleteButton() {\n    const {\n      editorType,\n      _uiManager\n    } = this.#editor;\n    const button = document.createElement(\"button\");\n    button.className = \"delete\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", EditorToolbar.#l10nRemove[editorType]);\n    this.#addListenersToElement(button);\n    button.addEventListener(\"click\", e => {\n      _uiManager.delete();\n    }, {\n      signal: _uiManager._signal\n    });\n    this.#buttons.append(button);\n  }\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n  async addAltText(altText) {\n    const button = await altText.render();\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n    this.#altText = altText;\n  }\n  addColorPicker(colorPicker) {\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\nclass HighlightToolbar {\n  #buttons = null;\n  #toolbar = null;\n  #uiManager;\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n  #render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n      signal: this.#uiManager._signal\n    });\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    this.#addHighlightButton();\n    return editToolbar;\n  }\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const {\n      style\n    } = this.#toolbar ||= this.#render();\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n  hide() {\n    this.#toolbar.remove();\n  }\n  #addHighlightButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"highlightButton\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-highlight-floating-button1`);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", \"pdfjs-highlight-floating-button-label\");\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    button.addEventListener(\"click\", () => {\n      this.#uiManager.highlightSelection(\"floating_button\");\n    }, {\n      signal\n    });\n    this.#buttons.append(button);\n  }\n}\n\n;// ./src/display/editor/tools.js\n\n\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\nfunction opacityToHex(opacity) {\n  return Math.round(Math.min(255, Math.max(1, 255 * opacity))).toString(16).padStart(2, \"0\");\n}\nclass IdManager {\n  #id = 0;\n  get id() {\n    return `${AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\nclass ImageManager {\n  #baseId = getUuid();\n  #id = 0;\n  #cache = null;\n  static get _isSVGFittingCanvas() {\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n    return shadow(this, \"_isSVGFittingCanvas\", promise);\n  }\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await fetchData(rawData, \"blob\");\n      } else if (rawData instanceof File) {\n        image = data.file = rawData;\n      } else if (rawData instanceof Blob) {\n        image = rawData;\n      }\n      if (image.type === \"image/svg+xml\") {\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = data.svgUrl = fileReader.result;\n            imageElement.src = (await mustRemoveAspectRatioPromise) ? `${url}#svgView(preserveAspectRatio(none))` : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      console.error(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n  async getFromFile(file) {\n    const {\n      lastModified,\n      name,\n      size,\n      type\n    } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n  async getFromBlob(id, blobPromise) {\n    const blob = await blobPromise;\n    return this.#get(id, blob);\n  }\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    if (data.blobPromise) {\n      const {\n        blobPromise\n      } = data;\n      delete data.blobPromise;\n      return this.getFromBlob(data.id, blobPromise);\n    }\n    return this.getFromUrl(data.url);\n  }\n  getFromCanvas(id, canvas) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(id);\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    const offscreen = new OffscreenCanvas(canvas.width, canvas.height);\n    const ctx = offscreen.getContext(\"2d\");\n    ctx.drawImage(canvas, 0, 0);\n    data = {\n      bitmap: offscreen.transferToImageBitmap(),\n      id: `image_${this.#baseId}_${this.#id++}`,\n      refCounter: 1,\n      isSvg: false\n    };\n    this.#cache.set(id, data);\n    this.#cache.set(data.id, data);\n    return data;\n  }\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    const {\n      bitmap\n    } = data;\n    if (!data.url && !data.file) {\n      const canvas = new OffscreenCanvas(bitmap.width, bitmap.height);\n      const ctx = canvas.getContext(\"bitmaprenderer\");\n      ctx.transferFromImageBitmap(bitmap);\n      data.blobPromise = canvas.convertToBlob();\n    }\n    bitmap.close?.();\n    data.bitmap = null;\n  }\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\nclass CommandManager {\n  #commands = [];\n  #locked = false;\n  #maxSize;\n  #position = -1;\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n    if (this.#locked) {\n      return;\n    }\n    const save = {\n      cmd,\n      undo,\n      post,\n      type\n    };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n    this.#commands.push(save);\n  }\n  undo() {\n    if (this.#position === -1) {\n      return;\n    }\n    this.#locked = true;\n    const {\n      undo,\n      post\n    } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n    this.#position -= 1;\n  }\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n      this.#locked = true;\n      const {\n        cmd,\n        post\n      } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n  destroy() {\n    this.#commands = null;\n  }\n}\nclass KeyboardManager {\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n    return str;\n  }\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: {\n        bubbles = false,\n        args = [],\n        checker = null\n      }\n    } = info;\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n    if (!bubbles) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n}\nclass ColorManager {\n  static _colorsMapping = new Map([[\"CanvasText\", [0, 0, 0]], [\"Canvas\", [255, 255, 255]]]);\n  get _colors() {\n    const colors = new Map([[\"CanvasText\", null], [\"Canvas\", null]]);\n    getColorValues(colors);\n    return shadow(this, \"_colors\", colors);\n  }\n  convert(color) {\n    const rgb = getRGB(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return Util.makeHexColor(...rgb);\n  }\n}\nclass AnnotationEditorUIManager {\n  #abortController = new AbortController();\n  #activeEditor = null;\n  #allEditors = new Map();\n  #allLayers = new Map();\n  #altTextManager = null;\n  #annotationStorage = null;\n  #changedExistingAnnotations = null;\n  #commandManager = new CommandManager();\n  #copyPasteAC = null;\n  #currentPageIndex = 0;\n  #deletedAnnotationsElementIds = new Set();\n  #draggingEditors = null;\n  #editorTypes = null;\n  #editorsToRescale = new Set();\n  #enableHighlightFloatingButton = false;\n  #enableUpdatedAddImage = false;\n  #enableNewAltTextWhenAddingImage = false;\n  #filterFactory = null;\n  #focusMainContainerTimeoutId = null;\n  #focusManagerAC = null;\n  #highlightColors = null;\n  #highlightWhenShiftUp = false;\n  #highlightToolbar = null;\n  #idManager = new IdManager();\n  #isEnabled = false;\n  #isWaiting = false;\n  #keyboardManagerAC = null;\n  #lastActiveElement = null;\n  #mainHighlightColorPicker = null;\n  #mlManager = null;\n  #mode = AnnotationEditorType.NONE;\n  #selectedEditors = new Set();\n  #selectedTextNode = null;\n  #pageColors = null;\n  #showAllStates = null;\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false\n  };\n  #translation = [0, 0];\n  #translationTimeoutId = null;\n  #container = null;\n  #viewer = null;\n  #updateModeCapability = null;\n  static TRANSLATE_SMALL = 1;\n  static TRANSLATE_BIG = 10;\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n    const arrowChecker = self => self.#container.contains(document.activeElement) && document.activeElement.tagName !== \"BUTTON\" && self.hasSomethingToControl();\n    const textInputChecker = (_self, {\n      target: el\n    }) => {\n      if (el instanceof HTMLInputElement) {\n        const {\n          type\n        } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll, {\n      checker: textInputChecker\n    }], [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, {\n      checker: textInputChecker\n    }], [[\"ctrl+y\", \"ctrl+shift+z\", \"mac+meta+shift+z\", \"ctrl+shift+Z\", \"mac+meta+shift+Z\"], proto.redo, {\n      checker: textInputChecker\n    }], [[\"Backspace\", \"alt+Backspace\", \"ctrl+Backspace\", \"shift+Backspace\", \"mac+Backspace\", \"mac+alt+Backspace\", \"mac+ctrl+Backspace\", \"Delete\", \"ctrl+Delete\", \"shift+Delete\", \"mac+Delete\"], proto.delete, {\n      checker: textInputChecker\n    }], [[\"Enter\", \"mac+Enter\"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(el) && !self.isEnterHandled\n    }], [[\" \", \"mac+ \"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(document.activeElement)\n    }], [[\"Escape\", \"mac+Escape\"], proto.unselectAll], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  constructor(container, viewer, altTextManager, eventBus, pdfDocument, pageColors, highlightColors, enableHighlightFloatingButton, enableUpdatedAddImage, enableNewAltTextWhenAddingImage, mlManager) {\n    const signal = this._signal = this.#abortController.signal;\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#altTextManager = altTextManager;\n    this._eventBus = eventBus;\n    eventBus._on(\"editingaction\", this.onEditingAction.bind(this), {\n      signal\n    });\n    eventBus._on(\"pagechanging\", this.onPageChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"scalechanging\", this.onScaleChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"rotationchanging\", this.onRotationChanging.bind(this), {\n      signal\n    });\n    eventBus._on(\"setpreference\", this.onSetPreference.bind(this), {\n      signal\n    });\n    eventBus._on(\"switchannotationeditorparams\", evt => this.updateParams(evt.type, evt.value), {\n      signal\n    });\n    this.#addSelectionListener();\n    this.#addDragAndDropListeners();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#enableUpdatedAddImage = enableUpdatedAddImage;\n    this.#enableNewAltTextWhenAddingImage = enableNewAltTextWhenAddingImage;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0\n    };\n    this.isShiftKeyDown = false;\n  }\n  destroy() {\n    this.#updateModeCapability?.resolve();\n    this.#updateModeCapability = null;\n    this.#abortController?.abort();\n    this.#abortController = null;\n    this._signal = null;\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#highlightToolbar?.hide();\n    this.#highlightToolbar = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n  }\n  combinedSignal(ac) {\n    return AbortSignal.any([this._signal, ac.signal]);\n  }\n  get mlManager() {\n    return this.#mlManager;\n  }\n  get useNewAltTextFlow() {\n    return this.#enableUpdatedAddImage;\n  }\n  get useNewAltTextWhenAddingImage() {\n    return this.#enableNewAltTextWhenAddingImage;\n  }\n  get hcmFilter() {\n    return shadow(this, \"hcmFilter\", this.#pageColors ? this.#filterFactory.addHCMFilter(this.#pageColors.foreground, this.#pageColors.background) : \"none\");\n  }\n  get direction() {\n    return shadow(this, \"direction\", getComputedStyle(this.#container).direction);\n  }\n  get highlightColors() {\n    return shadow(this, \"highlightColors\", this.#highlightColors ? new Map(this.#highlightColors.split(\",\").map(pair => pair.split(\"=\").map(x => x.trim()))) : null);\n  }\n  get highlightColorNames() {\n    return shadow(this, \"highlightColorNames\", this.highlightColors ? new Map(Array.from(this.highlightColors, e => e.reverse())) : null);\n  }\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n  editAltText(editor, firstTime = false) {\n    this.#altTextManager?.editAltText(this, editor, firstTime);\n  }\n  switchToMode(mode, callback) {\n    this._eventBus.on(\"annotationeditormodechanged\", callback, {\n      once: true,\n      signal: this._signal\n    });\n    this._eventBus.dispatch(\"showannotationeditorui\", {\n      source: this,\n      mode\n    });\n  }\n  setPreference(name, value) {\n    this._eventBus.dispatch(\"setpreference\", {\n      source: this,\n      name,\n      value\n    });\n  }\n  onSetPreference({\n    name,\n    value\n  }) {\n    switch (name) {\n      case \"enableNewAltTextWhenAddingImage\":\n        this.#enableNewAltTextWhenAddingImage = value;\n        break;\n    }\n  }\n  onPageChanging({\n    pageNumber\n  }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n  focusMainContainer() {\n    this.#container.focus();\n  }\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height\n      } = layer.div.getBoundingClientRect();\n      if (x >= layerX && x <= layerX + width && y >= layerY && y <= layerY + height) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n  onScaleChanging({\n    scale\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n  }\n  onRotationChanging({\n    pagesRotation\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n  #getAnchorElementForSelection({\n    anchorNode\n  }) {\n    return anchorNode.nodeType === Node.TEXT_NODE ? anchorNode.parentElement : anchorNode;\n  }\n  #getLayerForTextLayer(textLayer) {\n    const {\n      currentLayer\n    } = this;\n    if (currentLayer.hasTextLayer(textLayer)) {\n      return currentLayer;\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  highlightSelection(methodOfCreation = \"\") {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const {\n      anchorNode,\n      anchorOffset,\n      focusNode,\n      focusOffset\n    } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n    const layer = this.#getLayerForTextLayer(textLayer);\n    const isNoneMode = this.#mode === AnnotationEditorType.NONE;\n    const callback = () => {\n      layer?.createAndAddNewEditor({\n        x: 0,\n        y: 0\n      }, false, {\n        methodOfCreation,\n        boxes,\n        anchorNode,\n        anchorOffset,\n        focusNode,\n        focusOffset,\n        text\n      });\n      if (isNoneMode) {\n        this.showAllEditors(\"highlight\", true, true);\n      }\n    };\n    if (isNoneMode) {\n      this.switchToMode(AnnotationEditorType.HIGHLIGHT, callback);\n      return;\n    }\n    callback();\n  }\n  #displayHighlightToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#highlightToolbar ||= new HighlightToolbar(this);\n    this.#highlightToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n  addToAnnotationStorage(editor) {\n    if (!editor.isEmpty() && this.#annotationStorage && !this.#annotationStorage.has(editor.id)) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    const {\n      anchorNode\n    } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    this.#highlightToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true\n    });\n    if (this.#mode !== AnnotationEditorType.HIGHLIGHT && this.#mode !== AnnotationEditorType.NONE) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const activeLayer = this.#mode === AnnotationEditorType.HIGHLIGHT ? this.#getLayerForTextLayer(textLayer) : null;\n      activeLayer?.toggleDrawing();\n      const ac = new AbortController();\n      const signal = this.combinedSignal(ac);\n      const pointerup = e => {\n        if (e.type === \"pointerup\" && e.button !== 0) {\n          return;\n        }\n        ac.abort();\n        activeLayer?.toggleDrawing(true);\n        if (e.type === \"pointerup\") {\n          this.#onSelectEnd(\"main_toolbar\");\n        }\n      };\n      window.addEventListener(\"pointerup\", pointerup, {\n        signal\n      });\n      window.addEventListener(\"blur\", pointerup, {\n        signal\n      });\n    }\n  }\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayHighlightToolbar();\n    }\n  }\n  #addSelectionListener() {\n    document.addEventListener(\"selectionchange\", this.#selectionChange.bind(this), {\n      signal: this._signal\n    });\n  }\n  #addFocusManager() {\n    if (this.#focusManagerAC) {\n      return;\n    }\n    this.#focusManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#focusManagerAC);\n    window.addEventListener(\"focus\", this.focus.bind(this), {\n      signal\n    });\n    window.addEventListener(\"blur\", this.blur.bind(this), {\n      signal\n    });\n  }\n  #removeFocusManager() {\n    this.#focusManagerAC?.abort();\n    this.#focusManagerAC = null;\n  }\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\"focusin\", () => {\n      lastEditor._focusEventsAllowed = true;\n    }, {\n      once: true,\n      signal: this._signal\n    });\n    lastActiveElement.focus();\n  }\n  #addKeyboardManager() {\n    if (this.#keyboardManagerAC) {\n      return;\n    }\n    this.#keyboardManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#keyboardManagerAC);\n    window.addEventListener(\"keydown\", this.keydown.bind(this), {\n      signal\n    });\n    window.addEventListener(\"keyup\", this.keyup.bind(this), {\n      signal\n    });\n  }\n  #removeKeyboardManager() {\n    this.#keyboardManagerAC?.abort();\n    this.#keyboardManagerAC = null;\n  }\n  #addCopyPasteListeners() {\n    if (this.#copyPasteAC) {\n      return;\n    }\n    this.#copyPasteAC = new AbortController();\n    const signal = this.combinedSignal(this.#copyPasteAC);\n    document.addEventListener(\"copy\", this.copy.bind(this), {\n      signal\n    });\n    document.addEventListener(\"cut\", this.cut.bind(this), {\n      signal\n    });\n    document.addEventListener(\"paste\", this.paste.bind(this), {\n      signal\n    });\n  }\n  #removeCopyPasteListeners() {\n    this.#copyPasteAC?.abort();\n    this.#copyPasteAC = null;\n  }\n  #addDragAndDropListeners() {\n    const signal = this._signal;\n    document.addEventListener(\"dragover\", this.dragOver.bind(this), {\n      signal\n    });\n    document.addEventListener(\"drop\", this.drop.bind(this), {\n      signal\n    });\n  }\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n  dragOver(event) {\n    for (const {\n      type\n    } of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(type)) {\n          event.dataTransfer.dropEffect = \"copy\";\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  drop(event) {\n    for (const item of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  copy(event) {\n    event.preventDefault();\n    this.#activeEditor?.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n  async paste(event) {\n    event.preventDefault();\n    const {\n      clipboardData\n    } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n      return;\n    }\n    if (!Array.isArray(data)) {\n      return;\n    }\n    this.unselectAll();\n    const layer = this.currentLayer;\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = await layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({\n        cmd,\n        undo,\n        mustExec: true\n      });\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n    }\n  }\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (this.#mode !== AnnotationEditorType.NONE && !this.isEditorHandlingKeyboard) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  onEditingAction({\n    name\n  }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n    }\n  }\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(([key, value]) => this.#previousStates[key] !== value);\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details)\n      });\n      if (this.#mode === AnnotationEditorType.HIGHLIGHT && details.hasSelectedEditor === false) {\n        this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_FREE, true]]);\n      }\n    }\n  }\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details\n    });\n  }\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false\n      });\n      this.disableUserSelect(false);\n    }\n  }\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n  getId() {\n    return this.#idManager.id;\n  }\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n  async updateMode(mode, editId = null, isFromKeyboard = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n    if (this.#updateModeCapability) {\n      await this.#updateModeCapability.promise;\n      if (!this.#updateModeCapability) {\n        return;\n      }\n    }\n    this.#updateModeCapability = Promise.withResolvers();\n    this.#mode = mode;\n    if (mode === AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      this.#updateModeCapability.resolve();\n      return;\n    }\n    this.setEditingState(true);\n    await this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (!editId) {\n      if (isFromKeyboard) {\n        this.addNewEditorFromKeyboard();\n      }\n      this.#updateModeCapability.resolve();\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.annotationElementId === editId) {\n        this.setSelected(editor);\n        editor.enterInEditMode();\n      } else {\n        editor.unselect();\n      }\n    }\n    this.#updateModeCapability.resolve();\n  }\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n  updateToolbar(mode) {\n    if (mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      mode\n    });\n  }\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    switch (type) {\n      case AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor();\n        return;\n      case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        this.#mainHighlightColorPicker?.updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\"\n            }\n          }\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.updateParams(type, value);\n    }\n    for (const editorType of this.#editorTypes) {\n      editorType.updateDefaultParams(type, value);\n    }\n  }\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state = this.#showAllStates?.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ?? true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible]]);\n    }\n  }\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n  async #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      const promises = [];\n      for (const layer of this.#allLayers.values()) {\n        promises.push(layer.enable());\n      }\n      await Promise.all(promises);\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n  getEditors(pageIndex) {\n    const editors = [];\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        editors.push(editor);\n      }\n    }\n    return editors;\n  }\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    this.unselect(editor);\n    if (!editor.annotationElementId || !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {}\n    return ed;\n  }\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  setSelected(editor) {\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n  get isEnterHandled() {\n    return this.#selectedEditors.size === 1 && this.firstSelectedEditor.isEnterHandled;\n  }\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty()\n    });\n  }\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n    return false;\n  }\n  delete() {\n    this.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [...this.#selectedEditors];\n    const cmd = () => {\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  commitOrRemove() {\n    this.#activeEditor?.commitOrRemove();\n  }\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n  unselectAll() {\n    if (this.#activeEditor) {\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== AnnotationEditorType.NONE) {\n        return;\n      }\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false\n    });\n  }\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n    const TIME_TO_WAIT = 1000;\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n            }\n          }\n        },\n        mustExec: false\n      });\n    }, TIME_TO_WAIT);\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n    }\n  }\n  setUpDragSession() {\n    if (!this.hasSelection) {\n      return;\n    }\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1\n      });\n    }\n  }\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n    for (const [{\n      x,\n      y,\n      pageIndex\n    }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||= x !== value.savedX || y !== value.savedY || pageIndex !== value.savedPageIndex;\n    }\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, {\n          newX,\n          newY,\n          newPageIndex\n        }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, {\n          savedX,\n          savedY,\n          savedPageIndex\n        }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true\n    });\n    return true;\n  }\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n  get isEditorHandlingKeyboard() {\n    return this.getActive()?.shouldGetKeyboardEvents() || this.#selectedEditors.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents();\n  }\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n  getActive() {\n    return this.#activeEditor;\n  }\n  getMode() {\n    return this.#mode;\n  }\n  get imageManager() {\n    return shadow(this, \"imageManager\", new ImageManager());\n  }\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (!textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)) {\n        return null;\n      }\n    }\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n    }\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const {\n        x,\n        y,\n        width,\n        height\n      } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n  addChangedExistingAnnotation({\n    annotationElementId,\n    id\n  }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(annotationElementId, id);\n  }\n  removeChangedExistingAnnotation({\n    annotationElementId\n  }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n}\n\n;// ./src/display/editor/alt_text.js\n\nclass AltText {\n  #altText = null;\n  #altTextDecorative = false;\n  #altTextButton = null;\n  #altTextButtonLabel = null;\n  #altTextTooltip = null;\n  #altTextTooltipTimeout = null;\n  #altTextWasFromKeyBoard = false;\n  #badge = null;\n  #editor = null;\n  #guessedText = null;\n  #textWithDisclaimer = null;\n  #useNewAltTextFlow = false;\n  static #l10nNewButton = null;\n  static _l10n = null;\n  constructor(editor) {\n    this.#editor = editor;\n    this.#useNewAltTextFlow = editor._uiManager.useNewAltTextFlow;\n    AltText.#l10nNewButton ||= Object.freeze({\n      added: \"pdfjs-editor-new-alt-text-added-button\",\n      \"added-label\": \"pdfjs-editor-new-alt-text-added-button-label\",\n      missing: \"pdfjs-editor-new-alt-text-missing-button\",\n      \"missing-label\": \"pdfjs-editor-new-alt-text-missing-button-label\",\n      review: \"pdfjs-editor-new-alt-text-to-review-button\",\n      \"review-label\": \"pdfjs-editor-new-alt-text-to-review-button-label\"\n    });\n  }\n  static initialize(l10n) {\n    AltText._l10n ??= l10n;\n  }\n  async render() {\n    const altText = this.#altTextButton = document.createElement(\"button\");\n    altText.className = \"altText\";\n    altText.tabIndex = \"0\";\n    const label = this.#altTextButtonLabel = document.createElement(\"span\");\n    altText.append(label);\n    if (this.#useNewAltTextFlow) {\n      altText.classList.add(\"new\");\n      altText.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton.missing);\n      label.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[\"missing-label\"]);\n    } else {\n      altText.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button\");\n      label.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button-label\");\n    }\n    const signal = this.#editor._uiManager._signal;\n    altText.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal\n    });\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n      if (this.#useNewAltTextFlow) {\n        this.#editor._reportTelemetry({\n          action: \"pdfjs.image.alt_text.image_status_label_clicked\",\n          data: {\n            label: this.#label\n          }\n        });\n      }\n    };\n    altText.addEventListener(\"click\", onClick, {\n      capture: true,\n      signal\n    });\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        this.#altTextWasFromKeyBoard = true;\n        onClick(event);\n      }\n    }, {\n      signal\n    });\n    await this.#setState();\n    return altText;\n  }\n  get #label() {\n    return this.#altText && \"added\" || this.#altText === null && this.guessedText && \"review\" || \"missing\";\n  }\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({\n      focusVisible: this.#altTextWasFromKeyBoard\n    });\n    this.#altTextWasFromKeyBoard = false;\n  }\n  isEmpty() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText === null;\n    }\n    return !this.#altText && !this.#altTextDecorative;\n  }\n  hasData() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText !== null || !!this.#guessedText;\n    }\n    return this.isEmpty();\n  }\n  get guessedText() {\n    return this.#guessedText;\n  }\n  async setGuessedText(guessedText) {\n    if (this.#altText !== null) {\n      return;\n    }\n    this.#guessedText = guessedText;\n    this.#textWithDisclaimer = await AltText._l10n.get(\"pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer\", {\n      generatedAltText: guessedText\n    });\n    this.#setState();\n  }\n  toggleAltTextBadge(visibility = false) {\n    if (!this.#useNewAltTextFlow || this.#altText) {\n      this.#badge?.remove();\n      this.#badge = null;\n      return;\n    }\n    if (!this.#badge) {\n      const badge = this.#badge = document.createElement(\"div\");\n      badge.className = \"noAltTextBadge\";\n      this.#editor.div.append(badge);\n    }\n    this.#badge.classList.toggle(\"hidden\", !visibility);\n  }\n  serialize(isForCopying) {\n    let altText = this.#altText;\n    if (!isForCopying && this.#guessedText === altText) {\n      altText = this.#textWithDisclaimer;\n    }\n    return {\n      altText,\n      decorative: this.#altTextDecorative,\n      guessedText: this.#guessedText,\n      textWithDisclaimer: this.#textWithDisclaimer\n    };\n  }\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative\n    };\n  }\n  set data({\n    altText,\n    decorative,\n    guessedText,\n    textWithDisclaimer,\n    cancel = false\n  }) {\n    if (guessedText) {\n      this.#guessedText = guessedText;\n      this.#textWithDisclaimer = textWithDisclaimer;\n    }\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    if (!cancel) {\n      this.#altText = altText;\n      this.#altTextDecorative = decorative;\n    }\n    this.#setState();\n  }\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n  shown() {\n    this.#editor._reportTelemetry({\n      action: \"pdfjs.image.alt_text.image_status_label_displayed\",\n      data: {\n        label: this.#label\n      }\n    });\n  }\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextButtonLabel = null;\n    this.#altTextTooltip = null;\n    this.#badge?.remove();\n    this.#badge = null;\n  }\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (this.#useNewAltTextFlow) {\n      button.classList.toggle(\"done\", !!this.#altText);\n      button.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[this.#label]);\n      this.#altTextButtonLabel?.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[`${this.#label}-label`]);\n      if (!this.#altText) {\n        this.#altTextTooltip?.remove();\n        return;\n      }\n    } else {\n      if (!this.#altText && !this.#altTextDecorative) {\n        button.classList.remove(\"done\");\n        this.#altTextTooltip?.remove();\n        return;\n      }\n      button.classList.add(\"done\");\n      button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-edit-button\");\n    }\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      const signal = this.#editor._uiManager._signal;\n      signal.addEventListener(\"abort\", () => {\n        clearTimeout(this.#altTextTooltipTimeout);\n        this.#altTextTooltipTimeout = null;\n      }, {\n        once: true\n      });\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this.#editor._reportTelemetry({\n            action: \"alt_text_tooltip\"\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      }, {\n        signal\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        if (this.#altTextTooltipTimeout) {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        }\n        this.#altTextTooltip?.classList.remove(\"show\");\n      }, {\n        signal\n      });\n    }\n    if (this.#altTextDecorative) {\n      tooltip.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-decorative-tooltip\");\n    } else {\n      tooltip.removeAttribute(\"data-l10n-id\");\n      tooltip.textContent = this.#altText;\n    }\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n    const element = this.#editor.getImageForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\n;// ./src/display/editor/editor.js\n\n\n\n\n\nclass AnnotationEditor {\n  #accessibilityData = null;\n  #allResizerDivs = null;\n  #altText = null;\n  #disabled = false;\n  #keepAspectRatio = false;\n  #resizersDiv = null;\n  #savedDimensions = null;\n  #focusAC = null;\n  #focusedResizerName = \"\";\n  #hasBeenClicked = false;\n  #initialPosition = null;\n  #isEditing = false;\n  #isInEditMode = false;\n  #isResizerEnabledForKeyboard = false;\n  #moveInDOMTimeout = null;\n  #prevDragX = 0;\n  #prevDragY = 0;\n  #telemetryTimeouts = null;\n  _editToolbar = null;\n  _initialOptions = Object.create(null);\n  _initialData = null;\n  _isVisible = true;\n  _uiManager = null;\n  _focusEventsAllowed = true;\n  static _l10n = null;\n  static _l10nResizer = null;\n  #isDraggable = false;\n  #zIndex = AnnotationEditor._zIndex++;\n  static _borderLineWidth = -1;\n  static _colorManager = new ColorManager();\n  static _zIndex = 1;\n  static _telemetryTimeout = 1000;\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_resizerKeyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, {\n      args: [-small, 0]\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], resize, {\n      args: [-big, 0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], resize, {\n      args: [small, 0]\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], resize, {\n      args: [big, 0]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], resize, {\n      args: [0, -small]\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, {\n      args: [0, -big]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], resize, {\n      args: [0, small]\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, {\n      args: [0, big]\n    }], [[\"Escape\", \"mac+Escape\"], AnnotationEditor.prototype._stopResizingWithKeyboard]]));\n  }\n  constructor(parameters) {\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    const {\n      rotation,\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = this.parent.viewport;\n    this.rotation = rotation;\n    this.pageRotation = (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n  static get _defaultLineColor() {\n    return shadow(this, \"_defaultLineColor\", this._colorManager.getHexCode(\"CanvasText\"));\n  }\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n  static initialize(l10n, _uiManager) {\n    AnnotationEditor._l10n ??= l10n;\n    AnnotationEditor._l10nResizer ||= Object.freeze({\n      topLeft: \"pdfjs-editor-resizer-top-left\",\n      topMiddle: \"pdfjs-editor-resizer-top-middle\",\n      topRight: \"pdfjs-editor-resizer-top-right\",\n      middleRight: \"pdfjs-editor-resizer-middle-right\",\n      bottomRight: \"pdfjs-editor-resizer-bottom-right\",\n      bottomMiddle: \"pdfjs-editor-resizer-bottom-middle\",\n      bottomLeft: \"pdfjs-editor-resizer-bottom-left\",\n      middleLeft: \"pdfjs-editor-resizer-middle-left\"\n    });\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth = parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n  static updateDefaultParams(_type, _value) {}\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n  static paste(item, parent) {\n    unreachable(\"Not implemented\");\n  }\n  get propertiesToUpdate() {\n    return [];\n  }\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n  get isEnterHandled() {\n    return true;\n  }\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= this.height * pageHeight / (pageWidth * 2);\n        this.y += this.width * pageWidth / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += this.height * pageHeight / (pageWidth * 2);\n        this.y -= this.width * pageWidth / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      this.#stopResizing();\n    }\n    this.parent = parent;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n  commit() {\n    this.addToAnnotationStorage();\n  }\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n    this.fixAndSetPosition();\n  }\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n    this.x += x / width;\n    this.y += y / height;\n    this.fixAndSetPosition();\n  }\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n  translateInPage(x, y) {\n    this.#initialPosition ||= [this.x, this.y];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  drag(tx, ty) {\n    this.#initialPosition ||= [this.x, this.y];\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      const {\n        x,\n        y\n      } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n    let {\n      x,\n      y\n    } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    this.div.style.left = `${(100 * x).toFixed(2)}%`;\n    this.div.style.top = `${(100 * y).toFixed(2)}%`;\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  get _hasBeenMoved() {\n    return !!this.#initialPosition && (this.#initialPosition[0] !== this.x || this.#initialPosition[1] !== this.y);\n  }\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      _borderLineWidth\n    } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n  get _mustFixPosition() {\n    return true;\n  }\n  fixAndSetPosition(rotation = this.rotation) {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    let {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = Math.max(0, Math.min(pageWidth - width, x));\n          y = Math.max(0, Math.min(pageHeight - height, y));\n          break;\n        case 90:\n          x = Math.max(0, Math.min(pageWidth - height, x));\n          y = Math.min(pageHeight, Math.max(width, y));\n          break;\n        case 180:\n          x = Math.min(pageWidth, Math.max(width, x));\n          y = Math.min(pageHeight, Math.max(height, y));\n          break;\n        case 270:\n          x = Math.min(pageWidth, Math.max(height, x));\n          y = Math.max(0, Math.min(pageHeight - width, y));\n          break;\n      }\n    }\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    const {\n      style\n    } = this.div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this.moveInDOM();\n  }\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n        }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n        }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    return [pageWidth * parentScale, pageHeight * parentScale];\n  }\n  setDims(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.div.style.width = `${(100 * width / parentWidth).toFixed(2)}%`;\n    if (!this.#keepAspectRatio) {\n      this.div.style.height = `${(100 * height / parentHeight).toFixed(2)}%`;\n    }\n  }\n  fixDims() {\n    const {\n      style\n    } = this.div;\n    const {\n      height,\n      width\n    } = style;\n    const widthPercent = width.endsWith(\"%\");\n    const heightPercent = !this.#keepAspectRatio && height.endsWith(\"%\");\n    if (widthPercent && heightPercent) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (!widthPercent) {\n      style.width = `${(100 * parseFloat(width) / parentWidth).toFixed(2)}%`;\n    }\n    if (!this.#keepAspectRatio && !heightPercent) {\n      style.height = `${(100 * parseFloat(height) / parentHeight).toFixed(2)}%`;\n    }\n  }\n  getInitialTranslation() {\n    return [0, 0];\n  }\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = this._willKeepAspectRatio ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"] : [\"topLeft\", \"topMiddle\", \"topRight\", \"middleRight\", \"bottomRight\", \"bottomMiddle\", \"bottomLeft\", \"middleLeft\"];\n    const signal = this._uiManager._signal;\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\"pointerdown\", this.#resizerPointerdown.bind(this, name), {\n        signal\n      });\n      div.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    this.#altText?.toggle(false);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\"pointermove\", this.#resizerPointermove.bind(this, name), {\n      passive: true,\n      capture: true,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(event.target).cursor;\n    const pointerUpCallback = () => {\n      ac.abort();\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  #addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight) {\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (newX === savedX && newY === savedY && newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.addCommands({\n      cmd: () => {\n        this.width = newWidth;\n        this.height = newHeight;\n        this.x = newX;\n        this.y = newY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n        this.fixAndSetPosition();\n      },\n      undo: () => {\n        this.width = savedWidth;\n        this.height = savedHeight;\n        this.x = savedX;\n        this.y = savedY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * savedWidth, parentHeight * savedHeight);\n        this.fixAndSetPosition();\n      },\n      mustExec: true\n    });\n  }\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    const round = x => Math.round(x * 10000) / 10000;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [invRotationMatrix[0] * x + invRotationMatrix[2] * y, invRotationMatrix[1] * x + invRotationMatrix[3] * y];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = round(savedX + transfOppositePoint[0]);\n    const oppositeY = round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n    let [deltaX, deltaY] = this.screenToPageTranslation(event.movementX, event.movementY);\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(Math.min(Math.hypot(oppositePoint[0] - point[0] - deltaX, oppositePoint[1] - point[1] - deltaY) / oldDiag, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    } else if (isHorizontal) {\n      ratioX = Math.max(minWidth, Math.min(1, Math.abs(oppositePoint[0] - point[0] - deltaX))) / savedWidth;\n    } else {\n      ratioY = Math.max(minHeight, Math.min(1, Math.abs(oppositePoint[1] - point[1] - deltaY))) / savedHeight;\n    }\n    const newWidth = round(savedWidth * ratioX);\n    const newHeight = round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n  }\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n  async addEditToolbar() {\n    if (this._editToolbar || this.#isInEditMode) {\n      return this._editToolbar;\n    }\n    this._editToolbar = new EditorToolbar(this);\n    this.div.append(this._editToolbar.render());\n    if (this.#altText) {\n      await this._editToolbar.addAltText(this.#altText);\n    }\n    return this._editToolbar;\n  }\n  removeEditToolbar() {\n    if (!this._editToolbar) {\n      return;\n    }\n    this._editToolbar.remove();\n    this._editToolbar = null;\n    this.#altText?.destroy();\n  }\n  addContainer(container) {\n    const editToolbarDiv = this._editToolbar?.div;\n    if (editToolbarDiv) {\n      editToolbarDiv.before(container);\n    } else {\n      this.div.append(container);\n    }\n  }\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n  async addAltTextButton() {\n    if (this.#altText) {\n      return;\n    }\n    AltText.initialize(AnnotationEditor._l10n);\n    this.#altText = new AltText(this);\n    if (this.#accessibilityData) {\n      this.#altText.data = this.#accessibilityData;\n      this.#accessibilityData = null;\n    }\n    await this.addEditToolbar();\n  }\n  get altTextData() {\n    return this.#altText?.data;\n  }\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n  get guessedAltText() {\n    return this.#altText?.guessedText;\n  }\n  async setGuessedAltText(text) {\n    await this.#altText?.setGuessedText(text);\n  }\n  serializeAltText(isForCopying) {\n    return this.#altText?.serialize(isForCopying);\n  }\n  hasAltText() {\n    return !!this.#altText && !this.#altText.isEmpty();\n  }\n  hasAltTextData() {\n    return this.#altText?.hasData() ?? false;\n  }\n  render() {\n    this.div = document.createElement(\"div\");\n    this.div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    this.div.className = this.name;\n    this.div.setAttribute(\"id\", this.id);\n    this.div.tabIndex = this.#disabled ? -1 : 0;\n    if (!this._isVisible) {\n      this.div.classList.add(\"hidden\");\n    }\n    this.setInForeground();\n    this.#addFocusListeners();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      this.div.style.maxWidth = `${(100 * parentHeight / parentWidth).toFixed(2)}%`;\n      this.div.style.maxHeight = `${(100 * parentWidth / parentHeight).toFixed(2)}%`;\n    }\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n    bindEvents(this, this.div, [\"pointerdown\"]);\n    return this.div;\n  }\n  pointerdown(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n    this.#selectOnPointerEvent(event);\n  }\n  get isSelected() {\n    return this._uiManager.isSelected(this);\n  }\n  #selectOnPointerEvent(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.ctrlKey && !isMac || event.shiftKey || event.metaKey && isMac) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n  #setUpDragSession(event) {\n    const {\n      isSelected\n    } = this;\n    this._uiManager.setUpDragSession();\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n    if (isSelected) {\n      this.div.classList.add(\"moving\");\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      const pointerMoveCallback = e => {\n        const {\n          clientX: x,\n          clientY: y\n        } = e;\n        const [tx, ty] = this.screenToPageTranslation(x - this.#prevDragX, y - this.#prevDragY);\n        this.#prevDragX = x;\n        this.#prevDragY = y;\n        this._uiManager.dragSelectedEditors(tx, ty);\n      };\n      window.addEventListener(\"pointermove\", pointerMoveCallback, {\n        passive: true,\n        capture: true,\n        signal\n      });\n    }\n    const pointerUpCallback = () => {\n      ac.abort();\n      if (isSelected) {\n        this.div.classList.remove(\"moving\");\n      }\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(event);\n      }\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  moveInDOM() {\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n  }\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n    switch (rotation) {\n      case 0:\n        return [x + shiftX + pageX, pageHeight - y - shiftY - height + pageY, x + shiftX + width + pageX, pageHeight - y - shiftY + pageY];\n      case 90:\n        return [x + shiftY + pageX, pageHeight - y + shiftX + pageY, x + shiftY + height + pageX, pageHeight - y + shiftX + width + pageY];\n      case 180:\n        return [x - shiftX - width + pageX, pageHeight - y + shiftY + pageY, x - shiftX + pageX, pageHeight - y + shiftY + height + pageY];\n      case 270:\n        return [x - shiftY - height + pageX, pageHeight - y - shiftX - width + pageY, x - shiftY + pageX, pageHeight - y - shiftX + pageY];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  onceAdded() {}\n  isEmpty() {\n    return false;\n  }\n  enableEditMode() {\n    this.#isInEditMode = true;\n  }\n  disableEditMode() {\n    this.#isInEditMode = false;\n  }\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n  #addFocusListeners() {\n    if (this.#focusAC || !this.div) {\n      return;\n    }\n    this.#focusAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#focusAC);\n    this.div.addEventListener(\"focusin\", this.focusin.bind(this), {\n      signal\n    });\n    this.div.addEventListener(\"focusout\", this.focusout.bind(this), {\n      signal\n    });\n  }\n  rebuild() {\n    this.#addFocusListeners();\n  }\n  rotate(_angle) {}\n  serializeDeleted() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex,\n      popupRef: this._initialData?.popupRef || \"\"\n    };\n  }\n  serialize(isForCopying = false, context = null) {\n    unreachable(\"An editor must be serializable\");\n  }\n  static async deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager\n    });\n    editor.rotation = data.rotation;\n    editor.#accessibilityData = data.accessibilityData;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(data.rect, pageHeight);\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n    return editor;\n  }\n  get hasBeenModified() {\n    return !!this.annotationElementId && (this.deleted || this.serialize() !== null);\n  }\n  remove() {\n    this.#focusAC?.abort();\n    this.#focusAC = null;\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n  }\n  get isResizable() {\n    return false;\n  }\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n      bindEvents(this, this.div, [\"keydown\"]);\n    }\n  }\n  get toolbarPosition() {\n    return null;\n  }\n  keydown(event) {\n    if (!this.isResizable || event.target !== this.div || event.key !== \"Enter\") {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      const signal = this._uiManager._signal;\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown, {\n          signal\n        });\n        div.addEventListener(\"blur\", boundResizerBlur, {\n          signal\n        });\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name), {\n          signal\n        });\n        div.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#allResizerDivs.length / 4);\n    if (nextFirstPosition !== firstPosition) {\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);\n        }\n      }\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        child.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstChild.focus({\n      focusVisible: true\n    });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n  #resizerBlur(event) {\n    if (this.#isResizerEnabledForKeyboard && event.relatedTarget?.parentNode !== this.#resizersDiv) {\n      this.#stopResizing();\n    }\n  }\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      movementX: x,\n      movementY: y\n    });\n  }\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    if (this.#savedDimensions) {\n      const {\n        savedX,\n        savedY,\n        savedWidth,\n        savedHeight\n      } = this.#savedDimensions;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n      this.#savedDimensions = null;\n    }\n  }\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n  select() {\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this._editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          this._editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this._editToolbar?.show();\n    this.#altText?.toggleAltTextBadge(false);\n  }\n  unselect() {\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true\n      });\n    }\n    this._editToolbar?.hide();\n    this.#altText?.toggleAltTextBadge(true);\n  }\n  updateParams(type, value) {}\n  disableEditing() {}\n  enableEditing() {}\n  enterInEditMode() {}\n  getImageForAltText() {\n    return null;\n  }\n  get contentDiv() {\n    return this.div;\n  }\n  get isEditing() {\n    return this.#isEditing;\n  }\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n  setAspectRatio(width, height) {\n    this.#keepAspectRatio = true;\n    const aspectRatio = width / height;\n    const {\n      style\n    } = this.div;\n    style.aspectRatio = aspectRatio;\n    style.height = \"auto\";\n  }\n  static get MIN_SIZE() {\n    return 16;\n  }\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\"\n    };\n  }\n  get telemetryFinalData() {\n    return null;\n  }\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const {\n        action\n      } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data\n      }\n    });\n  }\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n  renderAnnotationElement(annotation) {\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    const {\n      firstChild\n    } = annotation.container;\n    if (firstChild?.nodeName === \"DIV\" && firstChild.classList.contains(\"annotationContent\")) {\n      firstChild.remove();\n    }\n  }\n}\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n  serialize() {\n    return this.serializeDeleted();\n  }\n}\n\n;// ./src/shared/murmurhash3.js\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n    k1 = 0;\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    return (h1 >>> 0).toString(16).padStart(8, \"0\") + (h2 >>> 0).toString(16).padStart(8, \"0\");\n  }\n}\n\n;// ./src/display/annotation_storage.js\n\n\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined\n});\nclass AnnotationStorage {\n  #modified = false;\n  #modifiedIds = null;\n  #storage = new Map();\n  constructor() {\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n    return Object.assign(defaultValue, value);\n  }\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n  remove(key) {\n    this.#storage.delete(key);\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n    if (value instanceof AnnotationEditor && typeof this.onAnnotationEditor === \"function\") {\n      this.onAnnotationEditor(value.constructor._type);\n    }\n  }\n  has(key) {\n    return this.#storage.has(key);\n  }\n  getAll() {\n    return this.#storage.size > 0 ? objectFromMap(this.#storage) : null;\n  }\n  setAll(obj) {\n    for (const [key, val] of Object.entries(obj)) {\n      this.setValue(key, val);\n    }\n  }\n  get size() {\n    return this.#storage.size;\n  }\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n    for (const [key, val] of this.#storage) {\n      const serialized = val instanceof AnnotationEditor ? val.serialize(false, context) : val;\n      if (serialized) {\n        map.set(key, serialized);\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n    if (hasBitmap) {\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n    return map.size > 0 ? {\n      map,\n      hash: hash.hexdigest(),\n      transfer\n    } : SerializableEmpty;\n  }\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof AnnotationEditor)) {\n        continue;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const {\n        type\n      } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = stats[type] ||= new Map();\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n  resetModifiedIds() {\n    this.#modifiedIds = null;\n  }\n  get modifiedIds() {\n    if (this.#modifiedIds) {\n      return this.#modifiedIds;\n    }\n    const ids = [];\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof AnnotationEditor) || !value.annotationElementId || !value.serialize()) {\n        continue;\n      }\n      ids.push(value.annotationElementId);\n    }\n    return this.#modifiedIds = {\n      ids: new Set(ids),\n      hash: ids.join(\",\")\n    };\n  }\n}\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n  constructor(parent) {\n    super();\n    const {\n      map,\n      hash,\n      transfer\n    } = parent.serializable;\n    const clone = structuredClone(map, transfer ? {\n      transfer\n    } : null);\n    this.#serializable = {\n      map: clone,\n      hash,\n      transfer\n    };\n  }\n  get print() {\n    unreachable(\"Should not call PrintAnnotationStorage.print\");\n  }\n  get serializable() {\n    return this.#serializable;\n  }\n  get modifiedIds() {\n    return shadow(this, \"modifiedIds\", {\n      ids: new Set(),\n      hash: \"\"\n    });\n  }\n}\n\n;// ./src/display/font_loader.js\n\nclass FontLoader {\n  #systemFonts = new Set();\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    this._document = ownerDocument;\n    this.nativeFontFaces = new Set();\n    this.styleElement = null;\n    this.loadingRequests = [];\n    this.loadTestFontId = 0;\n  }\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n  async loadSystemFont({\n    systemFontInfo: info,\n    _inspectFont\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    assert(!this.disableFontFace, \"loadSystemFont shouldn't be called when `disableFontFace` is set.\");\n    if (this.isFontLoadingAPISupported) {\n      const {\n        loadedName,\n        src,\n        style\n      } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        warn(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`);\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n    unreachable(\"Not implemented: loadSystemFont without the Font Loading API.\");\n  }\n  async bind(font) {\n    if (font.attached || font.missingFile && !font.systemFontInfo) {\n      return;\n    }\n    font.attached = true;\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return;\n    }\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n    }\n  }\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n  get isSyncFontLoadingSupported() {\n    let supported = false;\n    if (isNodeJS) {\n      supported = true;\n    } else if (typeof navigator !== \"undefined\" && typeof navigator?.userAgent === \"string\" && /Mozilla\\/5.0.*?rv:\\d+.*? Gecko/.test(navigator.userAgent)) {\n      supported = true;\n    }\n    return shadow(this, \"isSyncFontLoadingSupported\", supported);\n  }\n  _queueLoadingCallback(callback) {\n    function completeRequest() {\n      assert(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n    const {\n      loadingRequests\n    } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n  get _loadTestFont() {\n    const testFont = atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n    return shadow(this, \"_loadTestFont\", testFont);\n  }\n  _prepareFontLoadEvent(font, request) {\n    function int32(data, offset) {\n      return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    let called = 0;\n    function isFontReady(name, callback) {\n      if (++called > 30) {\n        warn(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976;\n    data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858;\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n  }\n}\nclass FontFaceObject {\n  constructor(translatedData, {\n    disableFontFace = false,\n    inspectFont = null\n  }) {\n    this.compiledGlyphs = Object.create(null);\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.disableFontFace = disableFontFace === true;\n    this._inspectFont = inspectFont;\n  }\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const url = `url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n    if (!Array.isArray(cmds) || cmds.length === 0) {\n      return this.compiledGlyphs[character] = function (c, size) {};\n    }\n    const commands = [];\n    for (let i = 0, ii = cmds.length; i < ii;) {\n      switch (cmds[i++]) {\n        case FontRenderOps.BEZIER_CURVE_TO:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.bezierCurveTo(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case FontRenderOps.MOVE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.moveTo(a, b));\n            i += 2;\n          }\n          break;\n        case FontRenderOps.LINE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.lineTo(a, b));\n            i += 2;\n          }\n          break;\n        case FontRenderOps.QUADRATIC_CURVE_TO:\n          {\n            const [a, b, c, d] = cmds.slice(i, i + 4);\n            commands.push(ctx => ctx.quadraticCurveTo(a, b, c, d));\n            i += 4;\n          }\n          break;\n        case FontRenderOps.RESTORE:\n          commands.push(ctx => ctx.restore());\n          break;\n        case FontRenderOps.SAVE:\n          commands.push(ctx => ctx.save());\n          break;\n        case FontRenderOps.SCALE:\n          assert(commands.length === 2, \"Scale command is only valid at the third position.\");\n          break;\n        case FontRenderOps.TRANSFORM:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.transform(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case FontRenderOps.TRANSLATE:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.translate(a, b));\n            i += 2;\n          }\n          break;\n      }\n    }\n    return this.compiledGlyphs[character] = function glyphDrawer(ctx, size) {\n      commands[0](ctx);\n      commands[1](ctx);\n      ctx.scale(size, -size);\n      for (let i = 2, ii = commands.length; i < ii; i++) {\n        commands[i](ctx);\n      }\n    };\n  }\n}\n\n;// ./src/display/canvas_factory.js\n\nclass BaseCanvasFactory {\n  #enableHWA = false;\n  constructor({\n    enableHWA = false\n  }) {\n    this.#enableHWA = enableHWA;\n  }\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\", {\n        willReadFrequently: !this.#enableHWA\n      })\n    };\n  }\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document,\n    enableHWA = false\n  }) {\n    super({\n      enableHWA\n    });\n    this._document = ownerDocument;\n  }\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\n\n;// ./src/display/cmap_reader_factory.js\n\n\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = true\n  }) {\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.\");\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    return this._fetch(url).then(cMapData => ({\n      cMapData,\n      isCompressed: this.isCompressed\n    })).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, this.isCompressed ? \"arraybuffer\" : \"text\");\n    return data instanceof ArrayBuffer ? new Uint8Array(data) : stringToBytes(data);\n  }\n}\n\n;// ./src/display/filter_factory.js\n\n\nclass BaseFilterFactory {\n  addFilter(maps) {\n    return \"none\";\n  }\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n  addAlphaFilter(map) {\n    return \"none\";\n  }\n  addLuminosityFilter(map) {\n    return \"none\";\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n  destroy(keepHCM = false) {}\n}\nclass DOMFilterFactory extends BaseFilterFactory {\n  #baseUrl;\n  #_cache;\n  #_defs;\n  #docId;\n  #document;\n  #_hcmCache;\n  #id = 0;\n  constructor({\n    docId,\n    ownerDocument = globalThis.document\n  }) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n  get #cache() {\n    return this.#_cache ||= new Map();\n  }\n  get #hcmCache() {\n    return this.#_hcmCache ||= new Map();\n  }\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const {\n        style\n      } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n  #createTables(maps) {\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      const table = buffer.join(\",\");\n      return [table, table, table];\n    }\n    const [mapR, mapG, mapB] = maps;\n    const bufferR = new Array(256);\n    const bufferG = new Array(256);\n    const bufferB = new Array(256);\n    for (let i = 0; i < 256; i++) {\n      bufferR[i] = mapR[i] / 255;\n      bufferG[i] = mapG[i] / 255;\n      bufferB[i] = mapB[i] / 255;\n    }\n    return [bufferR.join(\",\"), bufferG.join(\",\"), bufferB.join(\",\")];\n  }\n  #createUrl(id) {\n    if (this.#baseUrl === undefined) {\n      this.#baseUrl = \"\";\n      const url = this.#document.URL;\n      if (url !== this.#document.baseURI) {\n        if (isDataScheme(url)) {\n          warn('#createUrl: ignore \"data:\"-URL for performance reasons.');\n        } else {\n          this.#baseUrl = url.split(\"#\", 1)[0];\n        }\n      }\n    }\n    return `url(${this.#baseUrl}#${id})`;\n  }\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n    const [tableR, tableG, tableB] = this.#createTables(maps);\n    const key = maps.length === 1 ? tableR : `${tableR}${tableG}${tableB}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n    return url;\n  }\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n    if (fgColor === \"#000000\" && bgColor === \"#ffffff\" || fgColor === bgColor) {\n      return info.url;\n    }\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + i / n * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(getSteps(0, 5), getSteps(1, 5), getSteps(2, 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  addAlphaFilter(map) {\n    let value = this.#cache.get(map);\n    if (value) {\n      return value;\n    }\n    const [tableA] = this.#createTables([map]);\n    const key = `alpha_${tableA}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_alpha_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapAlphaConversion(tableA, filter);\n    return url;\n  }\n  addLuminosityFilter(map) {\n    let value = this.#cache.get(map || \"luminosity\");\n    if (value) {\n      return value;\n    }\n    let tableA, key;\n    if (map) {\n      [tableA] = this.#createTables([map]);\n      key = `luminosity_${tableA}`;\n    } else {\n      key = \"luminosity\";\n    }\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_luminosity_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addLuminosityConversion(filter);\n    if (map) {\n      this.#addTransferMapAlphaConversion(tableA, filter);\n    }\n    return url;\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]);\n    let bgGray = Math.round(0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]);\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(this.#getRGB.bind(this));\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [bgGray, fgGray, newBgRGB, newFgRGB];\n    }\n    this.#defs.style.color = \"\";\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(getSteps(newFgRGB[0], newBgRGB[0], 5), getSteps(newFgRGB[1], newBgRGB[1], 5), getSteps(newFgRGB[2], newBgRGB[2], 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#hcmCache.size !== 0) {\n      return;\n    }\n    if (this.#_defs) {\n      this.#_defs.parentNode.parentNode.remove();\n      this.#_defs = null;\n    }\n    if (this.#_cache) {\n      this.#_cache.clear();\n      this.#_cache = null;\n    }\n    this.#id = 0;\n  }\n  #addLuminosityConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0\");\n    filter.append(feColorMatrix);\n  }\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");\n    filter.append(feColorMatrix);\n  }\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n    return filter;\n  }\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n  #addTransferMapAlphaConversion(aTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncA\", aTable);\n  }\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\n\n;// ./src/display/standard_fontdata_factory.js\n\n\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `standardFontDataUrl` API parameter is provided.\");\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  async _fetch(url) {\n    const data = await fetchData(url, \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\n;// ./src/display/node_utils.js\n\n\n\n\n\nif (isNodeJS) {\n  var packageCapability = Promise.withResolvers();\n  var packageMap = null;\n  const loadPackages = async () => {\n    const fs = await import(/*webpackIgnore: true*/\"fs\"),\n      http = await import(/*webpackIgnore: true*/\"http\"),\n      https = await import(/*webpackIgnore: true*/\"https\"),\n      url = await import(/*webpackIgnore: true*/\"url\");\n    let canvas, path2d;\n    return new Map(Object.entries({\n      fs,\n      http,\n      https,\n      url,\n      canvas,\n      path2d\n    }));\n  };\n  loadPackages().then(map => {\n    packageMap = map;\n    packageCapability.resolve();\n  }, reason => {\n    warn(`loadPackages: ${reason}`);\n    packageMap = new Map();\n    packageCapability.resolve();\n  });\n}\nclass NodePackages {\n  static get promise() {\n    return packageCapability.promise;\n  }\n  static get(name) {\n    return packageMap?.get(name);\n  }\n}\nasync function node_utils_fetchData(url) {\n  const fs = NodePackages.get(\"fs\");\n  const data = await fs.promises.readFile(url);\n  return new Uint8Array(data);\n}\nclass NodeFilterFactory extends BaseFilterFactory {}\nclass NodeCanvasFactory extends BaseCanvasFactory {\n  _createCanvas(width, height) {\n    const canvas = NodePackages.get(\"canvas\");\n    return canvas.createCanvas(width, height);\n  }\n}\nclass NodeCMapReaderFactory extends BaseCMapReaderFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\nclass NodeStandardFontDataFactory extends BaseStandardFontDataFactory {\n  async _fetch(url) {\n    return node_utils_fetchData(url);\n  }\n}\n\n;// ./src/display/pattern_helper.js\n\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\nclass BaseShadingPattern {\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]);\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1);\n    }\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, getCurrentTransform(ctx)) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (pathType === PathType.SHADING) {\n      scale = Util.singularValueDecompose2dScale(getCurrentTransform(ctx));\n    } else {\n      scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\nclass TilingPattern {\n  static MAX_PATTERN_SIZE = 3000;\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n  createPatternCanvas(owner) {\n    const {\n      bbox,\n      operatorList,\n      paintType,\n      tilingType,\n      color,\n      canvasGraphicsFactory\n    } = this;\n    let {\n      xstep,\n      ystep\n    } = this;\n    xstep = Math.abs(xstep);\n    ystep = Math.abs(ystep);\n    info(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const width = x1 - x0;\n    const height = y1 - y0;\n    const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = Util.singularValueDecompose2dScale(this.baseTransform);\n    const combinedScaleX = matrixScale[0] * curMatrixScale[0];\n    const combinedScaleY = matrixScale[1] * curMatrixScale[1];\n    let canvasWidth = width,\n      canvasHeight = height,\n      redrawHorizontally = false,\n      redrawVertically = false;\n    const xScaledStep = Math.ceil(xstep * combinedScaleX);\n    const yScaledStep = Math.ceil(ystep * combinedScaleY);\n    const xScaledWidth = Math.ceil(width * combinedScaleX);\n    const yScaledHeight = Math.ceil(height * combinedScaleY);\n    if (xScaledStep >= xScaledWidth) {\n      canvasWidth = xstep;\n    } else {\n      redrawHorizontally = true;\n    }\n    if (yScaledStep >= yScaledHeight) {\n      canvasHeight = ystep;\n    } else {\n      redrawVertically = true;\n    }\n    const dimx = this.getSizeAndScale(canvasWidth, this.ctx.canvas.width, combinedScaleX);\n    const dimy = this.getSizeAndScale(canvasHeight, this.ctx.canvas.height, combinedScaleY);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    tmpCtx.translate(-dimx.scale * x0, -dimy.scale * y0);\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    this.clipBbox(graphics, x0, y0, x1, y1);\n    graphics.baseTransform = getCurrentTransform(graphics.ctx);\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    tmpCtx.restore();\n    if (redrawHorizontally || redrawVertically) {\n      const image = tmpCanvas.canvas;\n      if (redrawHorizontally) {\n        canvasWidth = xstep;\n      }\n      if (redrawVertically) {\n        canvasHeight = ystep;\n      }\n      const dimx2 = this.getSizeAndScale(canvasWidth, this.ctx.canvas.width, combinedScaleX);\n      const dimy2 = this.getSizeAndScale(canvasHeight, this.ctx.canvas.height, combinedScaleY);\n      const xSize = dimx2.size;\n      const ySize = dimy2.size;\n      const tmpCanvas2 = owner.cachedCanvases.getCanvas(\"pattern-workaround\", xSize, ySize);\n      const tmpCtx2 = tmpCanvas2.context;\n      const ii = redrawHorizontally ? Math.floor(width / xstep) : 0;\n      const jj = redrawVertically ? Math.floor(height / ystep) : 0;\n      for (let i = 0; i <= ii; i++) {\n        for (let j = 0; j <= jj; j++) {\n          tmpCtx2.drawImage(image, xSize * i, ySize * j, xSize, ySize, 0, 0, xSize, ySize);\n        }\n      }\n      return {\n        canvas: tmpCanvas2.canvas,\n        scaleX: dimx2.scale,\n        scaleY: dimy2.scale,\n        offsetX: x0,\n        offsetY: y0\n      };\n    }\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: x0,\n      offsetY: y0\n    };\n  }\n  getSizeAndScale(step, realOutputSize, scale) {\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return {\n      scale,\n      size\n    };\n  }\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.current.updateRectMinMax(getCurrentTransform(graphics.ctx), [x0, y0, x1, y1]);\n    graphics.clip();\n    graphics.endPath();\n  }\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n    return pattern;\n  }\n}\n\n;// ./src/shared/image_utils.js\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n  return null;\n}\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false\n}) {\n  const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode ? [nonBlackColor, black] : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height\n}) {\n  let i = 0;\n  const len32 = src.length >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n  if (FeatureTest.isLittleEndian) {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = s1 >>> 24 | s2 << 8 | 0xff000000;\n      dest[destPos + 2] = s2 >>> 16 | s3 << 16 | 0xff000000;\n      dest[destPos + 3] = s3 >>> 8 | 0xff000000;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] | src[j + 1] << 8 | src[j + 2] << 16 | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = s1 << 24 | s2 >>> 8 | 0xff;\n      dest[destPos + 2] = s2 << 16 | s3 >>> 16 | 0xff;\n      dest[destPos + 3] = s3 << 8 | 0xff;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] << 24 | src[j + 1] << 16 | src[j + 2] << 8 | 0xff;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x10101 | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x1010100 | 0x000000ff;\n    }\n  }\n}\n\n;// ./src/display/canvas.js\n\n\n\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst MAX_SIZE_TO_COMPILE = 1000;\nconst FULL_CHUNK_HEIGHT = 16;\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n  ctx.save = function ctxSave() {\n    destCtx.save();\n    this.__originalSave();\n  };\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n  delete(id) {\n    delete this.cache[id];\n  }\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = getCurrentTransform(ctx);\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\nfunction compileType3Glyph(imgData) {\n  const {\n    width,\n    height\n  } = imgData;\n  if (width > MAX_SIZE_TO_COMPILE || height > MAX_SIZE_TO_COMPILE) {\n    return null;\n  }\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n  const width1 = width + 1;\n  let points = new Uint8Array(width1 * (height + 1));\n  let i, j, j0;\n  const lineSize = width + 7 & ~7;\n  let data = new Uint8Array(lineSize * height),\n    pos = 0;\n  for (const elem of imgData.data) {\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const path = new Path2D();\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    path.moveTo(p % width1, i);\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        type = pp;\n        points[p] = 0;\n      } else {\n        type = pp & 0x33 * type >> 4;\n        points[p] &= type >> 2 | type << 2;\n      }\n      path.lineTo(p % width1, p / width1 | 0);\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    --i;\n  }\n  data = null;\n  points = null;\n  const drawOutline = function (c) {\n    c.save();\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.fill(path);\n    c.beginPath();\n    c.restore();\n  };\n  return drawOutline;\n}\nclass CanvasExtraState {\n  constructor(width, height) {\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    this.x = 0;\n    this.y = 0;\n    this.lineX = 0;\n    this.lineY = 0;\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = \"none\";\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  updatePathMinMax(transform, x, y) {\n    [x, y] = Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n  updateRectMinMax(transform, rect) {\n    const p1 = Util.applyTransform(rect, transform);\n    const p2 = Util.applyTransform(rect.slice(2), transform);\n    const p3 = Util.applyTransform([rect[0], rect[3]], transform);\n    const p4 = Util.applyTransform([rect[2], rect[1]], transform);\n    this.minX = Math.min(this.minX, p1[0], p2[0], p3[0], p4[0]);\n    this.minY = Math.min(this.minY, p1[1], p2[1], p3[1], p4[1]);\n    this.maxX = Math.max(this.maxX, p1[0], p2[0], p3[0], p4[0]);\n    this.maxY = Math.max(this.maxY, p1[1], p2[1], p3[1], p4[1]);\n  }\n  updateScalingPathMinMax(transform, minMax) {\n    Util.scaleMinMax(transform, minMax);\n    this.minX = Math.min(this.minX, minMax[0]);\n    this.minY = Math.min(this.minY, minMax[1]);\n    this.maxX = Math.max(this.maxX, minMax[2]);\n    this.maxY = Math.max(this.maxY, minMax[3]);\n  }\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    const box = Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax);\n    if (minMax) {\n      return;\n    }\n    this.updateRectMinMax(transform, box);\n  }\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        unreachable(\"Stroke bounding box must include transform.\");\n      }\n      const scale = Util.singularValueDecompose2dScale(transform);\n      const xStrokePad = scale[0] * this.lineWidth / 2;\n      const yStrokePad = scale[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n  updateClipFromPath() {\n    const intersect = Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n  isEmptyClip() {\n    return this.minX === Infinity;\n  }\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n}\nfunction putBinaryImageData(ctx, imgData) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  if (imgData.kind === util_ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    const white = 0xffffffff;\n    const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === util_ImageKind.RGBA_32BPP) {\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === util_ImageKind.RGB_24BPP) {\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n      destPos = 0;\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\", \"filter\"];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  if (!isNodeJS) {\n    const {\n      filter\n    } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n  }\n}\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  if (interpolate) {\n    return true;\n  }\n  const scale = Util.singularValueDecompose2dScale(transform);\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround((globalThis.devicePixelRatio || 1) * PixelsPerInch.PDF_TO_CSS_UNITS);\n  return scale[0] <= actualScale && scale[1] <= actualScale;\n}\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, filterFactory, {\n    optionalContentConfig,\n    markedContentStack = null\n  }, annotationCanvasMap, pageColors) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.processingType3 = null;\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n  }\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n    return fallback;\n  }\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform(...getCurrentTransform(this.compositeCtx));\n    }\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = getCurrentTransform(this.ctx);\n  }\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n    if (argsArrayLen === i) {\n      return i;\n    }\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n      fnId = fnArray[i];\n      if (fnId !== OPS.dependency) {\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n      i++;\n      if (i === argsArrayLen) {\n        return i;\n      }\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n    }\n  }\n  #restoreInitialState() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n    this.current.activeSMask = null;\n    this.ctx.restore();\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n  endDrawing() {\n    this.#restoreInitialState();\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background);\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n  _scaleImage(img, inverseTransform) {\n    const width = img.width ?? img.displayWidth;\n    const height = img.height ?? img.displayHeight;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = paintWidth >= 16384 ? Math.floor(paintWidth / 2) - 1 || 1 : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = paintHeight >= 16384 ? Math.floor(paintHeight / 2) - 1 || 1 : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = getCurrentTransform(ctx);\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      cacheKey = JSON.stringify(isPatternFill ? currentTransform : [currentTransform.slice(0, 4), fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n      scaled = cachedImage;\n    }\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n    let maskToCanvas = Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const [minX, minY, maxX, maxY] = Util.getAxialAlignedBoundingBox([0, 0, width, height], maskToCanvas);\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight);\n    const fillCtx = fillCanvas.context;\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, getCurrentTransformInverse(fillCtx));\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(fillCtx), img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n    const inverse = Util.transform(getCurrentTransformInverse(fillCtx), [1, 0, 0, 1, -offsetX, -offsetY]);\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, PathType.FILL) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n  setLineWidth(width) {\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n  setRenderingIntent(intent) {}\n  setFlatness(flatness) {}\n  setGState(states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.current.fillAlpha = value;\n          this.ctx.globalAlpha = value;\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n  beginSMaskMode() {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform(...getCurrentTransform(this.suspendedCtx));\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n  }\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    this.composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n  composeSMask(ctx, smask, layerCtx, layerBox) {\n    const layerOffsetX = layerBox[0];\n    const layerOffsetY = layerBox[1];\n    const layerWidth = layerBox[2] - layerOffsetX;\n    const layerHeight = layerBox[3] - layerOffsetY;\n    if (layerWidth === 0 || layerHeight === 0) {\n      return;\n    }\n    this.genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n    ctx.save();\n    ctx.globalAlpha = 1;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(layerCtx.canvas, 0, 0);\n    ctx.restore();\n  }\n  genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n    let maskCanvas = maskCtx.canvas;\n    let maskX = layerOffsetX - maskOffsetX;\n    let maskY = layerOffsetY - maskOffsetY;\n    if (backdrop) {\n      const backdropRGB = Util.makeHexColor(...backdrop);\n      if (maskX < 0 || maskY < 0 || maskX + width > maskCanvas.width || maskY + height > maskCanvas.height) {\n        const canvas = this.cachedCanvases.getCanvas(\"maskExtension\", width, height);\n        const ctx = canvas.context;\n        ctx.drawImage(maskCanvas, -maskX, -maskY);\n        ctx.globalCompositeOperation = \"destination-atop\";\n        ctx.fillStyle = backdropRGB;\n        ctx.fillRect(0, 0, width, height);\n        ctx.globalCompositeOperation = \"source-over\";\n        maskCanvas = canvas.canvas;\n        maskX = maskY = 0;\n      } else {\n        maskCtx.save();\n        maskCtx.globalAlpha = 1;\n        maskCtx.setTransform(1, 0, 0, 1, 0, 0);\n        const clip = new Path2D();\n        clip.rect(maskX, maskY, width, height);\n        maskCtx.clip(clip);\n        maskCtx.globalCompositeOperation = \"destination-atop\";\n        maskCtx.fillStyle = backdropRGB;\n        maskCtx.fillRect(maskX, maskY, width, height);\n        maskCtx.restore();\n      }\n    }\n    layerCtx.save();\n    layerCtx.globalAlpha = 1;\n    layerCtx.setTransform(1, 0, 0, 1, 0, 0);\n    if (subtype === \"Alpha\" && transferMap) {\n      layerCtx.filter = this.filterFactory.addAlphaFilter(transferMap);\n    } else if (subtype === \"Luminosity\") {\n      layerCtx.filter = this.filterFactory.addLuminosityFilter(transferMap);\n    }\n    const clip = new Path2D();\n    clip.rect(layerOffsetX, layerOffsetY, width, height);\n    layerCtx.clip(clip);\n    layerCtx.globalCompositeOperation = \"destination-in\";\n    layerCtx.drawImage(maskCanvas, maskX, maskY, width, height, layerOffsetX, layerOffsetY, width, height);\n    layerCtx.restore();\n  }\n  save() {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n      this.suspendedCtx.save();\n    } else {\n      this.ctx.save();\n    }\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n  restore() {\n    if (this.stateStack.length === 0 && this.inSMaskMode) {\n      this.endSMaskMode();\n    }\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      if (this.inSMaskMode) {\n        this.suspendedCtx.restore();\n        copyCtxState(this.suspendedCtx, this.ctx);\n      } else {\n        this.ctx.restore();\n      }\n      this.checkSMaskState();\n      this.pendingClip = null;\n      this._cachedScaleForStroking[0] = -1;\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  constructPath(ops, args, minMax) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let startX, startY;\n    const currentTransform = getCurrentTransform(ctx);\n    const isScalingMatrix = currentTransform[0] === 0 && currentTransform[3] === 0 || currentTransform[1] === 0 && currentTransform[2] === 0;\n    const minMaxForBezier = isScalingMatrix ? minMax.slice(0) : null;\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n          if (!isScalingMatrix) {\n            current.updateRectMinMax(currentTransform, [x, y, xw, yh]);\n          }\n          ctx.closePath();\n          break;\n        case OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], args[j + 2], args[j + 3], x, y, minMaxForBezier);\n          j += 6;\n          break;\n        case OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, x, y, args[j], args[j + 1], args[j + 2], args[j + 3], minMaxForBezier);\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], x, y, x, y, minMaxForBezier);\n          j += 4;\n          break;\n        case OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n    if (isScalingMatrix) {\n      current.updateScalingPathMinMax(currentTransform, minMaxForBezier);\n    }\n    current.setCurrentPoint(x, y);\n  }\n  closePath() {\n    this.ctx.closePath();\n  }\n  stroke(consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.STROKE);\n        this.rescaleAndStroke(false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(true);\n      }\n    }\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n  fill(consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL);\n      needRestore = true;\n    }\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n    this.consumePath();\n  }\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n  endPath() {\n    this.consumePath();\n  }\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n  beginText() {\n    this.current.textMatrix = IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n    ctx.save();\n    ctx.beginPath();\n    for (const path of paths) {\n      ctx.setTransform(...path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n    if (fontObj.isType3Font) {\n      return;\n    }\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface = fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n  paintChar(character, x, y, patternTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform(...patternTransform);\n      }\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.fill();\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.strokeText(character, x, y);\n      }\n    }\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths ||= [];\n      paths.push({\n        transform: getCurrentTransform(ctx),\n        x,\n        y,\n        fontSize,\n        addToPath\n      });\n    }\n  }\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n    let patternTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL);\n      patternTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode = current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n    ctx.lineWidth = lineWidth;\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      ctx.fillText(chars.join(\"\"), 0, 0);\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n      if (font.remeasure && width > 0) {\n        const measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY, patternTransform);\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY, patternTransform);\n          }\n        }\n      }\n      const charWidth = vertical ? width * widthAdvanceScale - spacing * fontDirection : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    return undefined;\n  }\n  showType3Text(glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y);\n    ctx.scale(textHScale, fontDirection);\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n      const transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n  setCharWidth(xWidth, yWidth) {}\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip();\n    this.endPath();\n  }\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform = this.baseTransform || getCurrentTransform(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n          optionalContentConfig: this.optionalContentConfig,\n          markedContentStack: this.markedContentStack\n        })\n      };\n      pattern = new TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n  setStrokeRGBColor(r, g, b) {\n    this.ctx.strokeStyle = this.current.strokeColor = Util.makeHexColor(r, g, b);\n  }\n  setStrokeTransparent() {\n    this.ctx.strokeStyle = this.current.strokeColor = \"transparent\";\n  }\n  setFillRGBColor(r, g, b) {\n    this.ctx.fillStyle = this.current.fillColor = Util.makeHexColor(r, g, b);\n    this.current.patternFill = false;\n  }\n  setFillTransparent() {\n    this.ctx.fillStyle = this.current.fillColor = \"transparent\";\n    this.current.patternFill = false;\n  }\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.SHADING);\n    const inv = getCurrentTransformInverse(ctx);\n    if (inv) {\n      const {\n        width,\n        height\n      } = ctx.canvas;\n      const [x0, y0, x1, y1] = Util.getAxialAlignedBoundingBox([0, 0, width, height], inv);\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n    if (matrix) {\n      this.transform(...matrix);\n    }\n    this.baseTransform = getCurrentTransform(this.ctx);\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updateRectMinMax(getCurrentTransform(this.ctx), bbox);\n      this.clip();\n      this.endPath();\n    }\n  }\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n    const currentCtx = this.ctx;\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n    const currentTransform = getCurrentTransform(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n    let bounds = Util.getAxialAlignedBoundingBox(group.bbox, getCurrentTransform(currentCtx));\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    const drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    const drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    } else {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.save();\n    }\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = getCurrentTransform(this.ctx);\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = Util.getAxialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx);\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n    this.ctx.save();\n    this.save();\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n    if (rect) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n        const [scaleX, scaleY] = Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx));\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n        this.endPath();\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.ctx.clip();\n        this.ctx.beginPath();\n      }\n    }\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform(...transform);\n    this.transform(...matrix);\n  }\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const glyph = this.processingType3;\n    if (glyph) {\n      if (glyph.compiled === undefined) {\n        glyph.compiled = compileType3Glyph(img);\n      }\n      if (glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectRepeat(img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    img = this.getObject(img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = getCurrentTransform(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(img);\n    ctx.setTransform(1, 0, 0, 1, mask.offsetX - currentTransform[4], mask.offsetY - currentTransform[5]);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n      const [x, y] = Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    for (const image of images) {\n      const {\n        data,\n        width,\n        height,\n        transform\n      } = image;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      const img = this.getObject(data, image);\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, getCurrentTransformInverse(ctx), PathType.FILL) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    this.paintInlineImageXObject(imgData);\n  }\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const {\n      bitmap,\n      width,\n      height\n    } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n    return tmpCanvas.canvas;\n  }\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save();\n    if (!isNodeJS) {\n      const {\n        filter\n      } = ctx;\n      if (filter !== \"none\" && filter !== \"\") {\n        ctx.filter = \"none\";\n      }\n    }\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    const scaled = this._scaleImage(imgToPaint, getCurrentTransformInverse(ctx));\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(ctx), imgData.interpolate);\n    drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n    this.compose();\n    this.restore();\n  }\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, imgToPaint, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n  markPoint(tag) {}\n  markPointProps(tag, properties) {}\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n  beginCompat() {}\n  endCompat() {}\n  consumePath(clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n      }\n      this.pendingClip = null;\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = getCurrentTransform(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n  getScaleForStroking() {\n    if (this._cachedScaleForStroking[0] === -1) {\n      const {\n        lineWidth\n      } = this.current;\n      const {\n        a,\n        b,\n        c,\n        d\n      } = this.ctx.getTransform();\n      let scaleX, scaleY;\n      if (b === 0 && c === 0) {\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n  rescaleAndStroke(saveRestore) {\n    const {\n      ctx\n    } = this;\n    const {\n      lineWidth\n    } = this.current;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    ctx.lineWidth = lineWidth || 1;\n    if (scaleX === 1 && scaleY === 1) {\n      ctx.stroke();\n      return;\n    }\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n    ctx.scale(scaleX, scaleY);\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n    ctx.stroke();\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n;// ./src/display/worker_options.js\nclass GlobalWorkerOptions {\n  static #port = null;\n  static #src = \"\";\n  static get workerPort() {\n    return this.#port;\n  }\n  static set workerPort(val) {\n    if (!(typeof Worker !== \"undefined\" && val instanceof Worker) && val !== null) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n  static get workerSrc() {\n    return this.#src;\n  }\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\n;// ./src/shared/message_handler.js\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\nfunction wrapReason(reason) {\n  if (!(reason instanceof Error || typeof reason === \"object\" && reason !== null)) {\n    unreachable('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\nclass MessageHandler {\n  #messageAC = new AbortController();\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n    comObj.addEventListener(\"message\", this.#onMessage.bind(this), {\n      signal: this.#messageAC.signal\n    });\n  }\n  #onMessage({\n    data\n  }) {\n    if (data.targetName !== this.sourceName) {\n      return;\n    }\n    if (data.stream) {\n      this.#processStreamMessage(data);\n      return;\n    }\n    if (data.callback) {\n      const callbackId = data.callbackId;\n      const capability = this.callbackCapabilities[callbackId];\n      if (!capability) {\n        throw new Error(`Cannot resolve callback ${callbackId}`);\n      }\n      delete this.callbackCapabilities[callbackId];\n      if (data.callback === CallbackKind.DATA) {\n        capability.resolve(data.data);\n      } else if (data.callback === CallbackKind.ERROR) {\n        capability.reject(wrapReason(data.reason));\n      } else {\n        throw new Error(\"Unexpected callback case\");\n      }\n      return;\n    }\n    const action = this.actionHandler[data.action];\n    if (!action) {\n      throw new Error(`Unknown action from worker: ${data.action}`);\n    }\n    if (data.callbackId) {\n      const sourceName = this.sourceName,\n        targetName = data.sourceName,\n        comObj = this.comObj;\n      new Promise(function (resolve) {\n        resolve(action(data.data));\n      }).then(function (result) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          callback: CallbackKind.DATA,\n          callbackId: data.callbackId,\n          data: result\n        });\n      }, function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          callback: CallbackKind.ERROR,\n          callbackId: data.callbackId,\n          reason: wrapReason(reason)\n        });\n      });\n      return;\n    }\n    if (data.streamId) {\n      this.#createStreamSink(data);\n      return;\n    }\n    action(data.data);\n  }\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = Promise.withResolvers();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = Promise.withResolvers();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        assert(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = Promise.withResolvers();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        streamSink.desiredSize = data.desiredSize;\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull?.());\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        new Promise(function (resolve) {\n          resolve(streamSink.onCancel?.(wrapReason(data.reason)));\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n  async #deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall?.promise, streamController.pullCall?.promise, streamController.cancelCall?.promise]);\n    delete this.streamControllers[streamId];\n  }\n  destroy() {\n    this.#messageAC?.abort();\n    this.#messageAC = null;\n  }\n}\n\n;// ./src/display/metadata.js\n\nclass Metadata {\n  #metadataMap;\n  #data;\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n  getRaw() {\n    return this.#data;\n  }\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n  getAll() {\n    return objectFromMap(this.#metadataMap);\n  }\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n}\n\n;// ./src/display/optional_content_config.js\n\n\nconst INTERNAL = Symbol(\"INTERNAL\");\nclass OptionalContentGroup {\n  #isDisplay = false;\n  #isPrint = false;\n  #userSet = false;\n  #visible = true;\n  constructor(renderingIntent, {\n    name,\n    intent,\n    usage,\n    rbGroups\n  }) {\n    this.#isDisplay = !!(renderingIntent & RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n    this.rbGroups = rbGroups;\n  }\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const {\n      print,\n      view\n    } = this.usage;\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      unreachable(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n  #groups = new Map();\n  #initialHash = null;\n  #order = null;\n  constructor(data, renderingIntent = RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n    this.name = null;\n    this.creator = null;\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(group.id, new OptionalContentGroup(renderingIntent, group));\n    }\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n    this.#initialHash = this.getHash();\n  }\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      info(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n  setVisibility(id, visible = true, preserveRB = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    if (preserveRB && visible && group.rbGroups.length) {\n      for (const rbGroup of group.rbGroups) {\n        for (const otherId of rbGroup) {\n          if (otherId !== id) {\n            this.#groups.get(otherId)?._setVisible(INTERNAL, false, true);\n          }\n        }\n      }\n    }\n    group._setVisible(INTERNAL, !!visible, true);\n    this.#cachedGetHash = null;\n  }\n  setOCGState({\n    state,\n    preserveRB\n  }) {\n    let operator;\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          this.setVisibility(elem, true, preserveRB);\n          break;\n        case \"OFF\":\n          this.setVisibility(elem, false, preserveRB);\n          break;\n        case \"Toggle\":\n          this.setVisibility(elem, !group.visible, preserveRB);\n          break;\n      }\n    }\n    this.#cachedGetHash = null;\n  }\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n  getGroups() {\n    return this.#groups.size > 0 ? objectFromMap(this.#groups) : null;\n  }\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new MurmurHash3_64();\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return this.#cachedGetHash = hash.hexdigest();\n  }\n}\n\n;// ./src/display/transport_stream.js\n\n\nclass PDFDataTransportStream {\n  constructor(pdfDataRangeTransport, {\n    disableRange = false,\n    disableStream = false\n  }) {\n    assert(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    const {\n      length,\n      initialData,\n      progressiveDone,\n      contentDispositionFilename\n    } = pdfDataRangeTransport;\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n    if (initialData?.length > 0) {\n      const buffer = initialData instanceof Uint8Array && initialData.byteLength === initialData.buffer.byteLength ? initialData.buffer : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n    pdfDataRangeTransport.transportReady();\n  }\n  _onReceiveData({\n    begin,\n    chunk\n  }) {\n    const buffer = chunk instanceof Uint8Array && chunk.byteLength === chunk.buffer.byteLength ? chunk.buffer : new Uint8Array(chunk).buffer;\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      this._rangeReaders[0]?.onProgress?.({\n        loaded: evt.loaded\n      });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total\n      });\n    }\n  }\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n  get headersReady() {\n    return this._headersReady;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\n;// ./src/display/content_disposition.js\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {}\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replaceAll(\"_\", \" \");\n        text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n      try {\n        text = atob(text);\n      } catch {}\n      return textdecode(charset, text);\n    });\n  }\n  return \"\";\n}\n\n;// ./src/display/network_utils.js\n\n\n\nfunction createHeaders(isHttp, httpHeaders) {\n  const headers = new Headers();\n  if (!isHttp || !httpHeaders || typeof httpHeaders !== \"object\") {\n    return headers;\n  }\n  for (const key in httpHeaders) {\n    const val = httpHeaders[key];\n    if (val !== undefined) {\n      headers.append(key, val);\n    }\n  }\n  return headers;\n}\nfunction validateRangeRequestCapabilities({\n  responseHeaders,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(responseHeaders.get(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (responseHeaders.get(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n  const contentEncoding = responseHeaders.get(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\nfunction extractFilenameFromHeader(responseHeaders) {\n  const contentDisposition = responseHeaders.get(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || status === 0 && url.startsWith(\"file:\")) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status);\n}\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n;// ./src/display/fetch_stream.js\n\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  warn(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.headers = createHeaders(this.isHttp, source.httpHeaders);\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    const headers = new Headers(stream.headers);\n    const url = source.url;\n    fetch(url, createFetchOptions(headers, this._withCredentials, this._abortController)).then(response => {\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseStatusError(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n      const responseHeaders = response.headers;\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = validateRangeRequestCapabilities({\n        responseHeaders,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = extractFilenameFromHeader(responseHeaders);\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n    this._abortController = new AbortController();\n    const headers = new Headers(stream.headers);\n    headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n    const url = source.url;\n    fetch(url, createFetchOptions(headers, this._withCredentials, this._abortController)).then(response => {\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseStatusError(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n;// ./src/display/network.js\n\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\nfunction network_getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return stringToBytes(data).buffer;\n}\nclass NetworkManager {\n  constructor({\n    url,\n    httpHeaders,\n    withCredentials\n  }) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.headers = createHeaders(this.isHttp, httpHeaders);\n    this.withCredentials = withCredentials || false;\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const [key, val] of this.headers) {\n      xhr.setRequestHeader(key, val);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n    if (xhr.readyState !== 4) {\n      return;\n    }\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n    delete this.pendingRequests[xhrId];\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const chunk = network_getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source);\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n    const responseHeaders = new Headers(fullRequestXhr.getAllResponseHeaders().trim().split(/[\\r\\n]+/).map(x => {\n      const [key, ...val] = x.split(\": \");\n      return [key, val.join(\": \")];\n    }));\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = validateRangeRequestCapabilities({\n      responseHeaders,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = extractFilenameFromHeader(responseHeaders);\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n    this._headersCapability.resolve();\n  }\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    this._headersCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    this._headersCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n  _close() {\n    this.onClosed?.(this);\n  }\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\n;// ./src/display/node_stream.js\n\n\n\nconst urlRegex = /^[a-z][a-z0-9\\-+.]+:/i;\nfunction parseUrlOrPath(sourceUrl) {\n  if (urlRegex.test(sourceUrl)) {\n    return new URL(sourceUrl);\n  }\n  const url = NodePackages.get(\"url\");\n  return new URL(url.pathToFileURL(sourceUrl));\n}\nfunction createRequest(url, headers, callback) {\n  if (url.protocol === \"http:\") {\n    const http = NodePackages.get(\"http\");\n    return http.request(url, {\n      headers\n    }, callback);\n  }\n  const https = NodePackages.get(\"https\");\n  return https.request(url, {\n    headers\n  }, callback);\n}\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrlOrPath(source.url);\n    this.isHttp = this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.headers = createHeaders(this.isHttp, source.httpHeaders);\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    const headers = Object.fromEntries(stream.headers);\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n      const responseHeaders = new Headers(this._readableStream.headers);\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = validateRangeRequestCapabilities({\n        responseHeaders,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = extractFilenameFromHeader(responseHeaders);\n    };\n    this._request = createRequest(this._url, headers, handleResponse);\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    const headers = Object.fromEntries(stream.headers);\n    headers.Range = `bytes=${start}-${end - 1}`;\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n    this._request = createRequest(this._url, headers, handleResponse);\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    const fs = NodePackages.get(\"fs\");\n    fs.promises.lstat(this._url).then(stat => {\n      this._contentLength = stat.size;\n      this._setReadableStream(fs.createReadStream(this._url));\n      this._headersCapability.resolve();\n    }, error => {\n      if (error.code === \"ENOENT\") {\n        error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n      }\n      this._storedError = error;\n      this._headersCapability.reject(error);\n    });\n  }\n}\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    const fs = NodePackages.get(\"fs\");\n    this._setReadableStream(fs.createReadStream(this._url, {\n      start,\n      end: end - 1\n    }));\n  }\n}\n\n;// ./src/display/text_layer.js\n\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nclass TextLayer {\n  #capability = Promise.withResolvers();\n  #container = null;\n  #disableProcessItems = false;\n  #fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n  #lang = null;\n  #layoutTextParams = null;\n  #pageHeight = 0;\n  #pageWidth = 0;\n  #reader = null;\n  #rootContainer = null;\n  #rotation = 0;\n  #scale = 0;\n  #styleCache = Object.create(null);\n  #textContentItemsStr = [];\n  #textContentSource = null;\n  #textDivs = [];\n  #textDivProperties = new WeakMap();\n  #transform = null;\n  static #ascentCache = new Map();\n  static #canvasContexts = new Map();\n  static #canvasCtxFonts = new WeakMap();\n  static #minFontSize = null;\n  static #pendingTextLayers = new Set();\n  constructor({\n    textContentSource,\n    container,\n    viewport\n  }) {\n    if (textContentSource instanceof ReadableStream) {\n      this.#textContentSource = textContentSource;\n    } else if (typeof textContentSource === \"object\") {\n      this.#textContentSource = new ReadableStream({\n        start(controller) {\n          controller.enqueue(textContentSource);\n          controller.close();\n        }\n      });\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    this.#container = this.#rootContainer = container;\n    this.#scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    this.#rotation = viewport.rotation;\n    this.#layoutTextParams = {\n      div: null,\n      properties: null,\n      ctx: null\n    };\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    this.#transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this.#pageWidth = pageWidth;\n    this.#pageHeight = pageHeight;\n    TextLayer.#ensureMinFontSizeComputed();\n    setLayerDimensions(container, viewport);\n    this.#capability.promise.finally(() => {\n      TextLayer.#pendingTextLayers.delete(this);\n      this.#layoutTextParams = null;\n      this.#styleCache = null;\n    }).catch(() => {});\n  }\n  static get fontFamilyMap() {\n    const {\n      isWindows,\n      isFirefox\n    } = util_FeatureTest.platform;\n    return shadow(this, \"fontFamilyMap\", new Map([[\"sans-serif\", `${isWindows && isFirefox ? \"Calibri, \" : \"\"}sans-serif`], [\"monospace\", `${isWindows && isFirefox ? \"Lucida Console, \" : \"\"}monospace`]]));\n  }\n  render() {\n    const pump = () => {\n      this.#reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          this.#capability.resolve();\n          return;\n        }\n        this.#lang ??= value.lang;\n        Object.assign(this.#styleCache, value.styles);\n        this.#processItems(value.items);\n        pump();\n      }, this.#capability.reject);\n    };\n    this.#reader = this.#textContentSource.getReader();\n    TextLayer.#pendingTextLayers.add(this);\n    pump();\n    return this.#capability.promise;\n  }\n  update({\n    viewport,\n    onBefore = null\n  }) {\n    const scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    const rotation = viewport.rotation;\n    if (rotation !== this.#rotation) {\n      onBefore?.();\n      this.#rotation = rotation;\n      setLayerDimensions(this.#rootContainer, {\n        rotation\n      });\n    }\n    if (scale !== this.#scale) {\n      onBefore?.();\n      this.#scale = scale;\n      const params = {\n        div: null,\n        properties: null,\n        ctx: TextLayer.#getCtx(this.#lang)\n      };\n      for (const div of this.#textDivs) {\n        params.properties = this.#textDivProperties.get(div);\n        params.div = div;\n        this.#layout(params);\n      }\n    }\n  }\n  cancel() {\n    const abortEx = new AbortException(\"TextLayer task cancelled.\");\n    this.#reader?.cancel(abortEx).catch(() => {});\n    this.#reader = null;\n    this.#capability.reject(abortEx);\n  }\n  get textDivs() {\n    return this.#textDivs;\n  }\n  get textContentItemsStr() {\n    return this.#textContentItemsStr;\n  }\n  #processItems(items) {\n    if (this.#disableProcessItems) {\n      return;\n    }\n    this.#layoutTextParams.ctx ??= TextLayer.#getCtx(this.#lang);\n    const textDivs = this.#textDivs,\n      textContentItemsStr = this.#textContentItemsStr;\n    for (const item of items) {\n      if (textDivs.length > MAX_TEXT_DIVS_TO_RENDER) {\n        warn(\"Ignoring additional textDivs for performance reasons.\");\n        this.#disableProcessItems = true;\n        return;\n      }\n      if (item.str === undefined) {\n        if (item.type === \"beginMarkedContentProps\" || item.type === \"beginMarkedContent\") {\n          const parent = this.#container;\n          this.#container = document.createElement(\"span\");\n          this.#container.classList.add(\"markedContent\");\n          if (item.id !== null) {\n            this.#container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this.#container);\n        } else if (item.type === \"endMarkedContent\") {\n          this.#container = this.#container.parentNode;\n        }\n        continue;\n      }\n      textContentItemsStr.push(item.str);\n      this.#appendText(item);\n    }\n  }\n  #appendText(geom) {\n    const textDiv = document.createElement(\"span\");\n    const textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      hasText: geom.str !== \"\",\n      hasEOL: geom.hasEOL,\n      fontSize: 0\n    };\n    this.#textDivs.push(textDiv);\n    const tx = Util.transform(this.#transform, geom.transform);\n    let angle = Math.atan2(tx[1], tx[0]);\n    const style = this.#styleCache[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    let fontFamily = this.#fontInspectorEnabled && style.fontSubstitution || style.fontFamily;\n    fontFamily = TextLayer.fontFamilyMap.get(fontFamily) || fontFamily;\n    const fontHeight = Math.hypot(tx[2], tx[3]);\n    const fontAscent = fontHeight * TextLayer.#getAscent(fontFamily, this.#lang);\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n    const scaleFactorStr = \"calc(var(--scale-factor)*\";\n    const divStyle = textDiv.style;\n    if (this.#container === this.#rootContainer) {\n      divStyle.left = `${(100 * left / this.#pageWidth).toFixed(2)}%`;\n      divStyle.top = `${(100 * top / this.#pageHeight).toFixed(2)}%`;\n    } else {\n      divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n      divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n    }\n    divStyle.fontSize = `${scaleFactorStr}${(TextLayer.#minFontSize * fontHeight).toFixed(2)}px)`;\n    divStyle.fontFamily = fontFamily;\n    textDivProperties.fontSize = fontHeight;\n    textDiv.setAttribute(\"role\", \"presentation\");\n    textDiv.textContent = geom.str;\n    textDiv.dir = geom.dir;\n    if (this.#fontInspectorEnabled) {\n      textDiv.dataset.fontName = style.fontSubstitutionLoadedName || geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n    }\n    this.#textDivProperties.set(textDiv, textDivProperties);\n    this.#layoutTextParams.div = textDiv;\n    this.#layoutTextParams.properties = textDivProperties;\n    this.#layout(this.#layoutTextParams);\n    if (textDivProperties.hasText) {\n      this.#container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this.#container.append(br);\n    }\n  }\n  #layout(params) {\n    const {\n      div,\n      properties,\n      ctx\n    } = params;\n    const {\n      style\n    } = div;\n    let transform = \"\";\n    if (TextLayer.#minFontSize > 1) {\n      transform = `scale(${1 / TextLayer.#minFontSize})`;\n    }\n    if (properties.canvasWidth !== 0 && properties.hasText) {\n      const {\n        fontFamily\n      } = style;\n      const {\n        canvasWidth,\n        fontSize\n      } = properties;\n      TextLayer.#ensureCtxFont(ctx, fontSize * this.#scale, fontFamily);\n      const {\n        width\n      } = ctx.measureText(div.textContent);\n      if (width > 0) {\n        transform = `scaleX(${canvasWidth * this.#scale / width}) ${transform}`;\n      }\n    }\n    if (properties.angle !== 0) {\n      transform = `rotate(${properties.angle}deg) ${transform}`;\n    }\n    if (transform.length > 0) {\n      style.transform = transform;\n    }\n  }\n  static cleanup() {\n    if (this.#pendingTextLayers.size > 0) {\n      return;\n    }\n    this.#ascentCache.clear();\n    for (const {\n      canvas\n    } of this.#canvasContexts.values()) {\n      canvas.remove();\n    }\n    this.#canvasContexts.clear();\n  }\n  static #getCtx(lang = null) {\n    let ctx = this.#canvasContexts.get(lang ||= \"\");\n    if (!ctx) {\n      const canvas = document.createElement(\"canvas\");\n      canvas.className = \"hiddenCanvasElement\";\n      canvas.lang = lang;\n      document.body.append(canvas);\n      ctx = canvas.getContext(\"2d\", {\n        alpha: false,\n        willReadFrequently: true\n      });\n      this.#canvasContexts.set(lang, ctx);\n      this.#canvasCtxFonts.set(ctx, {\n        size: 0,\n        family: \"\"\n      });\n    }\n    return ctx;\n  }\n  static #ensureCtxFont(ctx, size, family) {\n    const cached = this.#canvasCtxFonts.get(ctx);\n    if (size === cached.size && family === cached.family) {\n      return;\n    }\n    ctx.font = `${size}px ${family}`;\n    cached.size = size;\n    cached.family = family;\n  }\n  static #ensureMinFontSizeComputed() {\n    if (this.#minFontSize !== null) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.style.opacity = 0;\n    div.style.lineHeight = 1;\n    div.style.fontSize = \"1px\";\n    div.style.position = \"absolute\";\n    div.textContent = \"X\";\n    document.body.append(div);\n    this.#minFontSize = div.getBoundingClientRect().height;\n    div.remove();\n  }\n  static #getAscent(fontFamily, lang) {\n    const cachedAscent = this.#ascentCache.get(fontFamily);\n    if (cachedAscent) {\n      return cachedAscent;\n    }\n    const ctx = this.#getCtx(lang);\n    ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n    this.#ensureCtxFont(ctx, DEFAULT_FONT_SIZE, fontFamily);\n    const metrics = ctx.measureText(\"\");\n    let ascent = metrics.fontBoundingBoxAscent;\n    let descent = Math.abs(metrics.fontBoundingBoxDescent);\n    if (ascent) {\n      const ratio = ascent / (ascent + descent);\n      this.#ascentCache.set(fontFamily, ratio);\n      ctx.canvas.width = ctx.canvas.height = 0;\n      return ratio;\n    }\n    ctx.strokeStyle = \"red\";\n    ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n    ctx.strokeText(\"g\", 0, 0);\n    let pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n    descent = 0;\n    for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n      if (pixels[i] > 0) {\n        descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n        break;\n      }\n    }\n    ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n    ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n    pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n    ascent = 0;\n    for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n      if (pixels[i] > 0) {\n        ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n        break;\n      }\n    }\n    ctx.canvas.width = ctx.canvas.height = 0;\n    const ratio = ascent ? ascent / (ascent + descent) : DEFAULT_FONT_ASCENT;\n    this.#ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n}\n\n;// ./src/display/xfa_text.js\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n}\n\n;// ./src/display/api.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536;\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nconst DELAYED_CLEANUP_TIMEOUT = 5000;\nconst DefaultCanvasFactory = isNodeJS ? NodeCanvasFactory : DOMCanvasFactory;\nconst DefaultCMapReaderFactory = isNodeJS ? NodeCMapReaderFactory : DOMCMapReaderFactory;\nconst DefaultFilterFactory = isNodeJS ? NodeFilterFactory : DOMFilterFactory;\nconst DefaultStandardFontDataFactory = isNodeJS ? NodeStandardFontDataFactory : DOMStandardFontDataFactory;\nfunction getDocument(src = {}) {\n  if (typeof src === \"string\" || src instanceof URL) {\n    src = {\n      url: src\n    };\n  } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n    src = {\n      data: src\n    };\n  }\n  const task = new PDFDocumentLoadingTask();\n  const {\n    docId\n  } = task;\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport = src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize = Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0 ? src.rangeChunkSize : DEFAULT_RANGE_CHUNK_SIZE;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  const docBaseUrl = typeof src.docBaseUrl === \"string\" && !isDataScheme(src.docBaseUrl) ? src.docBaseUrl : null;\n  const cMapUrl = typeof src.cMapUrl === \"string\" ? src.cMapUrl : null;\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || DefaultCMapReaderFactory;\n  const standardFontDataUrl = typeof src.standardFontDataUrl === \"string\" ? src.standardFontDataUrl : null;\n  const StandardFontDataFactory = src.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize = Number.isInteger(src.maxImageSize) && src.maxImageSize > -1 ? src.maxImageSize : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported = typeof src.isOffscreenCanvasSupported === \"boolean\" ? src.isOffscreenCanvasSupported : !isNodeJS;\n  const isChrome = typeof src.isChrome === \"boolean\" ? src.isChrome : !util_FeatureTest.platform.isFirefox && typeof window !== \"undefined\" && !!window?.chrome;\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes) ? src.canvasMaxAreaInBytes : -1;\n  const disableFontFace = typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const CanvasFactory = src.CanvasFactory || DefaultCanvasFactory;\n  const FilterFactory = src.FilterFactory || DefaultFilterFactory;\n  const enableHWA = src.enableHWA === true;\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts = typeof src.useSystemFonts === \"boolean\" ? src.useSystemFonts : !isNodeJS && !disableFontFace;\n  const useWorkerFetch = typeof src.useWorkerFetch === \"boolean\" ? src.useWorkerFetch : CMapReaderFactory === DOMCMapReaderFactory && StandardFontDataFactory === DOMStandardFontDataFactory && cMapUrl && standardFontDataUrl && isValidFetchUrl(cMapUrl, document.baseURI) && isValidFetchUrl(standardFontDataUrl, document.baseURI);\n  if (src.canvasFactory) {\n    deprecated(\"`canvasFactory`-instance option, please use `CanvasFactory` instead.\");\n  }\n  if (src.filterFactory) {\n    deprecated(\"`filterFactory`-instance option, please use `FilterFactory` instead.\");\n  }\n  const styleElement = null;\n  setVerbosityLevel(verbosity);\n  const transportFactory = {\n    canvasFactory: new CanvasFactory({\n      ownerDocument,\n      enableHWA\n    }),\n    filterFactory: new FilterFactory({\n      docId,\n      ownerDocument\n    }),\n    cMapReaderFactory: useWorkerFetch ? null : new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked\n    }),\n    standardFontDataFactory: useWorkerFetch ? null : new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl\n    })\n  };\n  if (!worker) {\n    const workerParams = {\n      verbosity,\n      port: GlobalWorkerOptions.workerPort\n    };\n    worker = workerParams.port ? PDFWorker.fromPort(workerParams) : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const docParams = {\n    docId,\n    apiVersion: \"4.8.69\",\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      isChrome,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      cMapUrl: useWorkerFetch ? cMapUrl : null,\n      standardFontDataUrl: useWorkerFetch ? standardFontDataUrl : null\n    }\n  };\n  const transportParams = {\n    disableFontFace,\n    fontExtraProperties,\n    ownerDocument,\n    pdfBug,\n    styleElement,\n    loadingParams: {\n      disableAutoFetch,\n      enableXfa\n    }\n  };\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n    if (worker.destroyed) {\n      throw new Error(\"Worker was destroyed\");\n    }\n    const workerIdPromise = worker.messageHandler.sendWithPromise(\"GetDocRequest\", docParams, data ? [data.buffer] : null);\n    let networkStream;\n    if (rangeTransport) {\n      networkStream = new PDFDataTransportStream(rangeTransport, {\n        disableRange,\n        disableStream\n      });\n    } else if (!data) {\n      if (!url) {\n        throw new Error(\"getDocument - no `url` parameter provided.\");\n      }\n      let NetworkStream;\n      if (isNodeJS) {\n        const isFetchSupported = typeof fetch !== \"undefined\" && typeof Response !== \"undefined\" && \"body\" in Response.prototype;\n        NetworkStream = isFetchSupported && isValidFetchUrl(url) ? PDFFetchStream : PDFNodeStream;\n      } else {\n        NetworkStream = isValidFetchUrl(url) ? PDFFetchStream : PDFNetworkStream;\n      }\n      networkStream = new NetworkStream({\n        url,\n        length,\n        httpHeaders,\n        withCredentials,\n        rangeChunkSize,\n        disableRange,\n        disableStream\n      });\n    }\n    return workerIdPromise.then(workerId => {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n      const messageHandler = new MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, transportParams, transportFactory);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\nfunction getUrlProp(val) {\n  if (val instanceof URL) {\n    return val.href;\n  }\n  try {\n    return new URL(val, window.location).href;\n  } catch {\n    if (isNodeJS && typeof val === \"string\") {\n      return val;\n    }\n  }\n  throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n}\nfunction getDataProp(val) {\n  if (isNodeJS && typeof Buffer !== \"undefined\" && val instanceof Buffer) {\n    throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return stringToBytes(val);\n  }\n  if (val instanceof ArrayBuffer || ArrayBuffer.isView(val) || typeof val === \"object\" && !isNaN(val?.length)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\"Invalid PDF binary data: either TypedArray, \" + \"string, or array-like object is expected in the data property.\");\n}\nfunction isRefProxy(ref) {\n  return typeof ref === \"object\" && Number.isInteger(ref?.num) && ref.num >= 0 && Number.isInteger(ref?.gen) && ref.gen >= 0;\n}\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n  constructor() {\n    this._capability = Promise.withResolvers();\n    this._transport = null;\n    this._worker = null;\n    this.docId = `d${PDFDocumentLoadingTask.#docId++}`;\n    this.destroyed = false;\n    this.onPassword = null;\n    this.onProgress = null;\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\nclass PDFDataRangeTransport {\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = Promise.withResolvers();\n  }\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n  abort() {}\n}\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n  get canvasFactory() {\n    return this._transport.canvasFactory;\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n  getOutline() {\n    return this._transport.getOutline();\n  }\n  getOptionalContentConfig({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n  getData() {\n    return this._transport.getData();\n  }\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\nclass PDFPageProxy {\n  #delayedCleanupTimeout = null;\n  #pendingCleanup = false;\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._maybeCleanupAfterRender = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n  get ref() {\n    return this._pageInfo.ref;\n  }\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n  get view() {\n    return this._pageInfo.view;\n  }\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null,\n    isEditing = false\n  }) {\n    this._stats?.time(\"Overall\");\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing);\n    const {\n      renderingIntent,\n      cacheKey\n    } = intentArgs;\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    optionalContentConfigPromise ||= this._transport.getOptionalContentConfig(renderingIntent);\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    const intentPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n      if (this._maybeCleanupAfterRender || intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup(!intentPrint);\n      if (error) {\n        internalRenderTask.capability.reject(error);\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n        if (globalThis.Stats?.enabled) {\n          globalThis.Stats.add(this.pageNumber, this._stats);\n        }\n      }\n    };\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.destroyed) {\n        complete();\n        return;\n      }\n      this._stats?.time(\"Rendering\");\n      if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n        throw new Error(\"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" + \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\");\n      }\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isEditing = false\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing, true);\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      includeMarkedContent: includeMarkedContent === true,\n      disableNormalization: disableNormalization === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n      size(textContent) {\n        return textContent.items.length;\n      }\n    });\n  }\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          textContent.lang ??= value.lang;\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n        lang: null\n      };\n      pump();\n    });\n  }\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    return Promise.all(waitOn);\n  }\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup(false);\n    if (resetStats && success) {\n      this._stats &&= new StatTimer();\n    }\n    return success;\n  }\n  #tryCleanup(delayed = false) {\n    this.#abortDelayedCleanup();\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    if (delayed) {\n      this.#delayedCleanupTimeout = setTimeout(() => {\n        this.#delayedCleanupTimeout = null;\n        this.#tryCleanup(false);\n      }, DELAYED_CLEANUP_TIMEOUT);\n      return false;\n    }\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n  #abortDelayedCleanup() {\n    if (this.#delayedCleanupTimeout) {\n      clearTimeout(this.#delayedCleanupTimeout);\n      this.#delayedCleanupTimeout = null;\n    }\n  }\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return;\n    }\n    this._stats?.timeEnd(\"Page Request\");\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup(true);\n    }\n  }\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable,\n    modifiedIds\n  }) {\n    const {\n      map,\n      transfer\n    } = annotationStorageSerializable;\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: map,\n      modifiedIds\n    }, transfer);\n    const reader = readableStream.getReader();\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n        if (this._transport.destroyed) {\n          return;\n        }\n        this._renderPageChunk(value, intentState);\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n        if (this._transport.destroyed) {\n          return;\n        }\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          this.#tryCleanup(true);\n        }\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n    pump();\n  }\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      if (reason instanceof RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < 1000) {\n          delay += reason.extraDelay;\n        }\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n    if (this._transport.destroyed) {\n      return;\n    }\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    this.cleanup();\n  }\n  get stats() {\n    return this._stats;\n  }\n}\nclass LoopbackPort {\n  #listeners = new Map();\n  #deferred = Promise.resolve();\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? {\n        transfer\n      } : null)\n    };\n    this.#deferred.then(() => {\n      for (const [listener] of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n  addEventListener(name, listener, options = null) {\n    let rmAbort = null;\n    if (options?.signal instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        warn(\"LoopbackPort - cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this.removeEventListener(name, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    this.#listeners.set(listener, rmAbort);\n  }\n  removeEventListener(name, listener) {\n    const rmAbort = this.#listeners.get(listener);\n    rmAbort?.();\n    this.#listeners.delete(listener);\n  }\n  terminate() {\n    for (const [, rmAbort] of this.#listeners) {\n      rmAbort?.();\n    }\n    this.#listeners.clear();\n  }\n}\nclass PDFWorker {\n  static #fakeWorkerId = 0;\n  static #isWorkerDisabled = false;\n  static #workerPorts;\n  static {\n    if (isNodeJS) {\n      this.#isWorkerDisabled = true;\n      GlobalWorkerOptions.workerSrc ||= \"./pdf.worker.mjs\";\n    }\n    this._isSameOrigin = (baseUrl, otherUrl) => {\n      let base;\n      try {\n        base = new URL(baseUrl);\n        if (!base.origin || base.origin === \"null\") {\n          return false;\n        }\n      } catch {\n        return false;\n      }\n      const other = new URL(otherUrl, base);\n      return base.origin === other.origin;\n    };\n    this._createCDNWrapper = url => {\n      const wrapper = `await import(\"${url}\");`;\n      return URL.createObjectURL(new Blob([wrapper], {\n        type: \"text/javascript\"\n      }));\n    };\n  }\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel()\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    this._readyCapability = Promise.withResolvers();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n    if (port) {\n      if (PDFWorker.#workerPorts?.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      (PDFWorker.#workerPorts ||= new WeakMap()).set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n  get promise() {\n    if (isNodeJS) {\n      return Promise.all([NodePackages.promise, this._readyCapability.promise]);\n    }\n    return this._readyCapability.promise;\n  }\n  #resolve() {\n    this._readyCapability.resolve();\n    this._messageHandler.send(\"configure\", {\n      verbosity: this.verbosity\n    });\n  }\n  get port() {\n    return this._port;\n  }\n  get messageHandler() {\n    return this._messageHandler;\n  }\n  _initializeFromPort(port) {\n    this._port = port;\n    this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {});\n    this.#resolve();\n  }\n  _initialize() {\n    if (PDFWorker.#isWorkerDisabled || PDFWorker.#mainThreadWorkerMessageHandler) {\n      this._setupFakeWorker();\n      return;\n    }\n    let {\n      workerSrc\n    } = PDFWorker;\n    try {\n      if (!PDFWorker._isSameOrigin(window.location.href, workerSrc)) {\n        workerSrc = PDFWorker._createCDNWrapper(new URL(workerSrc, window.location).href);\n      }\n      const worker = new Worker(workerSrc, {\n        type: \"module\"\n      });\n      const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n      const terminateEarly = () => {\n        ac.abort();\n        messageHandler.destroy();\n        worker.terminate();\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n        } else {\n          this._setupFakeWorker();\n        }\n      };\n      const ac = new AbortController();\n      worker.addEventListener(\"error\", () => {\n        if (!this._webWorker) {\n          terminateEarly();\n        }\n      }, {\n        signal: ac.signal\n      });\n      messageHandler.on(\"test\", data => {\n        ac.abort();\n        if (this.destroyed || !data) {\n          terminateEarly();\n          return;\n        }\n        this._messageHandler = messageHandler;\n        this._port = worker;\n        this._webWorker = worker;\n        this.#resolve();\n      });\n      messageHandler.on(\"ready\", data => {\n        ac.abort();\n        if (this.destroyed) {\n          terminateEarly();\n          return;\n        }\n        try {\n          sendTest();\n        } catch {\n          this._setupFakeWorker();\n        }\n      });\n      const sendTest = () => {\n        const testObj = new Uint8Array();\n        messageHandler.send(\"test\", testObj, [testObj.buffer]);\n      };\n      sendTest();\n      return;\n    } catch {\n      info(\"The worker has been disabled.\");\n    }\n    this._setupFakeWorker();\n  }\n  _setupFakeWorker() {\n    if (!PDFWorker.#isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorker.#isWorkerDisabled = true;\n    }\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      const port = new LoopbackPort();\n      this._port = port;\n      const id = `fake${PDFWorker.#fakeWorkerId++}`;\n      const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      this._messageHandler = new MessageHandler(id, id + \"_worker\", port);\n      this.#resolve();\n    }).catch(reason => {\n      this._readyCapability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker.#workerPorts?.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n  static fromPort(params) {\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    const cachedPort = this.#workerPorts?.get(params.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\"PDFWorker.fromPort - the worker is being destroyed.\\n\" + \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker = await import(/*webpackIgnore: true*/this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nclass WorkerTransport {\n  #methodPromises = new Map();\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #pageRefCache = new Map();\n  #passwordCapability = null;\n  constructor(messageHandler, loadingTask, networkStream, params, factory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this.loadingParams = params.loadingParams;\n    this._params = params;\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n    this.setupMessageHandler();\n  }\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n  getRenderingIntent(intent, annotationMode = AnnotationMode.ENABLE, printAnnotationStorage = null, isEditing = false, isOpList = false) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY;\n    let annotationStorageSerializable = SerializableEmpty;\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n    const annotationStorage = renderingIntent & RenderingIntentFlag.PRINT && printAnnotationStorage instanceof PrintAnnotationStorage ? printAnnotationStorage : this.annotationStorage;\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n    if (isEditing) {\n      renderingIntent += RenderingIntentFlag.IS_EDITING;\n    }\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n    const {\n      ids: modifiedIds,\n      hash: modifiedIdsHash\n    } = annotationStorage.modifiedIds;\n    const cacheKeyBuf = [renderingIntent, annotationStorageSerializable.hash, modifiedIdsHash];\n    return {\n      renderingIntent,\n      cacheKey: cacheKeyBuf.join(\"_\"),\n      annotationStorageSerializable,\n      modifiedIds\n    };\n  }\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n    this.#passwordCapability?.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    const waitOn = [];\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      TextLayer.cleanup();\n      this._networkStream?.cancelAllRequests(new AbortException(\"Worker was terminated.\"));\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", async data => {\n      await this._fullReader.headersReady;\n      const {\n        isStreamingSupported,\n        isRangeSupported,\n        contentLength\n      } = this._fullReader;\n      if (!isStreamingSupported || !isRangeSupported) {\n        if (this._lastProgress) {\n          loadingTask.onProgress?.(this._lastProgress);\n        }\n        this._fullReader.onProgress = evt => {\n          loadingTask.onProgress?.({\n            loaded: evt.loaded,\n            total: evt.total\n          });\n        };\n      }\n      return {\n        isStreamingSupported,\n        isRangeSupported,\n        contentLength\n      };\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          unreachable(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this.#passwordCapability = Promise.withResolvers();\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({\n              password\n            });\n          }\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this.#passwordCapability.reject(ex);\n        }\n      } else {\n        this.#passwordCapability.reject(new PasswordException(exception.message, exception.code));\n      }\n      return this.#passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null;\n      }\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n      switch (type) {\n        case \"Font\":\n          const {\n            disableFontFace,\n            fontExtraProperties,\n            pdfBug\n          } = this._params;\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n          const inspectFont = pdfBug && globalThis.FontInspector?.enabled ? (font, url) => globalThis.FontInspector.fontAdded(font, url) : null;\n          const font = new FontFaceObject(exportedData, {\n            disableFontFace,\n            inspectFont\n          });\n          this.fontLoader.bind(font).catch(() => messageHandler.sendWithPromise(\"FontFallback\", {\n            id\n          })).finally(() => {\n            if (!fontExtraProperties && font.data) {\n              font.data = null;\n            }\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n        case \"CopyLocalImage\":\n          const {\n            imageRef\n          } = exportedData;\n          assert(imageRef, \"The imageRef must be defined.\");\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data?.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n      return null;\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close();\n        return;\n      }\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n          if (imageData?.dataLen > MAX_IMAGE_SIZE_TO_CACHE) {\n            pageProxy._maybeCleanupAfterRender = true;\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"FetchBuiltInCMap\", async data => {\n      if (this.destroyed) {\n        throw new Error(\"Worker was destroyed.\");\n      }\n      if (!this.cMapReaderFactory) {\n        throw new Error(\"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\");\n      }\n      return this.cMapReaderFactory.fetch(data);\n    });\n    messageHandler.on(\"FetchStandardFontData\", async data => {\n      if (this.destroyed) {\n        throw new Error(\"Worker was destroyed.\");\n      }\n      if (!this.standardFontDataFactory) {\n        throw new Error(\"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\");\n      }\n      return this.standardFontDataFactory.fetch(data);\n    });\n  }\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      warn(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n    const {\n      map,\n      transfer\n    } = this.annotationStorage.serializable;\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: map,\n      filename: this._fullReader?.filename ?? null\n    }, transfer).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n      if (pageInfo.refStr) {\n        this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n      }\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(data => new OptionalContentConfig(data, renderingIntent));\n  }\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, null).then(results => ({\n      info: results[0],\n      metadata: results[1] ? new Metadata(results[1]) : null,\n      contentDispositionFilename: this._fullReader?.filename ?? null,\n      contentLength: this._fullReader?.contentLength ?? null\n    }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return;\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(true);\n    TextLayer.cleanup();\n  }\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n}\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\nclass PDFObjects {\n  #objs = Object.create(null);\n  #ensureObj(objId) {\n    return this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA\n    };\n  }\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n  clear() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      data?.bitmap?.close();\n    }\n    this.#objs = Object.create(null);\n  }\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\nclass RenderTask {\n  #internalRenderTask = null;\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n    this.onContinue = null;\n  }\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(null, extraDelay);\n  }\n  get separateAnnots() {\n    const {\n      separateAnnots\n    } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const {\n      annotationCanvasMap\n    } = this.#internalRenderTask;\n    return separateAnnots.form || separateAnnots.canvas && annotationCanvasMap?.size > 0;\n  }\n}\nclass InternalRenderTask {\n  #rAF = null;\n  static #canvasInUse = new WeakSet();\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const {\n      canvasContext,\n      viewport,\n      transform,\n      background\n    } = this.params;\n    this.gfx = new CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n      optionalContentConfig\n    }, this.annotationCanvasMap, this.pageColors);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    if (this.#rAF) {\n      window.cancelAnimationFrame(this.#rAF);\n      this.#rAF = null;\n    }\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n    this.callback(error || new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, extraDelay));\n  }\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.stepper?.updateOperatorList(this.operatorList);\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      this.#rAF = window.requestAnimationFrame(() => {\n        this.#rAF = null;\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n        this.callback();\n      }\n    }\n  }\n}\nconst version = \"4.8.69\";\nconst build = \"3634dab10\";\n\n;// ./src/shared/scripting_utils.js\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n  static T_HTML() {\n    return \"#00000000\";\n  }\n  static T_rgb() {\n    return [null];\n  }\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n  static CMYK_rgb([c, y, m, k]) {\n    return [scaleAndClamp(1 - Math.min(1, c + k)), scaleAndClamp(1 - Math.min(1, m + k)), scaleAndClamp(1 - Math.min(1, y + k))];\n  }\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\n;// ./src/display/svg_factory.js\n\n\nclass BaseSVGFactory {\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\nclass DOMSVGFactory extends BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n;// ./src/display/xfa_layer.js\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || key !== \"href\" && key !== \"newWindow\") {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n    const textDivs = [];\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return {\n        textDivs\n      };\n    }\n    const stack = [[root, -1, rootHtml]];\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n      const {\n        name\n      } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n      const childHtml = child?.attributes?.xmlns ? document.createElementNS(child.attributes.xmlns, name) : document.createElement(name);\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n    return {\n      textDivs\n    };\n  }\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\n;// ./src/display/annotation_layer.js\n\n\n\n\n\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst annotation_layer_DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nfunction getRectDims(rect) {\n  return {\n    width: rect[2] - rect[0],\n    height: rect[3] - rect[1]\n  };\n}\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\nclass AnnotationElement {\n  #updates = null;\n  #hasBorder = false;\n  #popupElement = null;\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n  static _hasPopupData({\n    titleObj,\n    contentsObj,\n    richText\n  }) {\n    return !!(titleObj?.str || contentsObj?.str || richText?.str);\n  }\n  get _isEditable() {\n    return this.data.isEditable;\n  }\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data);\n  }\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n    this.#updates ||= {\n      rect: this.data.rect.slice(0)\n    };\n    const {\n      rect\n    } = params;\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n    this.#popupElement?.popup.updateEdited(params);\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#popupElement?.popup.resetEdited();\n    this.#updates = null;\n  }\n  #setRectEdited(rect) {\n    const {\n      container: {\n        style\n      },\n      data: {\n        rect: currentRect,\n        rotation\n      },\n      parent: {\n        viewport: {\n          rawDims: {\n            pageWidth,\n            pageHeight,\n            pageX,\n            pageY\n          }\n        }\n      }\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    const {\n      width,\n      height\n    } = getRectDims(rect);\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (pageHeight - rect[3] + pageY) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: {\n        page,\n        viewport\n      }\n    } = this;\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement)) {\n      container.tabIndex = DEFAULT_TAB_INDEX;\n    }\n    const {\n      style\n    } = container;\n    style.zIndex = this.parent.zIndex++;\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const {\n        rotation\n      } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      }\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n        case AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n        case AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n        default:\n          break;\n      }\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = Util.makeHexColor(borderColor[0] | 0, borderColor[1] | 0, borderColor[2] | 0);\n      } else {\n        style.borderWidth = 0;\n      }\n    }\n    const rect = Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (rect[1] - pageY) / pageHeight}%`;\n    const {\n      rotation\n    } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n    return container;\n  }\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const {\n      pageWidth,\n      pageHeight\n    } = this.parent.viewport.rawDims;\n    const {\n      width,\n      height\n    } = getRectDims(this.data.rect);\n    let elementWidth, elementHeight;\n    if (angle % 180 === 0) {\n      elementWidth = 100 * width / pageWidth;\n      elementHeight = 100 * height / pageHeight;\n    } else {\n      elementWidth = 100 * height / pageWidth;\n      elementHeight = 100 * width / pageHeight;\n    }\n    container.style.width = `${elementWidth}%`;\n    container.style.height = `${elementHeight}%`;\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] = ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray)\n      });\n    };\n    return shadow(this, \"_commonActions\", {\n      display: event => {\n        const {\n          display\n        } = event.detail;\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print\n        });\n      },\n      hidden: event => {\n        const {\n          hidden\n        } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle\n        });\n      }\n    });\n  }\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail\n          },\n          target: element\n        };\n        action(eventProxy);\n        delete storedData[actionName];\n      }\n    }\n  }\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const {\n      quadPoints\n    } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect.map(x => Math.fround(x));\n    if (quadPoints.length === 8) {\n      const [trX, trY, blX, blY] = quadPoints.subarray(2, 6);\n      if (rectTrX === trX && rectTrY === trY && rectBlX === blX && rectBlY === blY) {\n        return;\n      }\n    }\n    const {\n      style\n    } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const {\n        borderColor,\n        borderWidth\n      } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\"url('data:image/svg+xml;utf8,\", `<svg xmlns=\"http://www.w3.org/2000/svg\"`, ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`, `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`];\n      this.container.classList.add(\"hasBorder\");\n    }\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n    const {\n      svgFactory\n    } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n    for (let i = 2, ii = quadPoints.length; i < ii; i += 8) {\n      const trX = quadPoints[i];\n      const trY = quadPoints[i + 1];\n      const blX = quadPoints[i + 2];\n      const blY = quadPoints[i + 3];\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(`<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`);\n    }\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n  _createPopup() {\n    const {\n      data\n    } = this;\n    const popup = this.#popupElement = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate: data.modificationDate,\n        contentsObj: data.contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation\n      },\n      parent: this.parent,\n      elements: [this]\n    });\n    this.parent.div.append(popup.render());\n  }\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n      return fields;\n    }\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        exportValue\n      } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n    return fields;\n  }\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: {\n        id: editId\n      }\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId\n      });\n    });\n  }\n}\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n      isBound = true;\n    } else {\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n    return this.container;\n  }\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === \"\") {\n      this.#setInternalLink();\n    }\n  }\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindAttachment(link, attachment, dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    if (attachment.description) {\n      link.title = attachment.description;\n    }\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(attachment.content, attachment.filename, dest);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindSetOCGState(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n    if (!this._fieldObjects) {\n      warn(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n    link.onclick = () => {\n      otherClickAction?.();\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          default:\n            continue;\n        }\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          warn(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n      return false;\n    };\n  }\n}\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n    const image = document.createElement(\"img\");\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\"data-l10n-args\", JSON.stringify({\n      type: this.data.name\n    }));\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.append(image);\n    return this.container;\n  }\n}\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    return this.container;\n  }\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n  _getKeyModifier(event) {\n    return util_FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n        if (!valueGetter) {\n          return;\n        }\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= {\n            focused: false\n          };\n        }\n        this._setEventListener(element, elementData, baseName, eventName, getter);\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const fontSize = this.data.defaultAppearanceData.fontSize || annotation_layer_DEFAULT_FONT_SIZE;\n    const style = element.style;\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      const numberOfLines = Math.round(height / (LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(lineHeight / LINE_FACTOR));\n    } else {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(height / LINE_FACTOR));\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--scale-factor))`;\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || parameters.data.hasOwnCanvas || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.classList.add(\"textWidgetAnnotation\");\n    let element = null;\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n      let fieldFormattedValues = storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false\n      };\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n      this._setRequired(element, this.data.required);\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n        elementData.formattedValue = null;\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        event.target.scrollLeft = 0;\n      };\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const {\n            target\n          } = event;\n          if (elementData.userValue) {\n            target.value = elementData.userValue;\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              storage.setValue(id, {\n                value: elementData.userValue.toString()\n              });\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue\n              });\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const {\n                charLimit\n              } = event.detail;\n              const {\n                target\n              } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, {\n                value\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd\n                }\n              });\n            }\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const {\n            value\n          } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const {\n            value\n          } = event.target;\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n          _blurListener(event);\n        });\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n        this._setEventListeners(element, elementData, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: !!parameters.data.hasOwnCanvas\n    });\n  }\n}\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n    if (value) {\n      for (const radio of this._getElementsByName(data.fieldName, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n    }\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n  render() {\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n    return container;\n  }\n}\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const {\n        options,\n        multiple\n      } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n    let selectedValues = getValue(false);\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value\n      }));\n    };\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n            selectedValues = getValue(false);\n          },\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          items(event) {\n            const {\n              items\n            } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(true);\n        const change = getValue(false);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        event.preventDefault();\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n      this._setEventListeners(selectElement, null, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"], [\"input\", \"Validate\"]], event => event.target.value);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(true)\n        });\n      });\n    }\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {}\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const {\n      data,\n      elements\n    } = parameters;\n    super(parameters, {\n      isRenderable: AnnotationElement._hasPopupData(data)\n    });\n    this.elements = elements;\n    this.popup = null;\n  }\n  render() {\n    this.container.classList.add(\"popupAnnotation\");\n    const popup = this.popup = new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open\n    });\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      element.container.ariaHasPopup = \"dialog\";\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n    this.container.setAttribute(\"aria-controls\", elementIds.map(id => `${AnnotationPrefix}${id}`).join(\",\"));\n    return this.container;\n  }\n}\nclass PopupElement {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundHide = this.#hide.bind(this);\n  #boundShow = this.#show.bind(this);\n  #boundToggle = this.#toggle.bind(this);\n  #color = null;\n  #container = null;\n  #contentsObj = null;\n  #dateObj = null;\n  #elements = null;\n  #parent = null;\n  #parentRect = null;\n  #pinned = false;\n  #popup = null;\n  #position = null;\n  #rect = null;\n  #richText = null;\n  #titleObj = null;\n  #updates = null;\n  #wasVisible = false;\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#dateObj = PDFDateString.toDateObject(modificationDate);\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle);\n      element.addEventListener(\"mouseenter\", this.#boundShow);\n      element.addEventListener(\"mouseleave\", this.#boundHide);\n      element.classList.add(\"popupTriggerArea\");\n    }\n    for (const element of elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown);\n    }\n    this.#container.hidden = true;\n    if (open) {\n      this.#toggle();\n    }\n  }\n  render() {\n    if (this.#popup) {\n      return;\n    }\n    const popup = this.#popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    if (this.#color) {\n      const baseColor = popup.style.outlineColor = Util.makeHexColor(...this.#color);\n      if (CSS.supports(\"background-color\", \"color-mix(in srgb, red 30%, white)\")) {\n        popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n      } else {\n        const BACKGROUND_ENLIGHT = 0.7;\n        popup.style.backgroundColor = Util.makeHexColor(...this.#color.map(c => Math.floor(BACKGROUND_ENLIGHT * (255 - c) + c)));\n      }\n    }\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    const title = document.createElement(\"h1\");\n    header.append(title);\n    ({\n      dir: title.dir,\n      str: title.textContent\n    } = this.#titleObj);\n    popup.append(header);\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.classList.add(\"popupDate\");\n      modificationDate.setAttribute(\"data-l10n-id\", \"pdfjs-annotation-date-time-string\");\n      modificationDate.setAttribute(\"data-l10n-args\", JSON.stringify({\n        dateObj: this.#dateObj.valueOf()\n      }));\n      header.append(modificationDate);\n    }\n    const html = this.#html;\n    if (html) {\n      XfaLayer.render({\n        xfaHtml: html,\n        intent: \"richText\",\n        div: popup\n      });\n      popup.lastChild.classList.add(\"richText\", \"popupContent\");\n    } else {\n      const contents = this._formatContents(this.#contentsObj);\n      popup.append(contents);\n    }\n    this.#container.append(popup);\n  }\n  get #html() {\n    const richText = this.#richText;\n    const contentsObj = this.#contentsObj;\n    if (richText?.str && (!contentsObj?.str || contentsObj.str === richText.str)) {\n      return this.#richText.html || null;\n    }\n    return null;\n  }\n  get #fontSize() {\n    return this.#html?.attributes?.style?.fontSize || 0;\n  }\n  get #fontColor() {\n    return this.#html?.attributes?.style?.color || null;\n  }\n  #makePopupContent(text) {\n    const popupLines = [];\n    const popupContent = {\n      str: text,\n      html: {\n        name: \"div\",\n        attributes: {\n          dir: \"auto\"\n        },\n        children: [{\n          name: \"p\",\n          children: popupLines\n        }]\n      }\n    };\n    const lineAttributes = {\n      style: {\n        color: this.#fontColor,\n        fontSize: this.#fontSize ? `calc(${this.#fontSize}px * var(--scale-factor))` : \"\"\n      }\n    };\n    for (const line of text.split(\"\\n\")) {\n      popupLines.push({\n        name: \"span\",\n        value: line,\n        attributes: lineAttributes\n      });\n    }\n    return popupContent;\n  }\n  _formatContents({\n    str,\n    dir\n  }) {\n    const p = document.createElement(\"p\");\n    p.classList.add(\"popupContent\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n    if (event.key === \"Enter\" || event.key === \"Escape\" && this.#pinned) {\n      this.#toggle();\n    }\n  }\n  updateEdited({\n    rect,\n    popupContent\n  }) {\n    this.#updates ||= {\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    };\n    if (rect) {\n      this.#position = null;\n    }\n    if (popupContent) {\n      this.#richText = this.#makePopupContent(popupContent);\n      this.#contentsObj = null;\n    }\n    this.#popup?.remove();\n    this.#popup = null;\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    ({\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    } = this.#updates);\n    this.#updates = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#position = null;\n  }\n  #setPosition() {\n    if (this.#position !== null) {\n      return;\n    }\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.#parent;\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n    const normalizedRect = Util.normalizeRect([rect[0], view[3] - rect[1] + view[1], rect[2], view[3] - rect[3] + view[1]]);\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    this.#position = [100 * (popupLeft - pageX) / pageWidth, 100 * (popupTop - pageY) / pageHeight];\n    const {\n      style\n    } = this.#container;\n    style.left = `${this.#position[0]}%`;\n    style.top = `${this.#position[1]}%`;\n  }\n  #toggle() {\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#setPosition();\n      this.#container.hidden = false;\n      this.#container.style.zIndex = parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex = parseInt(this.#container.style.zIndex) - 1000;\n  }\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n  maybeShow() {\n    if (!this.#wasVisible) {\n      return;\n    }\n    if (!this.#popup) {\n      this.#show();\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n  get isVisible() {\n    return this.#container.hidden === false;\n  }\n}\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = AnnotationEditorType.FREETEXT;\n  }\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const line = this.#line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.append(line);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const square = this.#square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.append(square);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.#circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.append(circle);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        vertices,\n        borderStyle,\n        popupRef\n      }\n    } = this;\n    if (!vertices) {\n      return this.container;\n    }\n    const {\n      width,\n      height\n    } = getRectDims(rect);\n    const svg = this.svgFactory.create(width, height, true);\n    let points = [];\n    for (let i = 0, ii = vertices.length; i < ii; i += 2) {\n      const x = vertices[i] - rect[0];\n      const y = rect[3] - vertices[i + 1];\n      points.push(`${x},${y}`);\n    }\n    points = points.join(\" \");\n    const polyline = this.#polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.append(polyline);\n    this.container.append(svg);\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass InkAnnotationElement extends AnnotationElement {\n  #polylines = [];\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = this.data.it === \"InkHighlight\" ? AnnotationEditorType.HIGHLIGHT : AnnotationEditorType.INK;\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        inkLists,\n        borderStyle,\n        popupRef\n      }\n    } = this;\n    const {\n      width,\n      height\n    } = getRectDims(rect);\n    const svg = this.svgFactory.create(width, height, true);\n    for (const inkList of inkLists) {\n      let points = [];\n      for (let i = 0, ii = inkList.length; i < ii; i += 2) {\n        const x = inkList[i] - rect[0];\n        const y = rect[3] - inkList[i + 1];\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", points);\n      polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n      svg.append(polyline);\n    }\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.append(svg);\n    this._editOnDoubleClick();\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n    this.annotationEditorType = AnnotationEditorType.HIGHLIGHT;\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"highlightAnnotation\");\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"underlineAnnotation\");\n    return this.container;\n  }\n}\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"squigglyAnnotation\");\n    return this.container;\n  }\n}\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"strikeoutAnnotation\");\n    return this.container;\n  }\n}\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.annotationEditorType = AnnotationEditorType.STAMP;\n  }\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    this.container.setAttribute(\"role\", \"img\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      file\n    } = this.data;\n    this.filename = file.filename;\n    this.content = file.content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      ...file\n    });\n  }\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n    const {\n      container,\n      data\n    } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"}.svg`;\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(data.fillAlpha * 100)}%);`;\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n    container.append(trigger);\n    return container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\nclass AnnotationLayer {\n  #accessibilityManager = null;\n  #annotationCanvasMap = null;\n  #editableAnnotations = new Map();\n  #structTreeLayer = null;\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport,\n    structTreeLayer\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.#structTreeLayer = structTreeLayer || null;\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n  }\n  hasEditableAnnotations() {\n    return this.#editableAnnotations.size > 0;\n  }\n  async #appendElement(element, id) {\n    const contentElement = element.firstChild || element;\n    const annotationId = contentElement.id = `${AnnotationPrefix}${id}`;\n    const ariaAttributes = await this.#structTreeLayer?.getAriaAttributes(annotationId);\n    if (ariaAttributes) {\n      for (const [key, value] of ariaAttributes) {\n        contentElement.setAttribute(key, value);\n      }\n    }\n    this.div.append(element);\n    this.#accessibilityManager?.moveElementInDOM(this.div, element, contentElement, false);\n  }\n  async render(params) {\n    const {\n      annotations\n    } = params;\n    const layer = this.div;\n    setLayerDimensions(layer, this.viewport);\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: params.linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new DOMSVGFactory(),\n      annotationStorage: params.annotationStorage || new AnnotationStorage(),\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null\n    };\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        const {\n          width,\n          height\n        } = getRectDims(data.rect);\n        if (width <= 0 || height <= 0) {\n          continue;\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      await this.#appendElement(rendered, data.id);\n      if (element._isEditable) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n    this.#setAnnotationCanvasMap();\n  }\n  update({\n    viewport\n  }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    setLayerDimensions(layer, {\n      rotation: viewport.rotation\n    });\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n      canvas.className = \"annotationContent\";\n      const {\n        firstChild\n      } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n}\n\n;// ./src/display/editor/freetext.js\n\n\n\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\nclass FreeTextEditor extends AnnotationEditor {\n  #color;\n  #content = \"\";\n  #editorDivId = `${this.id}-editor`;\n  #editModeAC = null;\n  #fontSize;\n  static _freeTextDefaultContent = \"\";\n  static _internalPadding = 0;\n  static _defaultColor = null;\n  static _defaultFontSize = 10;\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n    const arrowChecker = self => self.isEmpty();\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"], proto.commitOrRemove, {\n      bubbles: true\n    }], [[\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"], proto.commitOrRemove], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._translateEmpty, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto._translateEmpty, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._translateEmpty, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto._translateEmpty, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._translateEmpty, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto._translateEmpty, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  static _type = \"freetext\";\n  static _editorType = AnnotationEditorType.FREETEXT;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"freeTextEditor\"\n    });\n    this.#color = params.color || FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    const style = getComputedStyle(document.documentElement);\n    this._internalPadding = parseFloat(style.getPropertyValue(\"--freetext-padding\"));\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, FreeTextEditor._defaultFontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, this.#color]];\n  }\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.#color = this.editorDiv.style.color = col;\n    };\n    const savedColor = this.#color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, true);\n  }\n  getInitialTranslation() {\n    const scale = this.parentScale;\n    return [-FreeTextEditor._internalPadding * scale, -(FreeTextEditor._internalPadding + this.#fontSize) * scale];\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(false);\n    this.parent.updateToolbar(AnnotationEditorType.FREETEXT);\n    super.enableEditMode();\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    this.#editModeAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#editModeAC);\n    this.editorDiv.addEventListener(\"keydown\", this.editorDivKeydown.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"focus\", this.editorDivFocus.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"blur\", this.editorDivBlur.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"input\", this.editorDivInput.bind(this), {\n      signal\n    });\n    this.editorDiv.addEventListener(\"paste\", this.editorDivPaste.bind(this), {\n      signal\n    });\n  }\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(true);\n    super.disableEditMode();\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.#editModeAC?.abort();\n    this.#editModeAC = null;\n    this.div.focus({\n      preventScroll: true\n    });\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n  onceAdded() {\n    if (this.width) {\n      return;\n    }\n    this.enableEditMode();\n    this.editorDiv.focus();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n  #extractText() {\n    const buffer = [];\n    this.editorDiv.normalize();\n    let prevChild = null;\n    for (const child of this.editorDiv.childNodes) {\n      if (prevChild?.nodeType === Node.TEXT_NODE && child.nodeName === \"BR\") {\n        continue;\n      }\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n      prevChild = child;\n    }\n    return buffer.join(\"\\n\");\n  }\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      const {\n        currentLayer,\n        div\n      } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = this.#content = this.#extractText().trimEnd();\n    if (savedText === newText) {\n      return;\n    }\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false\n    });\n    this.#setEditorDimensions();\n  }\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n  dblclick(event) {\n    this.enterInEditMode();\n  }\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      event.preventDefault();\n    }\n  }\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text2\");\n    this.editorDiv.setAttribute(\"data-l10n-attrs\", \"default-content\");\n    this.enableEditing();\n    this.editorDiv.contentEditable = true;\n    const {\n      style\n    } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    this.div.append(this.editorDiv);\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n    bindEvents(this, this.div, [\"dblclick\", \"keydown\"]);\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        const {\n          position\n        } = this._initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX = baseX + (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY = baseY + (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      }\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n    return this.div;\n  }\n  static #getNodeContent(node) {\n    return (node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText).replaceAll(EOL_PATTERN, \"\");\n  }\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const {\n      types\n    } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(clipboardData.getData(\"text\") || \"\").replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n    const {\n      startContainer,\n      startOffset\n    } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\"));\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(startContainer.nodeValue.slice(0, startOffset).replaceAll(EOL_PATTERN, \"\"));\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n    const newRange = new Range();\n    let beforeLength = bufferBefore.reduce((acc, line) => acc + line.length, 0);\n    for (const {\n      firstChild\n    } of this.editorDiv.childNodes) {\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      this.editorDiv.append(div);\n    }\n  }\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n  get contentDiv() {\n    return this.editorDiv;\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: {\n            fontSize,\n            fontColor\n          },\n          rect,\n          rotation,\n          id,\n          popupRef\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      if (!textContent || textContent.length === 0) {\n        return null;\n      }\n      initialData = data = {\n        annotationType: AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false,\n        popupRef\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.#color = Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor.annotationElementId = data.id || null;\n    editor._initialData = initialData;\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    const rect = this.getRect(padding, padding);\n    const color = AnnotationEditor._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.#color);\n    const serialized = {\n      annotationType: AnnotationEditorType.FREETEXT,\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent(),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      value,\n      fontSize,\n      color,\n      pageIndex\n    } = this._initialData;\n    return this._hasBeenMoved || serialized.value !== value || serialized.fontSize !== fontSize || serialized.color.some((c, i) => c !== color[i]) || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (this.deleted) {\n      return content;\n    }\n    const {\n      style\n    } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      content.append(div);\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    annotation.updateEdited({\n      rect: this.getRect(padding, padding),\n      popupContent: this.#content\n    });\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\n;// ./src/display/editor/drawers/outline.js\n\nclass Outline {\n  toSVGPath() {\n    unreachable(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n  get box() {\n    unreachable(\"Abstract getter `box` must be implemented.\");\n  }\n  serialize(_bbox, _rotation) {\n    unreachable(\"Abstract method `serialize` must be implemented.\");\n  }\n  get classNamesForDrawing() {\n    unreachable(\"Abstract getter `classNamesForDrawing` must be implemented.\");\n  }\n  get classNamesForOutlining() {\n    unreachable(\"Abstract getter `classNamesForOutlining` must be implemented.\");\n  }\n  get mustRemoveSelfIntersections() {\n    return false;\n  }\n}\n\n;// ./src/display/editor/drawers/freedraw.js\n\n\nclass FreeDrawOutliner {\n  #box;\n  #bottom = [];\n  #innerMargin;\n  #isLTR;\n  #top = [];\n  #last = new Float64Array(18);\n  #lastX;\n  #lastY;\n  #min;\n  #min_dist;\n  #scaleFactor;\n  #thickness;\n  #points = [];\n  static #MIN_DIST = 8;\n  static #MIN_DIFF = 2;\n  static #MIN = FreeDrawOutliner.#MIN_DIST + FreeDrawOutliner.#MIN_DIFF;\n  constructor({\n    x,\n    y\n  }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeDrawOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeDrawOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n  isEmpty() {\n    return isNaN(this.#last[8]);\n  }\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    return [(this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width, (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height, (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width, (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height];\n  }\n  add({\n    x,\n    y\n  }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n    this.#points?.push(x, y);\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(NaN, NaN, NaN, NaN, (x1 + thX - layerX) / layerWidth, (y1 + thY - layerY) / layerHeight);\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(NaN, NaN, NaN, NaN, (x1 - thX - layerX) / layerWidth, (y1 - thY - layerY) / layerHeight);\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n    const angle = Math.abs(Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX));\n    if (angle < Math.PI / 2) {\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(NaN, NaN, NaN, NaN, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(NaN, NaN, NaN, NaN, ((x0 + x1) / 2 - layerX) / layerWidth, ((y0 + y1) / 2 - layerY) / layerHeight);\n      return true;\n    }\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    return true;\n  }\n  toSVGPath() {\n    if (this.isEmpty()) {\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      return this.#toSVGPathTwoPoints();\n    }\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(`C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${top[i + 5]}`);\n      }\n    }\n    this.#toSVGPathEnd(buffer);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(`C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${bottom[i + 4]} ${bottom[i + 5]}`);\n      }\n    }\n    this.#toSVGPathStart(buffer);\n    return buffer.join(\" \");\n  }\n  #toSVGPathTwoPoints() {\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    return `M${(this.#last[2] - x) / width} ${(this.#last[3] - y) / height} L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(this.#last[16] - x) / width} ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${(this.#last[15] - y) / height} Z`;\n  }\n  #toSVGPathStart(buffer) {\n    const bottom = this.#bottom;\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n  }\n  #toSVGPathEnd(buffer) {\n    const [x, y, width, height] = this.#box;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    buffer.push(`L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(lastBottom[0] - x) / width} ${(lastBottom[1] - y) / height}`);\n  }\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR);\n  }\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const points = new Float64Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      return this.#getOutlineTwoPoints(points);\n    }\n    const outline = new Float64Array(this.#top.length + 24 + this.#bottom.length);\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n    N = this.#getOutlineEnd(outline, N);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n    this.#getOutlineStart(outline, N);\n    return this.newFreeDrawOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n  #getOutlineTwoPoints(points) {\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    const outline = new Float64Array(36);\n    outline.set([NaN, NaN, NaN, NaN, (last[2] - layerX) / layerWidth, (last[3] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[4] - layerX) / layerWidth, (last[5] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (last[16] - layerX) / layerWidth, (last[17] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[14] - layerX) / layerWidth, (last[15] - layerY) / layerHeight], 0);\n    return this.newFreeDrawOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n  #getOutlineStart(outline, pos) {\n    const bottom = this.#bottom;\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], pos);\n    return pos += 6;\n  }\n  #getOutlineEnd(outline, pos) {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    outline.set([NaN, NaN, NaN, NaN, (lastTop[0] - layerX) / layerWidth, (lastTop[1] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (lastBottom[0] - layerX) / layerWidth, (lastBottom[1] - layerY) / layerHeight], pos);\n    return pos += 24;\n  }\n}\nclass FreeDrawOutline extends Outline {\n  #box;\n  #bbox = null;\n  #innerMargin;\n  #isLTR;\n  #points;\n  #scaleFactor;\n  #outline;\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.#computeMinMax(isLTR);\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(`C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${this.#outline[i + 3]} ${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = this.#rescale(this.#outline, blX, trY, width, -height);\n        points = this.#rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = this.#rescaleAndSwap(this.#outline, blX, blY, width, height);\n        points = this.#rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = this.#rescale(this.#outline, trX, blY, -width, height);\n        points = this.#rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = this.#rescaleAndSwap(this.#outline, trX, trY, -width, -height);\n        points = this.#rescaleAndSwap(this.#points, trX, trY, -width, -height);\n        break;\n    }\n    return {\n      outline: Array.from(outline),\n      points: [Array.from(points)]\n    };\n  }\n  #rescale(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n  #rescaleAndSwap(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    let minX = lastX;\n    let minY = lastY;\n    let maxX = lastX;\n    let maxY = lastY;\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      if (isNaN(outline[i])) {\n        minX = Math.min(minX, outline[i + 4]);\n        minY = Math.min(minY, outline[i + 5]);\n        maxX = Math.max(maxX, outline[i + 4]);\n        maxY = Math.max(maxY, outline[i + 5]);\n        if (lastPointY < outline[i + 5]) {\n          lastPointX = outline[i + 4];\n          lastPointY = outline[i + 5];\n        } else if (lastPointY === outline[i + 5]) {\n          lastPointX = ltrCallback(lastPointX, outline[i + 4]);\n        }\n      } else {\n        const bbox = Util.bezierBoundingBox(lastX, lastY, ...outline.slice(i, i + 6));\n        minX = Math.min(minX, bbox[0]);\n        minY = Math.min(minY, bbox[1]);\n        maxX = Math.max(maxX, bbox[2]);\n        maxY = Math.max(maxY, bbox[3]);\n        if (lastPointY < bbox[3]) {\n          lastPointX = bbox[2];\n          lastPointY = bbox[3];\n        } else if (lastPointY === bbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bbox[2]);\n        }\n      }\n      lastX = outline[i + 4];\n      lastY = outline[i + 5];\n    }\n    const x = minX - this.#innerMargin,\n      y = minY - this.#innerMargin,\n      width = maxX - minX + 2 * this.#innerMargin,\n      height = maxY - minY + 2 * this.#innerMargin;\n    this.#bbox = {\n      x,\n      y,\n      width,\n      height,\n      lastPoint: [lastPointX, lastPointY]\n    };\n  }\n  get box() {\n    return this.#bbox;\n  }\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeDrawOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin);\n  }\n  getNewOutline(thickness, innerMargin) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = this.newOutliner({\n      x: this.#points[0] * sx + tx,\n      y: this.#points[1] * sy + ty\n    }, this.#box, this.#scaleFactor, thickness, this.#isLTR, innerMargin ?? this.#innerMargin);\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty\n      });\n    }\n    return outliner.getOutlines();\n  }\n  get mustRemoveSelfIntersections() {\n    return true;\n  }\n}\n\n;// ./src/display/editor/drawers/highlight.js\n\n\nclass HighlightOutliner {\n  #box;\n  #verticalEdges = [];\n  #intervals = [];\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n      minX = Math.min(minX, x1);\n      maxX = Math.max(maxX, x2);\n      minY = Math.min(minY, y1);\n      maxY = Math.max(maxY, y2);\n    }\n    const bboxWidth = maxX - minX + 2 * innerMargin;\n    const bboxHeight = maxY - minY + 2 * innerMargin;\n    const shiftedMinX = minX - innerMargin;\n    const shiftedMinY = minY - innerMargin;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2] = edge;\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n    this.#box = {\n      x: shiftedMinX,\n      y: shiftedMinY,\n      width: bboxWidth,\n      height: bboxHeight,\n      lastPoint\n    };\n  }\n  getOutlines() {\n    this.#verticalEdges.sort((a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]);\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n      outline = [x, y2];\n      outlines.push(outline);\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box);\n  }\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n    while (start <= end) {\n      const middle = start + end >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\nclass HighlightOutline extends Outline {\n  #box;\n  #outlines;\n  constructor(outlines, box) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n  get box() {\n    return this.#box;\n  }\n  get classNamesForDrawing() {\n    return [\"highlight\"];\n  }\n  get classNamesForOutlining() {\n    return [\"highlightOutline\"];\n  }\n}\nclass FreeHighlightOutliner extends FreeDrawOutliner {\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeHighlightOutline(outline, points, box, scaleFactor, innerMargin, isLTR);\n  }\n  get classNamesForDrawing() {\n    return [\"highlight\", \"free\"];\n  }\n}\nclass FreeHighlightOutline extends FreeDrawOutline {\n  get classNamesForDrawing() {\n    return [\"highlight\", \"free\"];\n  }\n  get classNamesForOutlining() {\n    return [\"highlightOutline\", \"free\"];\n  }\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeHighlightOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin);\n  }\n}\n\n;// ./src/display/editor/color_picker.js\n\n\n\nclass ColorPicker {\n  #button = null;\n  #buttonSwatch = null;\n  #defaultColor;\n  #dropdown = null;\n  #dropdownWasFromKeyboard = false;\n  #isMainColorPicker = false;\n  #editor = null;\n  #eventBus;\n  #openDropdownAC = null;\n  #uiManager = null;\n  #type;\n  static #l10nColor = null;\n  static get _keyboardManager() {\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"Escape\", \"mac+Escape\"], ColorPicker.prototype._hideDropdownFromKeyboard], [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard], [[\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"], ColorPicker.prototype._moveToNext], [[\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"], ColorPicker.prototype._moveToPrevious], [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning], [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd]]));\n  }\n  constructor({\n    editor = null,\n    uiManager = null\n  }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#type = AnnotationEditorParamsType.HIGHLIGHT_COLOR;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n      this.#type = AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor = editor?.color || this.#uiManager?.highlightColors.values().next().value || \"#FFFF98\";\n    ColorPicker.#l10nColor ||= Object.freeze({\n      blue: \"pdfjs-editor-colorpicker-blue\",\n      green: \"pdfjs-editor-colorpicker-green\",\n      pink: \"pdfjs-editor-colorpicker-pink\",\n      red: \"pdfjs-editor-colorpicker-red\",\n      yellow: \"pdfjs-editor-colorpicker-yellow\"\n    });\n  }\n  renderButton() {\n    const button = this.#button = document.createElement(\"button\");\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.setAttribute(\"aria-haspopup\", true);\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"click\", this.#openDropdown.bind(this), {\n      signal\n    });\n    button.addEventListener(\"keydown\", this.#keyDown.bind(this), {\n      signal\n    });\n    const swatch = this.#buttonSwatch = document.createElement(\"span\");\n    swatch.className = \"swatch\";\n    swatch.setAttribute(\"aria-hidden\", true);\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n  renderMainDropdown() {\n    const dropdown = this.#dropdown = this.#getDropdownRoot();\n    dropdown.setAttribute(\"aria-orientation\", \"horizontal\");\n    dropdown.setAttribute(\"aria-labelledby\", \"highlightColorPickerLabel\");\n    return dropdown;\n  }\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    const signal = this.#uiManager._signal;\n    div.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.setAttribute(\"aria-multiselectable\", false);\n    div.setAttribute(\"aria-orientation\", \"vertical\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", ColorPicker.#l10nColor[name]);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.setAttribute(\"aria-selected\", color === this.#defaultColor);\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color), {\n        signal\n      });\n      div.append(button);\n    }\n    div.addEventListener(\"keydown\", this.#keyDown.bind(this), {\n      signal\n    });\n    return div;\n  }\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: this.#type,\n      value: color\n    });\n  }\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n  _moveToPrevious(event) {\n    if (event.target === this.#dropdown?.firstChild || event.target === this.#button) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstChild?.focus();\n  }\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastChild?.focus();\n  }\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n    if (!this.#openDropdownAC) {\n      this.#openDropdownAC = new AbortController();\n      window.addEventListener(\"pointerdown\", this.#pointerDown.bind(this), {\n        signal: this.#uiManager.combinedSignal(this.#openDropdownAC)\n      });\n    }\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = this.#dropdown = this.#getDropdownRoot();\n    this.#button.append(root);\n  }\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    this.#openDropdownAC?.abort();\n    this.#openDropdownAC = null;\n  }\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard\n    });\n  }\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.setAttribute(\"aria-selected\", i.next().value === color);\n    }\n  }\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\n\n;// ./src/display/editor/highlight.js\n\n\n\n\n\n\n\nclass HighlightEditor extends AnnotationEditor {\n  #anchorNode = null;\n  #anchorOffset = 0;\n  #boxes;\n  #clipPathId = null;\n  #colorPicker = null;\n  #focusOutlines = null;\n  #focusNode = null;\n  #focusOffset = 0;\n  #highlightDiv = null;\n  #highlightOutlines = null;\n  #id = null;\n  #isFreeHighlight = false;\n  #lastPoint = null;\n  #opacity;\n  #outlineId = null;\n  #text = \"\";\n  #thickness;\n  #methodOfCreation = \"\";\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 12;\n  static _type = \"highlight\";\n  static _editorType = AnnotationEditorType.HIGHLIGHT;\n  static _freeHighlightId = -1;\n  static _freeHighlight = null;\n  static _freeHighlightClipId = \"\";\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, {\n      args: [0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, {\n      args: [1]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, {\n      args: [2]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, {\n      args: [3]\n    }]]));\n  }\n  constructor(params) {\n    super({\n      ...params,\n      name: \"highlightEditor\"\n    });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.#opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else if (this.#boxes) {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation\n    };\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color)\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    return {\n      numberOfColors: data.get(\"color\").size\n    };\n  }\n  #createOutlines() {\n    const outliner = new HighlightOutliner(this.#boxes, 0.001);\n    this.#highlightOutlines = outliner.getOutlines();\n    ({\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    } = this.#highlightOutlines.box);\n    const outlinerForOutline = new HighlightOutliner(this.#boxes, 0.0025, 0.001, this._uiManager.direction === \"ltr\");\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - this.x) / this.width, (lastPoint[1] - this.y) / this.height];\n  }\n  #createFreeOutlines({\n    highlightOutlines,\n    highlightId,\n    clipPathId\n  }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(this.#thickness / 2 + extraThickness, 0.0025);\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      this.parent.drawLayer.finalizeLine(highlightId, highlightOutlines);\n      this.#outlineId = this.parent.drawLayer.drawOutline(this.#focusOutlines);\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateLine(this.#id, highlightOutlines);\n      this.parent.drawLayer.updateBox(this.#id, HighlightEditor.#rotateBbox(this.#highlightOutlines.box, (angle - this.rotation + 360) % 360));\n      this.parent.drawLayer.updateLine(this.#outlineId, this.#focusOutlines);\n      this.parent.drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n    }\n    const {\n      x,\n      y,\n      width,\n      height\n    } = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = y;\n          this.y = 1 - x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = 1 - y;\n          this.y = x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n    }\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||= uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n  translateInPage(x, y) {}\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR, HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, HighlightEditor._defaultThickness]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_COLOR, this.color || HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, this.#thickness || HighlightEditor._defaultThickness], [AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight]];\n  }\n  #updateColor(color) {\n    const setColorAndOpacity = (col, opa) => {\n      this.color = col;\n      this.parent?.drawLayer.changeColor(this.#id, col);\n      this.#colorPicker?.updateColor(col);\n      this.#opacity = opa;\n      this.parent?.drawLayer.changeOpacity(this.#id, opa);\n    };\n    const savedColor = this.color;\n    const savedOpacity = this.#opacity;\n    this.addCommands({\n      cmd: setColorAndOpacity.bind(this, color, HighlightEditor._defaultOpacity),\n      undo: setColorAndOpacity.bind(this, savedColor, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"color_changed\",\n      color: this._uiManager.highlightColorNames.get(color)\n    }, true);\n  }\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"thickness_changed\",\n      thickness\n    }, true);\n  }\n  async addEditToolbar() {\n    const toolbar = await super.addEditToolbar();\n    if (!toolbar) {\n      return null;\n    }\n    if (this._uiManager.highlightColors) {\n      this.#colorPicker = new ColorPicker({\n        editor: this\n      });\n      toolbar.addColorPicker(this.#colorPicker);\n    }\n    return toolbar;\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n  onceAdded() {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    this.div.focus();\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\"\n    });\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2)\n    });\n    this.fixAndSetPosition();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n  }\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({\n      id: this.#id,\n      clipPathId: this.#clipPathId\n    } = parent.drawLayer.draw(this.#highlightOutlines, this.color, this.#opacity));\n    this.#outlineId = parent.drawLayer.drawOutline(this.#focusOutlines);\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n  static #rotateBbox({\n    x,\n    y,\n    width,\n    height\n  }, angle) {\n    switch (angle) {\n      case 90:\n        return {\n          x: 1 - y - height,\n          y: x,\n          width: height,\n          height: width\n        };\n      case 180:\n        return {\n          x: 1 - x - width,\n          y: 1 - y - height,\n          width,\n          height\n        };\n      case 270:\n        return {\n          x: y,\n          y: 1 - x - width,\n          width: height,\n          height: width\n        };\n    }\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  }\n  rotate(angle) {\n    const {\n      drawLayer\n    } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      box = HighlightEditor.#rotateBbox(this, angle);\n    }\n    drawLayer.rotate(this.#id, angle);\n    drawLayer.rotate(this.#outlineId, angle);\n    drawLayer.updateBox(this.#id, box);\n    drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#keydown.bind(this), {\n        signal: this._uiManager._signal\n      });\n    }\n    const highlightDiv = this.#highlightDiv = document.createElement(\"div\");\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n    bindEvents(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n    return div;\n  }\n  pointerover() {\n    if (!this.isSelected) {\n      this.parent.drawLayer.addClass(this.#outlineId, \"hovered\");\n    }\n  }\n  pointerleave() {\n    if (!this.isSelected) {\n      this.parent.drawLayer.removeClass(this.#outlineId, \"hovered\");\n    }\n  }\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0:\n      case 2:\n        this.#setCaret(true);\n        break;\n      case 1:\n      case 3:\n        this.#setCaret(false);\n        break;\n    }\n  }\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"hovered\");\n    this.parent?.drawLayer.addClass(this.#outlineId, \"selected\");\n  }\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"selected\");\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(false);\n    }\n  }\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.show(this.#id, visible);\n      this.parent.drawLayer.show(this.#outlineId, visible);\n    }\n  }\n  #getRotation() {\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const boxes = this.#boxes;\n    const quadPoints = new Float32Array(boxes.length * 8);\n    let i = 0;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const sx = x * pageWidth + pageX;\n      const sy = (1 - y - height) * pageHeight + pageY;\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy + height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n  static startHighlighting(parent, isLTR, {\n    target: textLayer,\n    x,\n    y\n  }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    const ac = new AbortController();\n    const signal = parent.combinedSignal(ac);\n    const pointerDown = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n    const pointerUpCallback = e => {\n      ac.abort();\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", pointerDown, {\n      capture: true,\n      passive: false,\n      signal\n    });\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    textLayer.addEventListener(\"pointermove\", this.#highlightMove.bind(this, parent), {\n      signal\n    });\n    this._freeHighlight = new FreeHighlightOutliner({\n      x,\n      y\n    }, [layerX, layerY, parentWidth, parentHeight], parent.scale, this._defaultThickness / 2, isLTR, 0.001);\n    ({\n      id: this._freeHighlightId,\n      clipPathId: this._freeHighlightClipId\n    } = parent.drawLayer.draw(this._freeHighlight, this._defaultColor, this._defaultOpacity, true));\n  }\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      parent.drawLayer.updatePath(this._freeHighlightId, this._freeHighlight);\n    }\n  }\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\"\n      });\n    } else {\n      parent.drawLayer.remove(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof HighlightAnnotationElement) {\n      const {\n        data: {\n          quadPoints,\n          rect,\n          rotation,\n          id,\n          color,\n          opacity,\n          popupRef\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        opacity,\n        quadPoints,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false,\n        popupRef\n      };\n    } else if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          borderStyle: {\n            rawWidth: thickness\n          },\n          popupRef\n        },\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        thickness,\n        inkLists,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false,\n        popupRef\n      };\n    }\n    const {\n      color,\n      quadPoints,\n      inkLists,\n      opacity\n    } = data;\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.color = Util.makeHexColor(...color);\n    editor.#opacity = opacity || 1;\n    if (inkLists) {\n      editor.#thickness = data.thickness;\n    }\n    editor.annotationElementId = data.id || null;\n    editor._initialData = initialData;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [pageX, pageY] = editor.pageTranslation;\n    if (quadPoints) {\n      const boxes = editor.#boxes = [];\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        boxes.push({\n          x: (quadPoints[i] - pageX) / pageWidth,\n          y: 1 - (quadPoints[i + 1] - pageY) / pageHeight,\n          width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n          height: (quadPoints[i + 1] - quadPoints[i + 5]) / pageHeight\n        });\n      }\n      editor.#createOutlines();\n      editor.#addToDrawLayer();\n      editor.rotate(editor.rotation);\n    } else if (inkLists) {\n      editor.#isFreeHighlight = true;\n      const points = inkLists[0];\n      const point = {\n        x: points[0] - pageX,\n        y: pageHeight - (points[1] - pageY)\n      };\n      const outliner = new FreeHighlightOutliner(point, [0, 0, pageWidth, pageHeight], 1, editor.#thickness / 2, true, 0.001);\n      for (let i = 0, ii = points.length; i < ii; i += 2) {\n        point.x = points[i] - pageX;\n        point.y = pageHeight - (points[i + 1] - pageY);\n        outliner.add(point);\n      }\n      const {\n        id,\n        clipPathId\n      } = parent.drawLayer.draw(outliner, editor.color, editor._defaultOpacity, true);\n      editor.#createFreeOutlines({\n        highlightOutlines: outliner.getOutlines(),\n        highlightId: id,\n        clipPathId\n      });\n      editor.#addToDrawLayer();\n    }\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const rect = this.getRect(0, 0);\n    const color = AnnotationEditor._colorManager.convert(this.color);\n    const serialized = {\n      annotationType: AnnotationEditorType.HIGHLIGHT,\n      color,\n      opacity: this.#opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.#getRotation(),\n      structTreeParentId: this._structTreeParentId\n    };\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      color\n    } = this._initialData;\n    return serialized.color.some((c, i) => c !== color[i]);\n  }\n  renderAnnotationElement(annotation) {\n    annotation.updateEdited({\n      rect: this.getRect(0, 0)\n    });\n    return null;\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// ./src/display/editor/ink.js\n\n\n\n\n\nclass InkEditor extends AnnotationEditor {\n  #baseHeight = 0;\n  #baseWidth = 0;\n  #canvasContextMenuTimeoutId = null;\n  #currentPath2D = new Path2D();\n  #disableEditing = false;\n  #drawingAC = null;\n  #hasSomethingToDraw = false;\n  #isCanvasInitialized = false;\n  #observer = null;\n  #pointerdownAC = null;\n  #realWidth = 0;\n  #realHeight = 0;\n  #requestFrameCallback = null;\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 1;\n  static _type = \"ink\";\n  static _editorType = AnnotationEditorType.INK;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"inkEditor\"\n    });\n    this.color = params.color || null;\n    this.thickness = params.thickness || null;\n    this.opacity = params.opacity || null;\n    this.paths = [];\n    this.bezierPath2D = [];\n    this.allRawPaths = [];\n    this.currentPath = [];\n    this.scaleFactor = 1;\n    this.translationX = this.translationY = 0;\n    this.x = 0;\n    this.y = 0;\n    this._willKeepAspectRatio = true;\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.INK_THICKNESS:\n        InkEditor._defaultThickness = value;\n        break;\n      case AnnotationEditorParamsType.INK_COLOR:\n        InkEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.INK_OPACITY:\n        InkEditor._defaultOpacity = value / 100;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.INK_THICKNESS:\n        this.#updateThickness(value);\n        break;\n      case AnnotationEditorParamsType.INK_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.INK_OPACITY:\n        this.#updateOpacity(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.INK_THICKNESS, InkEditor._defaultThickness], [AnnotationEditorParamsType.INK_COLOR, InkEditor._defaultColor || AnnotationEditor._defaultLineColor], [AnnotationEditorParamsType.INK_OPACITY, Math.round(InkEditor._defaultOpacity * 100)]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.INK_THICKNESS, this.thickness || InkEditor._defaultThickness], [AnnotationEditorParamsType.INK_COLOR, this.color || InkEditor._defaultColor || AnnotationEditor._defaultLineColor], [AnnotationEditorParamsType.INK_OPACITY, Math.round(100 * (this.opacity ?? InkEditor._defaultOpacity))]];\n  }\n  #updateThickness(thickness) {\n    const setThickness = th => {\n      this.thickness = th;\n      this.#fitToContent();\n    };\n    const savedThickness = this.thickness;\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.#redraw();\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateOpacity(opacity) {\n    const setOpacity = op => {\n      this.opacity = op;\n      this.#redraw();\n    };\n    opacity /= 100;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: setOpacity.bind(this, opacity),\n      undo: setOpacity.bind(this, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_OPACITY,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.canvas) {\n      this.#createCanvas();\n      this.#createObserver();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n      this.#setCanvasDims();\n    }\n    this.#fitToContent();\n  }\n  remove() {\n    if (this.canvas === null) {\n      return;\n    }\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.remove();\n    this.canvas = null;\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n      this.#canvasContextMenuTimeoutId = null;\n    }\n    this.#observer?.disconnect();\n    this.#observer = null;\n    super.remove();\n  }\n  setParent(parent) {\n    if (!this.parent && parent) {\n      this._uiManager.removeShouldRescale(this);\n    } else if (this.parent && parent === null) {\n      this._uiManager.addShouldRescale(this);\n    }\n    super.setParent(parent);\n  }\n  onScaleChanging() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const width = this.width * parentWidth;\n    const height = this.height * parentHeight;\n    this.setDimensions(width, height);\n  }\n  enableEditMode() {\n    if (this.#disableEditing || this.canvas === null) {\n      return;\n    }\n    super.enableEditMode();\n    this._isDraggable = false;\n    this.#addPointerdownListener();\n  }\n  disableEditMode() {\n    if (!this.isInEditMode() || this.canvas === null) {\n      return;\n    }\n    super.disableEditMode();\n    this._isDraggable = !this.isEmpty();\n    this.div.classList.remove(\"editing\");\n    this.#removePointerdownListener();\n  }\n  onceAdded() {\n    this._isDraggable = !this.isEmpty();\n  }\n  isEmpty() {\n    return this.paths.length === 0 || this.paths.length === 1 && this.paths[0].length === 0;\n  }\n  #getInitialBBox() {\n    const {\n      parentRotation,\n      parentDimensions: [width, height]\n    } = this;\n    switch (parentRotation) {\n      case 90:\n        return [0, height, height, width];\n      case 180:\n        return [width, height, width, height];\n      case 270:\n        return [width, 0, height, width];\n      default:\n        return [0, 0, width, height];\n    }\n  }\n  #setStroke() {\n    const {\n      ctx,\n      color,\n      opacity,\n      thickness,\n      parentScale,\n      scaleFactor\n    } = this;\n    ctx.lineWidth = thickness * parentScale / scaleFactor;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.miterLimit = 10;\n    ctx.strokeStyle = `${color}${opacityToHex(opacity)}`;\n  }\n  #startDrawing(x, y) {\n    this.canvas.addEventListener(\"contextmenu\", noContextMenu, {\n      signal: this._uiManager._signal\n    });\n    this.#removePointerdownListener();\n    this.#drawingAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#drawingAC);\n    this.canvas.addEventListener(\"pointerleave\", this.canvasPointerleave.bind(this), {\n      signal\n    });\n    this.canvas.addEventListener(\"pointermove\", this.canvasPointermove.bind(this), {\n      signal\n    });\n    this.canvas.addEventListener(\"pointerup\", this.canvasPointerup.bind(this), {\n      signal\n    });\n    this.isEditing = true;\n    if (!this.#isCanvasInitialized) {\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.thickness ||= InkEditor._defaultThickness;\n      this.color ||= InkEditor._defaultColor || AnnotationEditor._defaultLineColor;\n      this.opacity ??= InkEditor._defaultOpacity;\n    }\n    this.currentPath.push([x, y]);\n    this.#hasSomethingToDraw = false;\n    this.#setStroke();\n    this.#requestFrameCallback = () => {\n      this.#drawPoints();\n      if (this.#requestFrameCallback) {\n        window.requestAnimationFrame(this.#requestFrameCallback);\n      }\n    };\n    window.requestAnimationFrame(this.#requestFrameCallback);\n  }\n  #draw(x, y) {\n    const [lastX, lastY] = this.currentPath.at(-1);\n    if (this.currentPath.length > 1 && x === lastX && y === lastY) {\n      return;\n    }\n    const currentPath = this.currentPath;\n    let path2D = this.#currentPath2D;\n    currentPath.push([x, y]);\n    this.#hasSomethingToDraw = true;\n    if (currentPath.length <= 2) {\n      path2D.moveTo(...currentPath[0]);\n      path2D.lineTo(x, y);\n      return;\n    }\n    if (currentPath.length === 3) {\n      this.#currentPath2D = path2D = new Path2D();\n      path2D.moveTo(...currentPath[0]);\n    }\n    this.#makeBezierCurve(path2D, ...currentPath.at(-3), ...currentPath.at(-2), x, y);\n  }\n  #endPath() {\n    if (this.currentPath.length === 0) {\n      return;\n    }\n    const lastPoint = this.currentPath.at(-1);\n    this.#currentPath2D.lineTo(...lastPoint);\n  }\n  #stopDrawing(x, y) {\n    this.#requestFrameCallback = null;\n    x = Math.min(Math.max(x, 0), this.canvas.width);\n    y = Math.min(Math.max(y, 0), this.canvas.height);\n    this.#draw(x, y);\n    this.#endPath();\n    let bezier;\n    if (this.currentPath.length !== 1) {\n      bezier = this.#generateBezierPoints();\n    } else {\n      const xy = [x, y];\n      bezier = [[xy, xy.slice(), xy.slice(), xy]];\n    }\n    const path2D = this.#currentPath2D;\n    const currentPath = this.currentPath;\n    this.currentPath = [];\n    this.#currentPath2D = new Path2D();\n    const cmd = () => {\n      this.allRawPaths.push(currentPath);\n      this.paths.push(bezier);\n      this.bezierPath2D.push(path2D);\n      this._uiManager.rebuild(this);\n    };\n    const undo = () => {\n      this.allRawPaths.pop();\n      this.paths.pop();\n      this.bezierPath2D.pop();\n      if (this.paths.length === 0) {\n        this.remove();\n      } else {\n        if (!this.canvas) {\n          this.#createCanvas();\n          this.#createObserver();\n        }\n        this.#fitToContent();\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  #drawPoints() {\n    if (!this.#hasSomethingToDraw) {\n      return;\n    }\n    this.#hasSomethingToDraw = false;\n    const thickness = Math.ceil(this.thickness * this.parentScale);\n    const lastPoints = this.currentPath.slice(-3);\n    const x = lastPoints.map(xy => xy[0]);\n    const y = lastPoints.map(xy => xy[1]);\n    const xMin = Math.min(...x) - thickness;\n    const xMax = Math.max(...x) + thickness;\n    const yMin = Math.min(...y) - thickness;\n    const yMax = Math.max(...y) + thickness;\n    const {\n      ctx\n    } = this;\n    ctx.save();\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n    ctx.stroke(this.#currentPath2D);\n    ctx.restore();\n  }\n  #makeBezierCurve(path2D, x0, y0, x1, y1, x2, y2) {\n    const prevX = (x0 + x1) / 2;\n    const prevY = (y0 + y1) / 2;\n    const x3 = (x1 + x2) / 2;\n    const y3 = (y1 + y2) / 2;\n    path2D.bezierCurveTo(prevX + 2 * (x1 - prevX) / 3, prevY + 2 * (y1 - prevY) / 3, x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3, x3, y3);\n  }\n  #generateBezierPoints() {\n    const path = this.currentPath;\n    if (path.length <= 2) {\n      return [[path[0], path[0], path.at(-1), path.at(-1)]];\n    }\n    const bezierPoints = [];\n    let i;\n    let [x0, y0] = path[0];\n    for (i = 1; i < path.length - 2; i++) {\n      const [x1, y1] = path[i];\n      const [x2, y2] = path[i + 1];\n      const x3 = (x1 + x2) / 2;\n      const y3 = (y1 + y2) / 2;\n      const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n      const control2 = [x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3];\n      bezierPoints.push([[x0, y0], control1, control2, [x3, y3]]);\n      [x0, y0] = [x3, y3];\n    }\n    const [x1, y1] = path[i];\n    const [x2, y2] = path[i + 1];\n    const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n    const control2 = [x2 + 2 * (x1 - x2) / 3, y2 + 2 * (y1 - y2) / 3];\n    bezierPoints.push([[x0, y0], control1, control2, [x2, y2]]);\n    return bezierPoints;\n  }\n  #redraw() {\n    if (this.isEmpty()) {\n      this.#updateTransform();\n      return;\n    }\n    this.#setStroke();\n    const {\n      canvas,\n      ctx\n    } = this;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.#updateTransform();\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n  }\n  commit() {\n    if (this.#disableEditing) {\n      return;\n    }\n    super.commit();\n    this.isEditing = false;\n    this.disableEditMode();\n    this.setInForeground();\n    this.#disableEditing = true;\n    this.div.classList.add(\"disabled\");\n    this.#fitToContent(true);\n    this.select();\n    this.parent.addInkEditorIfNeeded(true);\n    this.moveInDOM();\n    this.div.focus({\n      preventScroll: true\n    });\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    this.enableEditMode();\n  }\n  #addPointerdownListener() {\n    if (this.#pointerdownAC) {\n      return;\n    }\n    this.#pointerdownAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#pointerdownAC);\n    this.canvas.addEventListener(\"pointerdown\", this.canvasPointerdown.bind(this), {\n      signal\n    });\n  }\n  #removePointerdownListener() {\n    this.pointerdownAC?.abort();\n    this.pointerdownAC = null;\n  }\n  canvasPointerdown(event) {\n    if (event.button !== 0 || !this.isInEditMode() || this.#disableEditing) {\n      return;\n    }\n    this.setInForeground();\n    event.preventDefault();\n    if (!this.div.contains(document.activeElement)) {\n      this.div.focus({\n        preventScroll: true\n      });\n    }\n    this.#startDrawing(event.offsetX, event.offsetY);\n  }\n  canvasPointermove(event) {\n    event.preventDefault();\n    this.#draw(event.offsetX, event.offsetY);\n  }\n  canvasPointerup(event) {\n    event.preventDefault();\n    this.#endDrawing(event);\n  }\n  canvasPointerleave(event) {\n    this.#endDrawing(event);\n  }\n  #endDrawing(event) {\n    this.#drawingAC?.abort();\n    this.#drawingAC = null;\n    this.#addPointerdownListener();\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n    }\n    this.#canvasContextMenuTimeoutId = setTimeout(() => {\n      this.#canvasContextMenuTimeoutId = null;\n      this.canvas.removeEventListener(\"contextmenu\", noContextMenu);\n    }, 10);\n    this.#stopDrawing(event.offsetX, event.offsetY);\n    this.addToAnnotationStorage();\n    this.setInBackground();\n  }\n  #createCanvas() {\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.className = \"inkEditorCanvas\";\n    this.canvas.setAttribute(\"data-l10n-id\", \"pdfjs-ink-canvas\");\n    this.div.append(this.canvas);\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n    this._uiManager._signal.addEventListener(\"abort\", () => {\n      this.#observer?.disconnect();\n      this.#observer = null;\n    }, {\n      once: true\n    });\n  }\n  get isResizable() {\n    return !this.isEmpty() && this.#disableEditing;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.setAttribute(\"data-l10n-id\", \"pdfjs-ink\");\n    const [x, y, w, h] = this.#getInitialBBox();\n    this.setAt(x, y, 0, 0);\n    this.setDims(w, h);\n    this.#createCanvas();\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAspectRatio(this.width * parentWidth, this.height * parentHeight);\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.setDims(this.width * parentWidth, this.height * parentHeight);\n      this.#redraw();\n      this.div.classList.add(\"disabled\");\n    } else {\n      this.div.classList.add(\"editing\");\n      this.enableEditMode();\n    }\n    this.#createObserver();\n    return this.div;\n  }\n  #setCanvasDims() {\n    if (!this.#isCanvasInitialized) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.canvas.width = Math.ceil(this.width * parentWidth);\n    this.canvas.height = Math.ceil(this.height * parentHeight);\n    this.#updateTransform();\n  }\n  setDimensions(width, height) {\n    const roundedWidth = Math.round(width);\n    const roundedHeight = Math.round(height);\n    if (this.#realWidth === roundedWidth && this.#realHeight === roundedHeight) {\n      return;\n    }\n    this.#realWidth = roundedWidth;\n    this.#realHeight = roundedHeight;\n    this.canvas.style.visibility = \"hidden\";\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.fixAndSetPosition();\n    if (this.#disableEditing) {\n      this.#setScaleFactor(width, height);\n    }\n    this.#setCanvasDims();\n    this.#redraw();\n    this.canvas.style.visibility = \"visible\";\n    this.fixDims();\n  }\n  #setScaleFactor(width, height) {\n    const padding = this.#getPadding();\n    const scaleFactorW = (width - padding) / this.#baseWidth;\n    const scaleFactorH = (height - padding) / this.#baseHeight;\n    this.scaleFactor = Math.min(scaleFactorW, scaleFactorH);\n  }\n  #updateTransform() {\n    const padding = this.#getPadding() / 2;\n    this.ctx.setTransform(this.scaleFactor, 0, 0, this.scaleFactor, this.translationX * this.scaleFactor + padding, this.translationY * this.scaleFactor + padding);\n  }\n  static #buildPath2D(bezier) {\n    const path2D = new Path2D();\n    for (let i = 0, ii = bezier.length; i < ii; i++) {\n      const [first, control1, control2, second] = bezier[i];\n      if (i === 0) {\n        path2D.moveTo(...first);\n      }\n      path2D.bezierCurveTo(control1[0], control1[1], control2[0], control2[1], second[0], second[1]);\n    }\n    return path2D;\n  }\n  static #toPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] += blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] + blX;\n          points[i + 1] = x + blY;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] += blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trX - points[i + 1];\n          points[i + 1] = trY - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  static #fromPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] -= blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] - blY;\n          points[i + 1] = x - blX;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] -= blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trY - points[i + 1];\n          points[i + 1] = trX - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  #serializePaths(s, tx, ty, rect) {\n    const paths = [];\n    const padding = this.thickness / 2;\n    const shiftX = s * tx + padding;\n    const shiftY = s * ty + padding;\n    for (const bezier of this.paths) {\n      const buffer = [];\n      const points = [];\n      for (let j = 0, jj = bezier.length; j < jj; j++) {\n        const [first, control1, control2, second] = bezier[j];\n        if (first[0] === second[0] && first[1] === second[1] && jj === 1) {\n          const p0 = s * first[0] + shiftX;\n          const p1 = s * first[1] + shiftY;\n          buffer.push(p0, p1);\n          points.push(p0, p1);\n          break;\n        }\n        const p10 = s * first[0] + shiftX;\n        const p11 = s * first[1] + shiftY;\n        const p20 = s * control1[0] + shiftX;\n        const p21 = s * control1[1] + shiftY;\n        const p30 = s * control2[0] + shiftX;\n        const p31 = s * control2[1] + shiftY;\n        const p40 = s * second[0] + shiftX;\n        const p41 = s * second[1] + shiftY;\n        if (j === 0) {\n          buffer.push(p10, p11);\n          points.push(p10, p11);\n        }\n        buffer.push(p20, p21, p30, p31, p40, p41);\n        points.push(p20, p21);\n        if (j === jj - 1) {\n          points.push(p40, p41);\n        }\n      }\n      paths.push({\n        bezier: InkEditor.#toPDFCoordinates(buffer, rect, this.rotation),\n        points: InkEditor.#toPDFCoordinates(points, rect, this.rotation)\n      });\n    }\n    return paths;\n  }\n  #getBbox() {\n    let xMin = Infinity;\n    let xMax = -Infinity;\n    let yMin = Infinity;\n    let yMax = -Infinity;\n    for (const path of this.paths) {\n      for (const [first, control1, control2, second] of path) {\n        const bbox = Util.bezierBoundingBox(...first, ...control1, ...control2, ...second);\n        xMin = Math.min(xMin, bbox[0]);\n        yMin = Math.min(yMin, bbox[1]);\n        xMax = Math.max(xMax, bbox[2]);\n        yMax = Math.max(yMax, bbox[3]);\n      }\n    }\n    return [xMin, yMin, xMax, yMax];\n  }\n  #getPadding() {\n    return this.#disableEditing ? Math.ceil(this.thickness * this.parentScale) : 0;\n  }\n  #fitToContent(firstTime = false) {\n    if (this.isEmpty()) {\n      return;\n    }\n    if (!this.#disableEditing) {\n      this.#redraw();\n      return;\n    }\n    const bbox = this.#getBbox();\n    const padding = this.#getPadding();\n    this.#baseWidth = Math.max(AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    this.#baseHeight = Math.max(AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    const width = Math.ceil(padding + this.#baseWidth * this.scaleFactor);\n    const height = Math.ceil(padding + this.#baseHeight * this.scaleFactor);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setAspectRatio(width, height);\n    const prevTranslationX = this.translationX;\n    const prevTranslationY = this.translationY;\n    this.translationX = -bbox[0];\n    this.translationY = -bbox[1];\n    this.#setCanvasDims();\n    this.#redraw();\n    this.#realWidth = width;\n    this.#realHeight = height;\n    this.setDims(width, height);\n    const unscaledPadding = firstTime ? padding / this.scaleFactor / 2 : 0;\n    this.translate(prevTranslationX - this.translationX - unscaledPadding, prevTranslationY - this.translationY - unscaledPadding);\n  }\n  static async deserialize(data, parent, uiManager) {\n    if (data instanceof InkAnnotationElement) {\n      return null;\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.thickness = data.thickness;\n    editor.color = Util.makeHexColor(...data.color);\n    editor.opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const width = editor.width * pageWidth;\n    const height = editor.height * pageHeight;\n    const scaleFactor = editor.parentScale;\n    const padding = data.thickness / 2;\n    editor.#disableEditing = true;\n    editor.#realWidth = Math.round(width);\n    editor.#realHeight = Math.round(height);\n    const {\n      paths,\n      rect,\n      rotation\n    } = data;\n    for (let {\n      bezier\n    } of paths) {\n      bezier = InkEditor.#fromPDFCoordinates(bezier, rect, rotation);\n      const path = [];\n      editor.paths.push(path);\n      let p0 = scaleFactor * (bezier[0] - padding);\n      let p1 = scaleFactor * (bezier[1] - padding);\n      for (let i = 2, ii = bezier.length; i < ii; i += 6) {\n        const p10 = scaleFactor * (bezier[i] - padding);\n        const p11 = scaleFactor * (bezier[i + 1] - padding);\n        const p20 = scaleFactor * (bezier[i + 2] - padding);\n        const p21 = scaleFactor * (bezier[i + 3] - padding);\n        const p30 = scaleFactor * (bezier[i + 4] - padding);\n        const p31 = scaleFactor * (bezier[i + 5] - padding);\n        path.push([[p0, p1], [p10, p11], [p20, p21], [p30, p31]]);\n        p0 = p30;\n        p1 = p31;\n      }\n      const path2D = this.#buildPath2D(path);\n      editor.bezierPath2D.push(path2D);\n    }\n    const bbox = editor.#getBbox();\n    editor.#baseWidth = Math.max(AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    editor.#baseHeight = Math.max(AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    editor.#setScaleFactor(width, height);\n    return editor;\n  }\n  serialize() {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);\n    return {\n      annotationType: AnnotationEditorType.INK,\n      color,\n      thickness: this.thickness,\n      opacity: this.opacity,\n      paths: this.#serializePaths(this.scaleFactor / this.parentScale, this.translationX, this.translationY, rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n}\n\n;// ./src/display/editor/stamp.js\n\n\n\n\nclass StampEditor extends AnnotationEditor {\n  #bitmap = null;\n  #bitmapId = null;\n  #bitmapPromise = null;\n  #bitmapUrl = null;\n  #bitmapFile = null;\n  #bitmapFileName = \"\";\n  #canvas = null;\n  #observer = null;\n  #resizeTimeoutId = null;\n  #isSvg = false;\n  #hasBeenAddedInUndoStack = false;\n  static _type = \"stamp\";\n  static _editorType = AnnotationEditorType.STAMP;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"stampEditor\"\n    });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static get supportedTypes() {\n    const types = [\"apng\", \"avif\", \"bmp\", \"gif\", \"jpeg\", \"png\", \"svg+xml\", \"webp\", \"x-icon\"];\n    return shadow(this, \"supportedTypes\", types.map(type => `image/${type}`));\n  }\n  static get supportedTypesStr() {\n    return shadow(this, \"supportedTypesStr\", this.supportedTypes.join(\",\"));\n  }\n  static isHandlingMimeForPasting(mime) {\n    return this.supportedTypes.includes(mime);\n  }\n  static paste(item, parent) {\n    parent.pasteEditor(AnnotationEditorType.STAMP, {\n      bitmapFile: item.getAsFile()\n    });\n  }\n  altTextFinish() {\n    if (this._uiManager.useNewAltTextFlow) {\n      this.div.hidden = false;\n    }\n    super.altTextFinish();\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"stamp\",\n      hasAltText: !!this.altTextData?.altText\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    const hasAltTextStats = data.get(\"hasAltText\");\n    return {\n      hasAltText: hasAltTextStats.get(true) ?? 0,\n      hasNoAltText: hasAltTextStats.get(false) ?? 0\n    };\n  }\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (!this.#canvas) {\n      return;\n    }\n    if (this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#bitmap) {\n      this._editToolbar.hide();\n      this._uiManager.editAltText(this, true);\n      return;\n    }\n    if (!this._uiManager.useNewAltTextWhenAddingImage && this._uiManager.useNewAltTextFlow && this.#bitmap) {\n      this._reportTelemetry({\n        action: \"pdfjs.image.image_added\",\n        data: {\n          alt_text_modal: false,\n          alt_text_type: \"empty\"\n        }\n      });\n      try {\n        this.mlGuessAltText();\n      } catch {}\n    }\n    this.div.focus();\n  }\n  async mlGuessAltText(imageData = null, updateAltTextData = true) {\n    if (this.hasAltTextData()) {\n      return null;\n    }\n    const {\n      mlManager\n    } = this._uiManager;\n    if (!mlManager) {\n      throw new Error(\"No ML.\");\n    }\n    if (!(await mlManager.isEnabledFor(\"altText\"))) {\n      throw new Error(\"ML isn't enabled for alt text.\");\n    }\n    const {\n      data,\n      width,\n      height\n    } = imageData || this.copyCanvas(null, null, true).imageData;\n    const response = await mlManager.guess({\n      name: \"altText\",\n      request: {\n        data,\n        width,\n        height,\n        channels: data.length / (width * height)\n      }\n    });\n    if (!response) {\n      throw new Error(\"No response from the AI service.\");\n    }\n    if (response.error) {\n      throw new Error(\"Error from the AI service.\");\n    }\n    if (response.cancel) {\n      return null;\n    }\n    if (!response.output) {\n      throw new Error(\"No valid response from the AI service.\");\n    }\n    const altText = response.output;\n    await this.setGuessedAltText(altText);\n    if (updateAltTextData && !this.hasAltTextData()) {\n      this.altTextData = {\n        alt: altText,\n        decorative: false\n      };\n    }\n    return altText;\n  }\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager.getFromId(this.#bitmapId).then(data => this.#getBitmapFetched(data, true)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromUrl(url).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromFile(file).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = StampEditor.supportedTypesStr;\n    const signal = this._uiManager._signal;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(input.files[0]);\n          this._reportTelemetry({\n            action: \"pdfjs.image.image_selected\",\n            data: {\n              alt_text_modal: this._uiManager.useNewAltTextFlow\n            }\n          });\n          this.#getBitmapFetched(data);\n        }\n        resolve();\n      }, {\n        signal\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      }, {\n        signal\n      });\n    }).finally(() => this.#getBitmapDone());\n    input.click();\n  }\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      this.#observer?.disconnect();\n      this.#observer = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  onceAdded() {\n    this._isDraggable = true;\n    this.div.focus();\n  }\n  isEmpty() {\n    return !(this.#bitmapPromise || this.#bitmap || this.#bitmapUrl || this.#bitmapFile || this.#bitmapId);\n  }\n  get isResizable() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.hidden = true;\n    this.div.setAttribute(\"role\", \"figure\");\n    this.addAltTextButton();\n    if (this.#bitmap) {\n      this.#createCanvas();\n    } else {\n      this.#getBitmap();\n    }\n    if (this.width && !this.annotationElementId) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n    }\n    return this.div;\n  }\n  #createCanvas() {\n    const {\n      div\n    } = this;\n    let {\n      width,\n      height\n    } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (width > MAX_RATIO * pageWidth || height > MAX_RATIO * pageHeight) {\n      const factor = Math.min(MAX_RATIO * pageWidth / width, MAX_RATIO * pageHeight / height);\n      width *= factor;\n      height *= factor;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(width * parentWidth / pageWidth, height * parentHeight / pageHeight);\n    this._uiManager.enableWaiting(false);\n    const canvas = this.#canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"img\");\n    this.addContainer(canvas);\n    if (!this._uiManager.useNewAltTextWhenAddingImage || !this._uiManager.useNewAltTextFlow || this.annotationElementId) {\n      div.hidden = false;\n    }\n    this.#drawBitmap(width, height);\n    this.#createObserver();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n    this._reportTelemetry({\n      action: \"inserted_image\"\n    });\n    if (this.#bitmapFileName) {\n      canvas.setAttribute(\"aria-label\", this.#bitmapFileName);\n    }\n  }\n  copyCanvas(maxDataDimension, maxPreviewDimension, createImageData = false) {\n    if (!maxDataDimension) {\n      maxDataDimension = 224;\n    }\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    const outputScale = new OutputScale();\n    let bitmap = this.#bitmap;\n    let width = bitmapWidth,\n      height = bitmapHeight;\n    let canvas = null;\n    if (maxPreviewDimension) {\n      if (bitmapWidth > maxPreviewDimension || bitmapHeight > maxPreviewDimension) {\n        const ratio = Math.min(maxPreviewDimension / bitmapWidth, maxPreviewDimension / bitmapHeight);\n        width = Math.floor(bitmapWidth * ratio);\n        height = Math.floor(bitmapHeight * ratio);\n      }\n      canvas = document.createElement(\"canvas\");\n      const scaledWidth = canvas.width = Math.ceil(width * outputScale.sx);\n      const scaledHeight = canvas.height = Math.ceil(height * outputScale.sy);\n      if (!this.#isSvg) {\n        bitmap = this.#scaleBitmap(scaledWidth, scaledHeight);\n      }\n      const ctx = canvas.getContext(\"2d\");\n      ctx.filter = this._uiManager.hcmFilter;\n      let white = \"white\",\n        black = \"#cfcfd8\";\n      if (this._uiManager.hcmFilter !== \"none\") {\n        black = \"black\";\n      } else if (window.matchMedia?.(\"(prefers-color-scheme: dark)\").matches) {\n        white = \"#8f8f9d\";\n        black = \"#42414d\";\n      }\n      const boxDim = 15;\n      const boxDimWidth = boxDim * outputScale.sx;\n      const boxDimHeight = boxDim * outputScale.sy;\n      const pattern = new OffscreenCanvas(boxDimWidth * 2, boxDimHeight * 2);\n      const patternCtx = pattern.getContext(\"2d\");\n      patternCtx.fillStyle = white;\n      patternCtx.fillRect(0, 0, boxDimWidth * 2, boxDimHeight * 2);\n      patternCtx.fillStyle = black;\n      patternCtx.fillRect(0, 0, boxDimWidth, boxDimHeight);\n      patternCtx.fillRect(boxDimWidth, boxDimHeight, boxDimWidth, boxDimHeight);\n      ctx.fillStyle = ctx.createPattern(pattern, \"repeat\");\n      ctx.fillRect(0, 0, scaledWidth, scaledHeight);\n      ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, scaledWidth, scaledHeight);\n    }\n    let imageData = null;\n    if (createImageData) {\n      let dataWidth, dataHeight;\n      if (outputScale.symmetric && bitmap.width < maxDataDimension && bitmap.height < maxDataDimension) {\n        dataWidth = bitmap.width;\n        dataHeight = bitmap.height;\n      } else {\n        bitmap = this.#bitmap;\n        if (bitmapWidth > maxDataDimension || bitmapHeight > maxDataDimension) {\n          const ratio = Math.min(maxDataDimension / bitmapWidth, maxDataDimension / bitmapHeight);\n          dataWidth = Math.floor(bitmapWidth * ratio);\n          dataHeight = Math.floor(bitmapHeight * ratio);\n          if (!this.#isSvg) {\n            bitmap = this.#scaleBitmap(dataWidth, dataHeight);\n          }\n        }\n      }\n      const offscreen = new OffscreenCanvas(dataWidth, dataHeight);\n      const offscreenCtx = offscreen.getContext(\"2d\", {\n        willReadFrequently: true\n      });\n      offscreenCtx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, dataWidth, dataHeight);\n      imageData = {\n        width: dataWidth,\n        height: dataHeight,\n        data: offscreenCtx.getImageData(0, 0, dataWidth, dataHeight).data\n      };\n    }\n    return {\n      canvas,\n      width,\n      height,\n      imageData\n    };\n  }\n  #setDimensions(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap(width, height);\n    }, TIME_TO_WAIT);\n  }\n  #scaleBitmap(width, height) {\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n      if (newWidth > 2 * width) {\n        newWidth = newWidth >= 16384 ? Math.floor(newWidth / 2) - 1 : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight = newHeight >= 16384 ? Math.floor(newHeight / 2) - 1 : Math.ceil(newHeight / 2);\n      }\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n      bitmap = offscreen.transferToImageBitmap();\n    }\n    return bitmap;\n  }\n  #drawBitmap(width, height) {\n    const outputScale = new OutputScale();\n    const scaledWidth = Math.ceil(width * outputScale.sx);\n    const scaledHeight = Math.ceil(height * outputScale.sy);\n    const canvas = this.#canvas;\n    if (!canvas || canvas.width === scaledWidth && canvas.height === scaledHeight) {\n      return;\n    }\n    canvas.width = scaledWidth;\n    canvas.height = scaledHeight;\n    const bitmap = this.#isSvg ? this.#bitmap : this.#scaleBitmap(scaledWidth, scaledHeight);\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, scaledWidth, scaledHeight);\n  }\n  getImageForAltText() {\n    return this.#canvas;\n  }\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      const canvas = document.createElement(\"canvas\");\n      ({\n        width: canvas.width,\n        height: canvas.height\n      } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n      return canvas.toDataURL();\n    }\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      const width = Math.round(this.width * pageWidth * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const height = Math.round(this.height * pageHeight * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0, this.#bitmap.width, this.#bitmap.height, 0, 0, width, height);\n      return offscreen.transferToImageBitmap();\n    }\n    return structuredClone(this.#bitmap);\n  }\n  #createObserver() {\n    if (!this._uiManager._signal) {\n      return;\n    }\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.#setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n    this._uiManager._signal.addEventListener(\"abort\", () => {\n      this.#observer?.disconnect();\n      this.#observer = null;\n    }, {\n      once: true\n    });\n  }\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof StampAnnotationElement) {\n      const {\n        data: {\n          rect,\n          rotation,\n          id,\n          structParent,\n          popupRef\n        },\n        container,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      const canvas = container.querySelector(\"canvas\");\n      const imageData = uiManager.imageManager.getFromCanvas(container.id, canvas);\n      canvas.remove();\n      const altText = (await parent._structTree.getAriaAttributes(`${AnnotationPrefix}${id}`))?.get(\"aria-label\") || \"\";\n      initialData = data = {\n        annotationType: AnnotationEditorType.STAMP,\n        bitmapId: imageData.id,\n        bitmap: imageData.bitmap,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false,\n        accessibilityData: {\n          decorative: false,\n          altText\n        },\n        isSvg: false,\n        structParent,\n        popupRef\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    const {\n      rect,\n      bitmap,\n      bitmapUrl,\n      bitmapId,\n      isSvg,\n      accessibilityData\n    } = data;\n    if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n      if (bitmap) {\n        editor.#bitmap = bitmap;\n      }\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n    editor.annotationElementId = data.id || null;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    editor._initialData = initialData;\n    editor.#hasBeenAddedInUndoStack = !!initialData;\n    return editor;\n  }\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n    const serialized = {\n      annotationType: AnnotationEditorType.STAMP,\n      bitmapId: this.#bitmapId,\n      pageIndex: this.pageIndex,\n      rect: this.getRect(0, 0),\n      rotation: this.rotation,\n      isSvg: this.#isSvg,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      serialized.bitmapUrl = this.#serializeBitmap(true);\n      serialized.accessibilityData = this.serializeAltText(true);\n      return serialized;\n    }\n    const {\n      decorative,\n      altText\n    } = this.serializeAltText(false);\n    if (!decorative && altText) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: altText\n      };\n    }\n    if (this.annotationElementId) {\n      const changes = this.#hasElementChanged(serialized);\n      if (changes.isSame) {\n        return null;\n      }\n      if (changes.isSameAltText) {\n        delete serialized.accessibilityData;\n      } else {\n        serialized.accessibilityData.structParent = this._initialData.structParent ?? -1;\n      }\n    }\n    serialized.id = this.annotationElementId;\n    if (context === null) {\n      return serialized;\n    }\n    context.stamps ||= new Map();\n    const area = this.#isSvg ? (serialized.rect[2] - serialized.rect[0]) * (serialized.rect[3] - serialized.rect[1]) : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      context.stamps.set(this.#bitmapId, {\n        area,\n        serialized\n      });\n      serialized.bitmap = this.#serializeBitmap(false);\n    } else if (this.#isSvg) {\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(false);\n      }\n    }\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      rect,\n      pageIndex,\n      accessibilityData: {\n        altText\n      }\n    } = this._initialData;\n    const isSameRect = serialized.rect.every((x, i) => Math.abs(x - rect[i]) < 1);\n    const isSamePageIndex = serialized.pageIndex === pageIndex;\n    const isSameAltText = (serialized.accessibilityData?.alt || \"\") === altText;\n    return {\n      isSame: isSameRect && isSamePageIndex && isSameAltText,\n      isSameAltText\n    };\n  }\n  renderAnnotationElement(annotation) {\n    annotation.updateEdited({\n      rect: this.getRect(0, 0)\n    });\n    return null;\n  }\n}\n\n;// ./src/display/editor/annotation_editor_layer.js\n\n\n\n\n\n\n\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n  #allowClick = false;\n  #annotationLayer = null;\n  #clickAC = null;\n  #editorFocusTimeoutId = null;\n  #editors = new Map();\n  #hadPointerDown = false;\n  #isCleaningUp = false;\n  #isDisabling = false;\n  #textLayer = null;\n  #textSelectionAC = null;\n  #uiManager;\n  static _initialized = false;\n  static #editorTypes = new Map([FreeTextEditor, InkEditor, StampEditor, HighlightEditor].map(type => [type._editorType, type]));\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    structTreeLayer,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this._structTree = structTreeLayer;\n    this.#uiManager.addLayer(this);\n  }\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n  get isInvisible() {\n    return this.isEmpty && this.#uiManager.getMode() === AnnotationEditorType.NONE;\n  }\n  updateToolbar(mode) {\n    this.#uiManager.updateToolbar(mode);\n  }\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case AnnotationEditorType.NONE:\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case AnnotationEditorType.INK:\n        this.addInkEditorIfNeeded(false);\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.disableClick();\n        break;\n      case AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n    this.toggleAnnotationLayerPointerEvents(false);\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.toggle(`${editorType._type}Editing`, mode === editorType._editorType);\n    }\n    this.div.hidden = false;\n  }\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n  addInkEditorIfNeeded(isCommitting) {\n    if (this.#uiManager.getMode() !== AnnotationEditorType.INK) {\n      return;\n    }\n    if (!isCommitting) {\n      for (const editor of this.#editors.values()) {\n        if (editor.isEmpty()) {\n          editor.setInBackground();\n          return;\n        }\n      }\n    }\n    const editor = this.createAndAddNewEditor({\n      offsetX: 0,\n      offsetY: 0\n    }, false);\n    editor.setInBackground();\n  }\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n  toggleDrawing(enabled = false) {\n    this.div.classList.toggle(\"drawing\", !enabled);\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.div.classList.toggle(\"disabled\", !enabled);\n  }\n  async enable() {\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    const annotationElementIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n    if (!this.#annotationLayer) {\n      return;\n    }\n    const editables = this.#annotationLayer.getEditableAnnotations();\n    for (const editable of editables) {\n      editable.hide();\n      if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n        continue;\n      }\n      if (annotationElementIds.has(editable.data.id)) {\n        continue;\n      }\n      const editor = await this.deserialize(editable);\n      if (!editor) {\n        continue;\n      }\n      this.addOrRebuild(editor);\n      editor.enableEditing();\n    }\n  }\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    const changedAnnotations = new Map();\n    const resetAnnotations = new Map();\n    for (const editor of this.#editors.values()) {\n      editor.disableEditing();\n      if (!editor.annotationElementId) {\n        continue;\n      }\n      if (editor.serialize() !== null) {\n        changedAnnotations.set(editor.annotationElementId, editor);\n        continue;\n      } else {\n        resetAnnotations.set(editor.annotationElementId, editor);\n      }\n      this.getEditableAnnotation(editor.annotationElementId)?.show();\n      editor.remove();\n    }\n    if (this.#annotationLayer) {\n      const editables = this.#annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const {\n          id\n        } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          if (editor.renderAnnotationElement(editable)) {\n            editor.show(false);\n          }\n        }\n        editable.show();\n      }\n    }\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n    this.#isDisabling = false;\n  }\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n    this.#uiManager.setActiveEditor(editor);\n  }\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#textSelectionAC) {\n      this.#textSelectionAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textSelectionAC);\n      this.#textLayer.div.addEventListener(\"pointerdown\", this.#textLayerPointerDown.bind(this), {\n        signal\n      });\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#textSelectionAC) {\n      this.#textSelectionAC.abort();\n      this.#textSelectionAC = null;\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n  #textLayerPointerDown(event) {\n    this.#uiManager.unselectAll();\n    const {\n      target\n    } = event;\n    if (target === this.#textLayer.div || (target.getAttribute(\"role\") === \"img\" || target.classList.contains(\"endOfContent\")) && this.#textLayer.div.contains(target)) {\n      const {\n        isMac\n      } = util_FeatureTest.platform;\n      if (event.button !== 0 || event.ctrlKey && isMac) {\n        return;\n      }\n      this.#uiManager.showAllEditors(\"highlight\", true, true);\n      this.#textLayer.div.classList.add(\"free\");\n      this.toggleDrawing();\n      HighlightEditor.startHighlighting(this, this.#uiManager.direction === \"ltr\", {\n        target: this.#textLayer.div,\n        x: event.x,\n        y: event.y\n      });\n      this.#textLayer.div.addEventListener(\"pointerup\", () => {\n        this.#textLayer.div.classList.remove(\"free\");\n        this.toggleDrawing(true);\n      }, {\n        once: true,\n        signal: this.#uiManager._signal\n      });\n      event.preventDefault();\n    }\n  }\n  enableClick() {\n    if (this.#clickAC) {\n      return;\n    }\n    this.#clickAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#clickAC);\n    this.div.addEventListener(\"pointerdown\", this.pointerdown.bind(this), {\n      signal\n    });\n    this.div.addEventListener(\"pointerup\", this.pointerup.bind(this), {\n      signal\n    });\n  }\n  disableClick() {\n    this.#clickAC?.abort();\n    this.#clickAC = null;\n  }\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const {\n      annotationElementId\n    } = editor;\n    if (annotationElementId && this.#uiManager.isDeletedAnnotationElement(annotationElementId)) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n    if (!this.#isCleaningUp) {\n      this.addInkEditorIfNeeded(false);\n    }\n  }\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n    editor.fixAndSetPosition();\n    editor.onceAdded();\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\"focusin\", () => {\n            editor._focusEventsAllowed = true;\n          }, {\n            once: true,\n            signal: this.#uiManager._signal\n          });\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(this.div, editor.div, editor.contentDiv, true);\n  }\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: false\n    });\n  }\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n  combinedSignal(ac) {\n    return this.#uiManager.combinedSignal(ac);\n  }\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n  pasteEditor(mode, params) {\n    this.#uiManager.updateToolbar(mode);\n    this.#uiManager.updateMode(mode);\n    const {\n      offsetX,\n      offsetY\n    } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n  async deserialize(data) {\n    return (await AnnotationEditorLayer.#editorTypes.get(data.annotationType ?? data.annotationEditorType)?.deserialize(data, this, this.#uiManager)) || null;\n  }\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data\n    });\n    if (editor) {\n      this.add(editor);\n    }\n    return editor;\n  }\n  #getCenterPoint() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.div.getBoundingClientRect();\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] = this.viewport.rotation % 180 === 0 ? [centerX, centerY] : [centerY, centerX];\n    return {\n      offsetX,\n      offsetY\n    };\n  }\n  addNewEditor() {\n    this.createAndAddNewEditor(this.#getCenterPoint(), true);\n  }\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n  pointerup(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    if (!this.#hadPointerDown) {\n      return;\n    }\n    this.#hadPointerDown = false;\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n    if (this.#uiManager.getMode() === AnnotationEditorType.STAMP) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n    this.createAndAddNewEditor(event, false);\n  }\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      this.#hadPointerDown = false;\n      return;\n    }\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    this.#hadPointerDown = true;\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n  destroy() {\n    if (this.#uiManager.getActive()?.parent === this) {\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n  #cleanup() {\n    this.#isCleaningUp = true;\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n    this.#isCleaningUp = false;\n  }\n  render({\n    viewport\n  }) {\n    this.viewport = viewport;\n    setLayerDimensions(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    this.updateMode();\n  }\n  update({\n    viewport\n  }) {\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n    this.viewport = viewport;\n    setLayerDimensions(this.div, {\n      rotation\n    });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n    this.addInkEditorIfNeeded(false);\n  }\n  get pageDimensions() {\n    const {\n      pageWidth,\n      pageHeight\n    } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\n;// ./src/display/draw_layer.js\n\n\nclass DrawLayer {\n  #parent = null;\n  #id = 0;\n  #mapping = new Map();\n  #toUpdate = new Map();\n  constructor({\n    pageIndex\n  }) {\n    this.pageIndex = pageIndex;\n  }\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n  static get _svgFactory() {\n    return shadow(this, \"_svgFactory\", new DOMSVGFactory());\n  }\n  static #setBox(element, {\n    x = 0,\n    y = 0,\n    width = 1,\n    height = 1\n  } = {}) {\n    const {\n      style\n    } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n  #createSVG(box) {\n    const svg = DrawLayer._svgFactory.create(1, 1, true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n    DrawLayer.#setBox(svg, box);\n    return svg;\n  }\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n    return clipPathId;\n  }\n  draw(outlines, color, opacity, isPathUpdatable = false) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(...outlines.classNamesForDrawing);\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n    const clipPathId = this.#createClipPath(defs, pathId);\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    root.setAttribute(\"fill\", color);\n    root.setAttribute(\"fill-opacity\", opacity);\n    use.setAttribute(\"href\", `#${pathId}`);\n    this.#mapping.set(id, root);\n    return {\n      id,\n      clipPathId: `url(#${clipPathId})`\n    };\n  }\n  drawOutline(outlines) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(...outlines.classNamesForOutlining);\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    let maskId;\n    if (outlines.mustRemoveSelfIntersections) {\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n    this.#mapping.set(id, root);\n    return id;\n  }\n  finalizeLine(id, line) {\n    const path = this.#toUpdate.get(id);\n    this.#toUpdate.delete(id);\n    this.updateBox(id, line.box);\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  updateLine(id, line) {\n    const root = this.#mapping.get(id);\n    const defs = root.firstChild;\n    const path = defs.firstChild;\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  updatePath(id, line) {\n    this.#toUpdate.get(id).setAttribute(\"d\", line.toSVGPath());\n  }\n  updateBox(id, box) {\n    DrawLayer.#setBox(this.#mapping.get(id), box);\n  }\n  show(id, visible) {\n    this.#mapping.get(id).classList.toggle(\"hidden\", !visible);\n  }\n  rotate(id, angle) {\n    this.#mapping.get(id).setAttribute(\"data-main-rotation\", angle);\n  }\n  changeColor(id, color) {\n    this.#mapping.get(id).setAttribute(\"fill\", color);\n  }\n  changeOpacity(id, opacity) {\n    this.#mapping.get(id).setAttribute(\"fill-opacity\", opacity);\n  }\n  addClass(id, className) {\n    this.#mapping.get(id).classList.add(className);\n  }\n  removeClass(id, className) {\n    this.#mapping.get(id).classList.remove(className);\n  }\n  getSVGRoot(id) {\n    return this.#mapping.get(id);\n  }\n  remove(id) {\n    this.#toUpdate.delete(id);\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n    this.#toUpdate.clear();\n  }\n}\n\n;// ./src/pdf.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst pdfjsVersion = \"4.8.69\";\nconst pdfjsBuild = \"3634dab10\";\n\nvar __webpack_exports__AbortException = __webpack_exports__.AbortException;\nvar __webpack_exports__AnnotationEditorLayer = __webpack_exports__.AnnotationEditorLayer;\nvar __webpack_exports__AnnotationEditorParamsType = __webpack_exports__.AnnotationEditorParamsType;\nvar __webpack_exports__AnnotationEditorType = __webpack_exports__.AnnotationEditorType;\nvar __webpack_exports__AnnotationEditorUIManager = __webpack_exports__.AnnotationEditorUIManager;\nvar __webpack_exports__AnnotationLayer = __webpack_exports__.AnnotationLayer;\nvar __webpack_exports__AnnotationMode = __webpack_exports__.AnnotationMode;\nvar __webpack_exports__ColorPicker = __webpack_exports__.ColorPicker;\nvar __webpack_exports__DOMSVGFactory = __webpack_exports__.DOMSVGFactory;\nvar __webpack_exports__DrawLayer = __webpack_exports__.DrawLayer;\nvar __webpack_exports__FeatureTest = __webpack_exports__.FeatureTest;\nvar __webpack_exports__GlobalWorkerOptions = __webpack_exports__.GlobalWorkerOptions;\nvar __webpack_exports__ImageKind = __webpack_exports__.ImageKind;\nvar __webpack_exports__InvalidPDFException = __webpack_exports__.InvalidPDFException;\nvar __webpack_exports__MissingPDFException = __webpack_exports__.MissingPDFException;\nvar __webpack_exports__OPS = __webpack_exports__.OPS;\nvar __webpack_exports__OutputScale = __webpack_exports__.OutputScale;\nvar __webpack_exports__PDFDataRangeTransport = __webpack_exports__.PDFDataRangeTransport;\nvar __webpack_exports__PDFDateString = __webpack_exports__.PDFDateString;\nvar __webpack_exports__PDFWorker = __webpack_exports__.PDFWorker;\nvar __webpack_exports__PasswordResponses = __webpack_exports__.PasswordResponses;\nvar __webpack_exports__PermissionFlag = __webpack_exports__.PermissionFlag;\nvar __webpack_exports__PixelsPerInch = __webpack_exports__.PixelsPerInch;\nvar __webpack_exports__RenderingCancelledException = __webpack_exports__.RenderingCancelledException;\nvar __webpack_exports__TextLayer = __webpack_exports__.TextLayer;\nvar __webpack_exports__UnexpectedResponseException = __webpack_exports__.UnexpectedResponseException;\nvar __webpack_exports__Util = __webpack_exports__.Util;\nvar __webpack_exports__VerbosityLevel = __webpack_exports__.VerbosityLevel;\nvar __webpack_exports__XfaLayer = __webpack_exports__.XfaLayer;\nvar __webpack_exports__build = __webpack_exports__.build;\nvar __webpack_exports__createValidAbsoluteUrl = __webpack_exports__.createValidAbsoluteUrl;\nvar __webpack_exports__fetchData = __webpack_exports__.fetchData;\nvar __webpack_exports__getDocument = __webpack_exports__.getDocument;\nvar __webpack_exports__getFilenameFromUrl = __webpack_exports__.getFilenameFromUrl;\nvar __webpack_exports__getPdfFilenameFromUrl = __webpack_exports__.getPdfFilenameFromUrl;\nvar __webpack_exports__getXfaPageViewport = __webpack_exports__.getXfaPageViewport;\nvar __webpack_exports__isDataScheme = __webpack_exports__.isDataScheme;\nvar __webpack_exports__isPdfFile = __webpack_exports__.isPdfFile;\nvar __webpack_exports__noContextMenu = __webpack_exports__.noContextMenu;\nvar __webpack_exports__normalizeUnicode = __webpack_exports__.normalizeUnicode;\nvar __webpack_exports__setLayerDimensions = __webpack_exports__.setLayerDimensions;\nvar __webpack_exports__shadow = __webpack_exports__.shadow;\nvar __webpack_exports__version = __webpack_exports__.version;\nexport { __webpack_exports__AbortException as AbortException, __webpack_exports__AnnotationEditorLayer as AnnotationEditorLayer, __webpack_exports__AnnotationEditorParamsType as AnnotationEditorParamsType, __webpack_exports__AnnotationEditorType as AnnotationEditorType, __webpack_exports__AnnotationEditorUIManager as AnnotationEditorUIManager, __webpack_exports__AnnotationLayer as AnnotationLayer, __webpack_exports__AnnotationMode as AnnotationMode, __webpack_exports__ColorPicker as ColorPicker, __webpack_exports__DOMSVGFactory as DOMSVGFactory, __webpack_exports__DrawLayer as DrawLayer, __webpack_exports__FeatureTest as FeatureTest, __webpack_exports__GlobalWorkerOptions as GlobalWorkerOptions, __webpack_exports__ImageKind as ImageKind, __webpack_exports__InvalidPDFException as InvalidPDFException, __webpack_exports__MissingPDFException as MissingPDFException, __webpack_exports__OPS as OPS, __webpack_exports__OutputScale as OutputScale, __webpack_exports__PDFDataRangeTransport as PDFDataRangeTransport, __webpack_exports__PDFDateString as PDFDateString, __webpack_exports__PDFWorker as PDFWorker, __webpack_exports__PasswordResponses as PasswordResponses, __webpack_exports__PermissionFlag as PermissionFlag, __webpack_exports__PixelsPerInch as PixelsPerInch, __webpack_exports__RenderingCancelledException as RenderingCancelledException, __webpack_exports__TextLayer as TextLayer, __webpack_exports__UnexpectedResponseException as UnexpectedResponseException, __webpack_exports__Util as Util, __webpack_exports__VerbosityLevel as VerbosityLevel, __webpack_exports__XfaLayer as XfaLayer, __webpack_exports__build as build, __webpack_exports__createValidAbsoluteUrl as createValidAbsoluteUrl, __webpack_exports__fetchData as fetchData, __webpack_exports__getDocument as getDocument, __webpack_exports__getFilenameFromUrl as getFilenameFromUrl, __webpack_exports__getPdfFilenameFromUrl as getPdfFilenameFromUrl, __webpack_exports__getXfaPageViewport as getXfaPageViewport, __webpack_exports__isDataScheme as isDataScheme, __webpack_exports__isPdfFile as isPdfFile, __webpack_exports__noContextMenu as noContextMenu, __webpack_exports__normalizeUnicode as normalizeUnicode, __webpack_exports__setLayerDimensions as setLayerDimensions, __webpack_exports__shadow as shadow, __webpack_exports__version as version };\n\n//# sourceMappingURL=pdf.mjs.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n// As defined on the list of supported events: https://reactjs.org/docs/events.html\nexport var clipboardEvents = ['onCopy', 'onCut', 'onPaste'];\nexport var compositionEvents = [\n    'onCompositionEnd',\n    'onCompositionStart',\n    'onCompositionUpdate',\n];\nexport var focusEvents = ['onFocus', 'onBlur'];\nexport var formEvents = ['onInput', 'onInvalid', 'onReset', 'onSubmit'];\nexport var imageEvents = ['onLoad', 'onError'];\nexport var keyboardEvents = ['onKeyDown', 'onKeyPress', 'onKeyUp'];\nexport var mediaEvents = [\n    'onAbort',\n    'onCanPlay',\n    'onCanPlayThrough',\n    'onDurationChange',\n    'onEmptied',\n    'onEncrypted',\n    'onEnded',\n    'onError',\n    'onLoadedData',\n    'onLoadedMetadata',\n    'onLoadStart',\n    'onPause',\n    'onPlay',\n    'onPlaying',\n    'onProgress',\n    'onRateChange',\n    'onSeeked',\n    'onSeeking',\n    'onStalled',\n    'onSuspend',\n    'onTimeUpdate',\n    'onVolumeChange',\n    'onWaiting',\n];\nexport var mouseEvents = [\n    'onClick',\n    'onContextMenu',\n    'onDoubleClick',\n    'onMouseDown',\n    'onMouseEnter',\n    'onMouseLeave',\n    'onMouseMove',\n    'onMouseOut',\n    'onMouseOver',\n    'onMouseUp',\n];\nexport var dragEvents = [\n    'onDrag',\n    'onDragEnd',\n    'onDragEnter',\n    'onDragExit',\n    'onDragLeave',\n    'onDragOver',\n    'onDragStart',\n    'onDrop',\n];\nexport var selectionEvents = ['onSelect'];\nexport var touchEvents = ['onTouchCancel', 'onTouchEnd', 'onTouchMove', 'onTouchStart'];\nexport var pointerEvents = [\n    'onPointerDown',\n    'onPointerMove',\n    'onPointerUp',\n    'onPointerCancel',\n    'onGotPointerCapture',\n    'onLostPointerCapture',\n    'onPointerEnter',\n    'onPointerLeave',\n    'onPointerOver',\n    'onPointerOut',\n];\nexport var uiEvents = ['onScroll'];\nexport var wheelEvents = ['onWheel'];\nexport var animationEvents = [\n    'onAnimationStart',\n    'onAnimationEnd',\n    'onAnimationIteration',\n];\nexport var transitionEvents = ['onTransitionEnd'];\nexport var otherEvents = ['onToggle'];\nexport var changeEvents = ['onChange'];\nexport var allEvents = __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], clipboardEvents, true), compositionEvents, true), focusEvents, true), formEvents, true), imageEvents, true), keyboardEvents, true), mediaEvents, true), mouseEvents, true), dragEvents, true), selectionEvents, true), touchEvents, true), pointerEvents, true), uiEvents, true), wheelEvents, true), animationEvents, true), transitionEvents, true), changeEvents, true), otherEvents, true);\n/**\n * Returns an object with on-event callback props curried with provided args.\n * @param {Object} props Props passed to a component.\n * @param {Function=} getArgs A function that returns argument(s) on-event callbacks\n *   shall be curried with.\n */\nexport default function makeEventProps(props, getArgs) {\n    var eventProps = {};\n    allEvents.forEach(function (eventName) {\n        var eventHandler = props[eventName];\n        if (!eventHandler) {\n            return;\n        }\n        if (getArgs) {\n            eventProps[eventName] = (function (event) {\n                return eventHandler(event, getArgs(eventName));\n            });\n        }\n        else {\n            eventProps[eventName] = eventHandler;\n        }\n    });\n    return eventProps;\n}\n","export default function makeCancellablePromise(promise) {\n    var isCancelled = false;\n    var wrappedPromise = new Promise(function (resolve, reject) {\n        promise\n            .then(function (value) { return !isCancelled && resolve(value); })\n            .catch(function (error) { return !isCancelled && reject(error); });\n    });\n    return {\n        promise: wrappedPromise,\n        cancel: function () {\n            isCancelled = true;\n        },\n    };\n}\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","'use client';\nimport { createContext } from 'react';\nconst documentContext = createContext(null);\nexport default documentContext;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Message({ children, type }) {\n    return _jsx(\"div\", { className: `react-pdf__message react-pdf__message--${type}`, children: children });\n}\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport invariant from 'tiny-invariant';\nconst DEFAULT_LINK_REL = 'noopener noreferrer nofollow';\nexport default class LinkService {\n    constructor() {\n        this.externalLinkEnabled = true;\n        this.externalLinkRel = undefined;\n        this.externalLinkTarget = undefined;\n        this.isInPresentationMode = false;\n        this.pdfDocument = undefined;\n        this.pdfViewer = undefined;\n    }\n    setDocument(pdfDocument) {\n        this.pdfDocument = pdfDocument;\n    }\n    setViewer(pdfViewer) {\n        this.pdfViewer = pdfViewer;\n    }\n    setExternalLinkRel(externalLinkRel) {\n        this.externalLinkRel = externalLinkRel;\n    }\n    setExternalLinkTarget(externalLinkTarget) {\n        this.externalLinkTarget = externalLinkTarget;\n    }\n    setHistory() {\n        // Intentionally empty\n    }\n    get pagesCount() {\n        return this.pdfDocument ? this.pdfDocument.numPages : 0;\n    }\n    get page() {\n        invariant(this.pdfViewer, 'PDF viewer is not initialized.');\n        return this.pdfViewer.currentPageNumber || 0;\n    }\n    set page(value) {\n        invariant(this.pdfViewer, 'PDF viewer is not initialized.');\n        this.pdfViewer.currentPageNumber = value;\n    }\n    get rotation() {\n        return 0;\n    }\n    set rotation(_value) {\n        // Intentionally empty\n    }\n    goToDestination(dest) {\n        return new Promise((resolve) => {\n            invariant(this.pdfDocument, 'PDF document not loaded.');\n            invariant(dest, 'Destination is not specified.');\n            if (typeof dest === 'string') {\n                this.pdfDocument.getDestination(dest).then(resolve);\n            }\n            else if (Array.isArray(dest)) {\n                resolve(dest);\n            }\n            else {\n                dest.then(resolve);\n            }\n        }).then((explicitDest) => {\n            invariant(Array.isArray(explicitDest), `\"${explicitDest}\" is not a valid destination array.`);\n            const destRef = explicitDest[0];\n            new Promise((resolve) => {\n                invariant(this.pdfDocument, 'PDF document not loaded.');\n                if (destRef instanceof Object) {\n                    this.pdfDocument\n                        .getPageIndex(destRef)\n                        .then((pageIndex) => {\n                        resolve(pageIndex);\n                    })\n                        .catch(() => {\n                        invariant(false, `\"${destRef}\" is not a valid page reference.`);\n                    });\n                }\n                else if (typeof destRef === 'number') {\n                    resolve(destRef);\n                }\n                else {\n                    invariant(false, `\"${destRef}\" is not a valid destination reference.`);\n                }\n            }).then((pageIndex) => {\n                const pageNumber = pageIndex + 1;\n                invariant(this.pdfViewer, 'PDF viewer is not initialized.');\n                invariant(pageNumber >= 1 && pageNumber <= this.pagesCount, `\"${pageNumber}\" is not a valid page number.`);\n                this.pdfViewer.scrollPageIntoView({\n                    dest: explicitDest,\n                    pageIndex,\n                    pageNumber,\n                });\n            });\n        });\n    }\n    navigateTo(dest) {\n        this.goToDestination(dest);\n    }\n    goToPage(pageNumber) {\n        const pageIndex = pageNumber - 1;\n        invariant(this.pdfViewer, 'PDF viewer is not initialized.');\n        invariant(pageNumber >= 1 && pageNumber <= this.pagesCount, `\"${pageNumber}\" is not a valid page number.`);\n        this.pdfViewer.scrollPageIntoView({\n            pageIndex,\n            pageNumber,\n        });\n    }\n    addLinkAttributes(link, url, newWindow) {\n        link.href = url;\n        link.rel = this.externalLinkRel || DEFAULT_LINK_REL;\n        link.target = newWindow ? '_blank' : this.externalLinkTarget || '';\n    }\n    getDestinationHash() {\n        return '#';\n    }\n    getAnchorUrl() {\n        return '#';\n    }\n    setHash() {\n        // Intentionally empty\n    }\n    executeNamedAction() {\n        // Intentionally empty\n    }\n    cachePageRef() {\n        // Intentionally empty\n    }\n    isPageVisible() {\n        return true;\n    }\n    isPageCached() {\n        return true;\n    }\n    executeSetOCGState() {\n        // Intentionally empty\n    }\n}\n","// As defined in https://github.com/mozilla/pdf.js/blob/d9fac3459609a807be6506fb3441b5da4b154d14/src/shared/util.js#L371-L374\nconst PasswordResponses = {\n    NEED_PASSWORD: 1,\n    INCORRECT_PASSWORD: 2,\n};\nexport default PasswordResponses;\n","import invariant from 'tiny-invariant';\nimport warning from 'warning';\n/**\n * Checks if we're running in a browser environment.\n */\nexport const isBrowser = typeof window !== 'undefined';\n/**\n * Checks whether we're running from a local file system.\n */\nexport const isLocalFileSystem = isBrowser && window.location.protocol === 'file:';\n/**\n * Checks whether a variable is defined.\n *\n * @param {*} variable Variable to check\n */\nexport function isDefined(variable) {\n    return typeof variable !== 'undefined';\n}\n/**\n * Checks whether a variable is defined and not null.\n *\n * @param {*} variable Variable to check\n */\nexport function isProvided(variable) {\n    return isDefined(variable) && variable !== null;\n}\n/**\n * Checks whether a variable provided is a string.\n *\n * @param {*} variable Variable to check\n */\nexport function isString(variable) {\n    return typeof variable === 'string';\n}\n/**\n * Checks whether a variable provided is an ArrayBuffer.\n *\n * @param {*} variable Variable to check\n */\nexport function isArrayBuffer(variable) {\n    return variable instanceof ArrayBuffer;\n}\n/**\n * Checks whether a variable provided is a Blob.\n *\n * @param {*} variable Variable to check\n */\nexport function isBlob(variable) {\n    invariant(isBrowser, 'isBlob can only be used in a browser environment');\n    return variable instanceof Blob;\n}\n/**\n * Checks whether a variable provided is a data URI.\n *\n * @param {*} variable String to check\n */\nexport function isDataURI(variable) {\n    return isString(variable) && /^data:/.test(variable);\n}\nexport function dataURItoByteString(dataURI) {\n    invariant(isDataURI(dataURI), 'Invalid data URI.');\n    const [headersString = '', dataString = ''] = dataURI.split(',');\n    const headers = headersString.split(';');\n    if (headers.indexOf('base64') !== -1) {\n        return atob(dataString);\n    }\n    return unescape(dataString);\n}\nexport function getDevicePixelRatio() {\n    return (isBrowser && window.devicePixelRatio) || 1;\n}\nconst allowFileAccessFromFilesTip = 'On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.';\nexport function displayCORSWarning() {\n    warning(!isLocalFileSystem, `Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`);\n}\nexport function displayWorkerWarning() {\n    warning(!isLocalFileSystem, `Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`);\n}\nexport function cancelRunningTask(runningTask) {\n    if (runningTask === null || runningTask === void 0 ? void 0 : runningTask.cancel)\n        runningTask.cancel();\n}\nexport function makePageCallback(page, scale) {\n    Object.defineProperty(page, 'width', {\n        get() {\n            return this.view[2] * scale;\n        },\n        configurable: true,\n    });\n    Object.defineProperty(page, 'height', {\n        get() {\n            return this.view[3] * scale;\n        },\n        configurable: true,\n    });\n    Object.defineProperty(page, 'originalWidth', {\n        get() {\n            return this.view[2];\n        },\n        configurable: true,\n    });\n    Object.defineProperty(page, 'originalHeight', {\n        get() {\n            return this.view[3];\n        },\n        configurable: true,\n    });\n    return page;\n}\nexport function isCancelException(error) {\n    return error.name === 'RenderingCancelledException';\n}\nexport function loadFromFile(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n            if (!reader.result) {\n                return reject(new Error('Error while reading a file.'));\n            }\n            resolve(reader.result);\n        };\n        reader.onerror = (event) => {\n            if (!event.target) {\n                return reject(new Error('Error while reading a file.'));\n            }\n            const { error } = event.target;\n            if (!error) {\n                return reject(new Error('Error while reading a file.'));\n            }\n            switch (error.code) {\n                case error.NOT_FOUND_ERR:\n                    return reject(new Error('Error while reading a file: File not found.'));\n                case error.SECURITY_ERR:\n                    return reject(new Error('Error while reading a file: Security error.'));\n                case error.ABORT_ERR:\n                    return reject(new Error('Error while reading a file: Aborted.'));\n                default:\n                    return reject(new Error('Error while reading a file.'));\n            }\n        };\n        reader.readAsArrayBuffer(file);\n    });\n}\n","import { useReducer } from 'react';\nfunction reducer(state, action) {\n    switch (action.type) {\n        case 'RESOLVE':\n            return { value: action.value, error: undefined };\n        case 'REJECT':\n            return { value: false, error: action.error };\n        case 'RESET':\n            return { value: undefined, error: undefined };\n        default:\n            return state;\n    }\n}\nexport default function useResolver() {\n    return useReducer((reducer), { value: undefined, error: undefined });\n}\n","'use client';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef, useCallback, useEffect, useImperativeHandle, useMemo, useRef } from 'react';\nimport makeEventProps from 'make-event-props';\nimport makeCancellable from 'make-cancellable-promise';\nimport clsx from 'clsx';\nimport invariant from 'tiny-invariant';\nimport warning from 'warning';\nimport { dequal } from 'dequal';\nimport * as pdfjs from 'pdfjs-dist';\nimport DocumentContext from './DocumentContext.js';\nimport Message from './Message.js';\nimport LinkService from './LinkService.js';\nimport PasswordResponses from './PasswordResponses.js';\nimport { cancelRunningTask, dataURItoByteString, displayCORSWarning, isArrayBuffer, isBlob, isBrowser, isDataURI, loadFromFile, } from './shared/utils.js';\nimport useResolver from './shared/hooks/useResolver.js';\nconst { PDFDataRangeTransport } = pdfjs;\nconst defaultOnPassword = (callback, reason) => {\n    switch (reason) {\n        case PasswordResponses.NEED_PASSWORD: {\n            const password = prompt('Enter the password to open this PDF file.');\n            callback(password);\n            break;\n        }\n        case PasswordResponses.INCORRECT_PASSWORD: {\n            const password = prompt('Invalid password. Please try again.');\n            callback(password);\n            break;\n        }\n        default:\n    }\n};\nfunction isParameterObject(file) {\n    return (typeof file === 'object' &&\n        file !== null &&\n        ('data' in file || 'range' in file || 'url' in file));\n}\n/**\n * Loads a document passed using `file` prop.\n */\nconst Document = forwardRef(function Document(_a, ref) {\n    var { children, className, error = 'Failed to load PDF file.', externalLinkRel, externalLinkTarget, file, inputRef, imageResourcesPath, loading = 'Loading PDF', noData = 'No PDF file specified.', onItemClick, onLoadError: onLoadErrorProps, onLoadProgress, onLoadSuccess: onLoadSuccessProps, onPassword = defaultOnPassword, onSourceError: onSourceErrorProps, onSourceSuccess: onSourceSuccessProps, options, renderMode, rotate } = _a, otherProps = __rest(_a, [\"children\", \"className\", \"error\", \"externalLinkRel\", \"externalLinkTarget\", \"file\", \"inputRef\", \"imageResourcesPath\", \"loading\", \"noData\", \"onItemClick\", \"onLoadError\", \"onLoadProgress\", \"onLoadSuccess\", \"onPassword\", \"onSourceError\", \"onSourceSuccess\", \"options\", \"renderMode\", \"rotate\"]);\n    const [sourceState, sourceDispatch] = useResolver();\n    const { value: source, error: sourceError } = sourceState;\n    const [pdfState, pdfDispatch] = useResolver();\n    const { value: pdf, error: pdfError } = pdfState;\n    const linkService = useRef(new LinkService());\n    const pages = useRef([]);\n    const prevFile = useRef(undefined);\n    const prevOptions = useRef(undefined);\n    if (file && file !== prevFile.current && isParameterObject(file)) {\n        warning(!dequal(file, prevFile.current), `File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to \"file\" prop.`);\n        prevFile.current = file;\n    }\n    // Detect non-memoized changes in options prop\n    if (options && options !== prevOptions.current) {\n        warning(!dequal(options, prevOptions.current), `Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to \"options\" prop.`);\n        prevOptions.current = options;\n    }\n    const viewer = useRef({\n        // Handling jumping to internal links target\n        scrollPageIntoView: (args) => {\n            const { dest, pageNumber, pageIndex = pageNumber - 1 } = args;\n            // First, check if custom handling of onItemClick was provided\n            if (onItemClick) {\n                onItemClick({ dest, pageIndex, pageNumber });\n                return;\n            }\n            // If not, try to look for target page within the <Document>.\n            const page = pages.current[pageIndex];\n            if (page) {\n                // Scroll to the page automatically\n                page.scrollIntoView();\n                return;\n            }\n            warning(false, `An internal link leading to page ${pageNumber} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`);\n        },\n    });\n    useImperativeHandle(ref, () => ({\n        linkService,\n        pages,\n        viewer,\n    }), []);\n    /**\n     * Called when a document source is resolved correctly\n     */\n    function onSourceSuccess() {\n        if (onSourceSuccessProps) {\n            onSourceSuccessProps();\n        }\n    }\n    /**\n     * Called when a document source failed to be resolved correctly\n     */\n    function onSourceError() {\n        if (!sourceError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, sourceError.toString());\n        if (onSourceErrorProps) {\n            onSourceErrorProps(sourceError);\n        }\n    }\n    function resetSource() {\n        sourceDispatch({ type: 'RESET' });\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: See https://github.com/biomejs/biome/issues/3080\n    useEffect(resetSource, [file, sourceDispatch]);\n    const findDocumentSource = useCallback(() => __awaiter(this, void 0, void 0, function* () {\n        if (!file) {\n            return null;\n        }\n        // File is a string\n        if (typeof file === 'string') {\n            if (isDataURI(file)) {\n                const fileByteString = dataURItoByteString(file);\n                return { data: fileByteString };\n            }\n            displayCORSWarning();\n            return { url: file };\n        }\n        // File is PDFDataRangeTransport\n        if (file instanceof PDFDataRangeTransport) {\n            return { range: file };\n        }\n        // File is an ArrayBuffer\n        if (isArrayBuffer(file)) {\n            return { data: file };\n        }\n        /**\n         * The cases below are browser-only.\n         * If you're running on a non-browser environment, these cases will be of no use.\n         */\n        if (isBrowser) {\n            // File is a Blob\n            if (isBlob(file)) {\n                const data = yield loadFromFile(file);\n                return { data };\n            }\n        }\n        // At this point, file must be an object\n        invariant(typeof file === 'object', 'Invalid parameter in file, need either Uint8Array, string or a parameter object');\n        invariant(isParameterObject(file), 'Invalid parameter object: need either .data, .range or .url');\n        // File .url is a string\n        if ('url' in file && typeof file.url === 'string') {\n            if (isDataURI(file.url)) {\n                const { url } = file, otherParams = __rest(file, [\"url\"]);\n                const fileByteString = dataURItoByteString(url);\n                return Object.assign({ data: fileByteString }, otherParams);\n            }\n            displayCORSWarning();\n        }\n        return file;\n    }), [file]);\n    useEffect(() => {\n        const cancellable = makeCancellable(findDocumentSource());\n        cancellable.promise\n            .then((nextSource) => {\n            sourceDispatch({ type: 'RESOLVE', value: nextSource });\n        })\n            .catch((error) => {\n            sourceDispatch({ type: 'REJECT', error });\n        });\n        return () => {\n            cancelRunningTask(cancellable);\n        };\n    }, [findDocumentSource, sourceDispatch]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    useEffect(() => {\n        if (typeof source === 'undefined') {\n            return;\n        }\n        if (source === false) {\n            onSourceError();\n            return;\n        }\n        onSourceSuccess();\n    }, [source]);\n    /**\n     * Called when a document is read successfully\n     */\n    function onLoadSuccess() {\n        if (!pdf) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onLoadSuccessProps) {\n            onLoadSuccessProps(pdf);\n        }\n        pages.current = new Array(pdf.numPages);\n        linkService.current.setDocument(pdf);\n    }\n    /**\n     * Called when a document failed to read successfully\n     */\n    function onLoadError() {\n        if (!pdfError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, pdfError.toString());\n        if (onLoadErrorProps) {\n            onLoadErrorProps(pdfError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on source change\n    useEffect(function resetDocument() {\n        pdfDispatch({ type: 'RESET' });\n    }, [pdfDispatch, source]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    useEffect(function loadDocument() {\n        if (!source) {\n            return;\n        }\n        const documentInitParams = options\n            ? Object.assign(Object.assign({}, source), options) : source;\n        const destroyable = pdfjs.getDocument(documentInitParams);\n        if (onLoadProgress) {\n            destroyable.onProgress = onLoadProgress;\n        }\n        if (onPassword) {\n            destroyable.onPassword = onPassword;\n        }\n        const loadingTask = destroyable;\n        const loadingPromise = loadingTask.promise\n            .then((nextPdf) => {\n            pdfDispatch({ type: 'RESOLVE', value: nextPdf });\n        })\n            .catch((error) => {\n            if (loadingTask.destroyed) {\n                return;\n            }\n            pdfDispatch({ type: 'REJECT', error });\n        });\n        return () => {\n            loadingPromise.finally(() => loadingTask.destroy());\n        };\n    }, [options, pdfDispatch, source]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    useEffect(() => {\n        if (typeof pdf === 'undefined') {\n            return;\n        }\n        if (pdf === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [pdf]);\n    useEffect(function setupLinkService() {\n        linkService.current.setViewer(viewer.current);\n        linkService.current.setExternalLinkRel(externalLinkRel);\n        linkService.current.setExternalLinkTarget(externalLinkTarget);\n    }, [externalLinkRel, externalLinkTarget]);\n    const registerPage = useCallback((pageIndex, ref) => {\n        pages.current[pageIndex] = ref;\n    }, []);\n    const unregisterPage = useCallback((pageIndex) => {\n        delete pages.current[pageIndex];\n    }, []);\n    const childContext = useMemo(() => ({\n        imageResourcesPath,\n        linkService: linkService.current,\n        onItemClick,\n        pdf,\n        registerPage,\n        renderMode,\n        rotate,\n        unregisterPage,\n    }), [imageResourcesPath, onItemClick, pdf, registerPage, renderMode, rotate, unregisterPage]);\n    const eventProps = useMemo(() => makeEventProps(otherProps, () => pdf), \n    // biome-ignore lint/correctness/useExhaustiveDependencies: FIXME\n    [otherProps, pdf]);\n    function renderChildren() {\n        return _jsx(DocumentContext.Provider, { value: childContext, children: children });\n    }\n    function renderContent() {\n        if (!file) {\n            return _jsx(Message, { type: \"no-data\", children: typeof noData === 'function' ? noData() : noData });\n        }\n        if (pdf === undefined || pdf === null) {\n            return (_jsx(Message, { type: \"loading\", children: typeof loading === 'function' ? loading() : loading }));\n        }\n        if (pdf === false) {\n            return _jsx(Message, { type: \"error\", children: typeof error === 'function' ? error() : error });\n        }\n        return renderChildren();\n    }\n    return (_jsx(\"div\", Object.assign({ className: clsx('react-pdf__Document', className), \n        // Assertion is needed for React 18 compatibility\n        ref: inputRef, style: {\n            ['--scale-factor']: '1',\n        } }, eventProps, { children: renderContent() })));\n});\nexport default Document;\n","import { useContext } from 'react';\nimport DocumentContext from '../../DocumentContext.js';\nexport default function useDocumentContext() {\n    return useContext(DocumentContext);\n}\n","/**\n * A function that merges React refs into one.\n * Supports both functions and ref objects created using createRef() and useRef().\n *\n * Usage:\n * ```tsx\n * <div ref={mergeRefs(ref1, ref2, ref3)} />\n * ```\n *\n * @param {(React.Ref<T> | undefined)[]} inputRefs Array of refs\n * @returns {React.Ref<T> | React.RefCallback<T>} Merged refs\n */\nexport default function mergeRefs() {\n    var inputRefs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        inputRefs[_i] = arguments[_i];\n    }\n    var filteredInputRefs = inputRefs.filter(Boolean);\n    if (filteredInputRefs.length <= 1) {\n        var firstRef = filteredInputRefs[0];\n        return firstRef || null;\n    }\n    return function mergedRefs(ref) {\n        filteredInputRefs.forEach(function (inputRef) {\n            if (typeof inputRef === 'function') {\n                inputRef(ref);\n            }\n            else if (inputRef) {\n                inputRef.current = ref;\n            }\n        });\n    };\n}\n","'use client';\nimport { createContext } from 'react';\nconst pageContext = createContext(null);\nexport default pageContext;\n","// From pdfjs-dist/lib/web/struct_tree_layer_builder.js\nexport const PDF_ROLE_TO_HTML_ROLE = {\n    // Document level structure types\n    Document: null, // There's a \"document\" role, but it doesn't make sense here.\n    DocumentFragment: null,\n    // Grouping level structure types\n    Part: 'group',\n    Sect: 'group', // XXX: There's a \"section\" role, but it's abstract.\n    Div: 'group',\n    Aside: 'note',\n    NonStruct: 'none',\n    // Block level structure types\n    P: null,\n    // H<n>,\n    H: 'heading',\n    Title: null,\n    FENote: 'note',\n    // Sub-block level structure type\n    Sub: 'group',\n    // General inline level structure types\n    Lbl: null,\n    Span: null,\n    Em: null,\n    Strong: null,\n    Link: 'link',\n    Annot: 'note',\n    Form: 'form',\n    // Ruby and Warichu structure types\n    Ruby: null,\n    RB: null,\n    RT: null,\n    RP: null,\n    Warichu: null,\n    WT: null,\n    WP: null,\n    // List standard structure types\n    L: 'list',\n    LI: 'listitem',\n    LBody: null,\n    // Table standard structure types\n    Table: 'table',\n    TR: 'row',\n    TH: 'columnheader',\n    TD: 'cell',\n    THead: 'columnheader',\n    TBody: null,\n    TFoot: null,\n    // Standard structure type Caption\n    Caption: null,\n    // Standard structure type Figure\n    Figure: 'figure',\n    // Standard structure type Formula\n    Formula: null,\n    // standard structure type Artifact\n    Artifact: null,\n};\nexport const HEADING_PATTERN = /^H(\\d+)$/;\n","import { HEADING_PATTERN, PDF_ROLE_TO_HTML_ROLE } from './constants.js';\nexport function isPdfRole(role) {\n    return role in PDF_ROLE_TO_HTML_ROLE;\n}\nexport function isStructTreeNode(node) {\n    return 'children' in node;\n}\nexport function isStructTreeNodeWithOnlyContentChild(node) {\n    if (!isStructTreeNode(node)) {\n        return false;\n    }\n    return node.children.length === 1 && 0 in node.children && 'id' in node.children[0];\n}\nexport function getRoleAttributes(node) {\n    const attributes = {};\n    if (isStructTreeNode(node)) {\n        const { role } = node;\n        const matches = role.match(HEADING_PATTERN);\n        if (matches) {\n            attributes.role = 'heading';\n            attributes['aria-level'] = Number(matches[1]);\n        }\n        else if (isPdfRole(role)) {\n            const htmlRole = PDF_ROLE_TO_HTML_ROLE[role];\n            if (htmlRole) {\n                attributes.role = htmlRole;\n            }\n        }\n    }\n    return attributes;\n}\nexport function getBaseAttributes(node) {\n    const attributes = {};\n    if (isStructTreeNode(node)) {\n        if (node.alt !== undefined) {\n            attributes['aria-label'] = node.alt;\n        }\n        if (node.lang !== undefined) {\n            attributes.lang = node.lang;\n        }\n        if (isStructTreeNodeWithOnlyContentChild(node)) {\n            const [child] = node.children;\n            if (child) {\n                const childAttributes = getBaseAttributes(child);\n                return Object.assign(Object.assign({}, attributes), childAttributes);\n            }\n        }\n    }\n    else {\n        if ('id' in node) {\n            attributes['aria-owns'] = node.id;\n        }\n    }\n    return attributes;\n}\nexport function getAttributes(node) {\n    if (!node) {\n        return null;\n    }\n    return Object.assign(Object.assign({}, getRoleAttributes(node)), getBaseAttributes(node));\n}\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useMemo } from 'react';\nimport { getAttributes, isStructTreeNode, isStructTreeNodeWithOnlyContentChild, } from './shared/structTreeUtils.js';\nexport default function StructTreeItem({ className, node, }) {\n    const attributes = useMemo(() => getAttributes(node), [node]);\n    const children = useMemo(() => {\n        if (!isStructTreeNode(node)) {\n            return null;\n        }\n        if (isStructTreeNodeWithOnlyContentChild(node)) {\n            return null;\n        }\n        return node.children.map((child, index) => {\n            return (\n            // biome-ignore lint/suspicious/noArrayIndexKey: index is stable here\n            _jsx(StructTreeItem, { node: child }, index));\n        });\n    }, [node]);\n    return (_jsx(\"span\", Object.assign({ className: className }, attributes, { children: children })));\n}\n","import { useContext } from 'react';\nimport PageContext from '../../PageContext.js';\nexport default function usePageContext() {\n    return useContext(PageContext);\n}\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nimport makeCancellable from 'make-cancellable-promise';\nimport invariant from 'tiny-invariant';\nimport warning from 'warning';\nimport StructTreeItem from './StructTreeItem.js';\nimport usePageContext from './shared/hooks/usePageContext.js';\nimport useResolver from './shared/hooks/useResolver.js';\nimport { cancelRunningTask } from './shared/utils.js';\nexport default function StructTree() {\n    const pageContext = usePageContext();\n    invariant(pageContext, 'Unable to find Page context.');\n    const { onGetStructTreeError: onGetStructTreeErrorProps, onGetStructTreeSuccess: onGetStructTreeSuccessProps, } = pageContext;\n    const [structTreeState, structTreeDispatch] = useResolver();\n    const { value: structTree, error: structTreeError } = structTreeState;\n    const { customTextRenderer, page } = pageContext;\n    function onLoadSuccess() {\n        if (!structTree) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onGetStructTreeSuccessProps) {\n            onGetStructTreeSuccessProps(structTree);\n        }\n    }\n    function onLoadError() {\n        if (!structTreeError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, structTreeError.toString());\n        if (onGetStructTreeErrorProps) {\n            onGetStructTreeErrorProps(structTreeError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on page change\n    useEffect(function resetStructTree() {\n        structTreeDispatch({ type: 'RESET' });\n    }, [structTreeDispatch, page]);\n    useEffect(function loadStructTree() {\n        if (customTextRenderer) {\n            // TODO: Document why this is necessary\n            return;\n        }\n        if (!page) {\n            return;\n        }\n        const cancellable = makeCancellable(page.getStructTree());\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextStructTree) => {\n            structTreeDispatch({ type: 'RESOLVE', value: nextStructTree });\n        })\n            .catch((error) => {\n            structTreeDispatch({ type: 'REJECT', error });\n        });\n        return () => cancelRunningTask(runningTask);\n    }, [customTextRenderer, page, structTreeDispatch]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    useEffect(() => {\n        if (structTree === undefined) {\n            return;\n        }\n        if (structTree === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [structTree]);\n    if (!structTree) {\n        return null;\n    }\n    return _jsx(StructTreeItem, { className: \"react-pdf__Page__structTree structTree\", node: structTree });\n}\n","'use client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useMemo, useRef } from 'react';\nimport mergeRefs from 'merge-refs';\nimport invariant from 'tiny-invariant';\nimport warning from 'warning';\nimport * as pdfjs from 'pdfjs-dist';\nimport StructTree from '../StructTree.js';\nimport usePageContext from '../shared/hooks/usePageContext.js';\nimport { cancelRunningTask, getDevicePixelRatio, isCancelException, makePageCallback, } from '../shared/utils.js';\nconst ANNOTATION_MODE = pdfjs.AnnotationMode;\nexport default function Canvas(props) {\n    const pageContext = usePageContext();\n    invariant(pageContext, 'Unable to find Page context.');\n    const mergedProps = Object.assign(Object.assign({}, pageContext), props);\n    const { _className, canvasBackground, devicePixelRatio = getDevicePixelRatio(), onRenderError: onRenderErrorProps, onRenderSuccess: onRenderSuccessProps, page, renderForms, renderTextLayer, rotate, scale, } = mergedProps;\n    const { canvasRef } = props;\n    invariant(page, 'Attempted to render page canvas, but no page was specified.');\n    const canvasElement = useRef(null);\n    /**\n     * Called when a page is rendered successfully.\n     */\n    function onRenderSuccess() {\n        if (!page) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onRenderSuccessProps) {\n            onRenderSuccessProps(makePageCallback(page, scale));\n        }\n    }\n    /**\n     * Called when a page fails to render.\n     */\n    function onRenderError(error) {\n        if (isCancelException(error)) {\n            return;\n        }\n        warning(false, error.toString());\n        if (onRenderErrorProps) {\n            onRenderErrorProps(error);\n        }\n    }\n    const renderViewport = useMemo(() => page.getViewport({ scale: scale * devicePixelRatio, rotation: rotate }), [devicePixelRatio, page, rotate, scale]);\n    const viewport = useMemo(() => page.getViewport({ scale, rotation: rotate }), [page, rotate, scale]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    useEffect(function drawPageOnCanvas() {\n        if (!page) {\n            return;\n        }\n        // Ensures the canvas will be re-rendered from scratch. Otherwise all form data will stay.\n        page.cleanup();\n        const { current: canvas } = canvasElement;\n        if (!canvas) {\n            return;\n        }\n        canvas.width = renderViewport.width;\n        canvas.height = renderViewport.height;\n        canvas.style.width = `${Math.floor(viewport.width)}px`;\n        canvas.style.height = `${Math.floor(viewport.height)}px`;\n        canvas.style.visibility = 'hidden';\n        const renderContext = {\n            annotationMode: renderForms ? ANNOTATION_MODE.ENABLE_FORMS : ANNOTATION_MODE.ENABLE,\n            canvasContext: canvas.getContext('2d', { alpha: false }),\n            viewport: renderViewport,\n        };\n        if (canvasBackground) {\n            renderContext.background = canvasBackground;\n        }\n        const cancellable = page.render(renderContext);\n        const runningTask = cancellable;\n        cancellable.promise\n            .then(() => {\n            canvas.style.visibility = '';\n            onRenderSuccess();\n        })\n            .catch(onRenderError);\n        return () => cancelRunningTask(runningTask);\n    }, [canvasBackground, page, renderForms, renderViewport, viewport]);\n    const cleanup = useCallback(() => {\n        const { current: canvas } = canvasElement;\n        /**\n         * Zeroing the width and height cause most browsers to release graphics\n         * resources immediately, which can greatly reduce memory consumption.\n         */\n        if (canvas) {\n            canvas.width = 0;\n            canvas.height = 0;\n        }\n    }, []);\n    useEffect(() => cleanup, [cleanup]);\n    return (_jsx(\"canvas\", { className: `${_className}__canvas`, dir: \"ltr\", ref: mergeRefs(canvasRef, canvasElement), style: {\n            display: 'block',\n            userSelect: 'none',\n        }, children: renderTextLayer ? _jsx(StructTree, {}) : null }));\n}\n","'use client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useLayoutEffect, useMemo, useRef } from 'react';\nimport makeCancellable from 'make-cancellable-promise';\nimport clsx from 'clsx';\nimport invariant from 'tiny-invariant';\nimport warning from 'warning';\nimport * as pdfjs from 'pdfjs-dist';\nimport usePageContext from '../shared/hooks/usePageContext.js';\nimport useResolver from '../shared/hooks/useResolver.js';\nimport { cancelRunningTask } from '../shared/utils.js';\nfunction isTextItem(item) {\n    return 'str' in item;\n}\nexport default function TextLayer() {\n    const pageContext = usePageContext();\n    invariant(pageContext, 'Unable to find Page context.');\n    const { customTextRenderer, onGetTextError, onGetTextSuccess, onRenderTextLayerError, onRenderTextLayerSuccess, page, pageIndex, pageNumber, rotate, scale, } = pageContext;\n    invariant(page, 'Attempted to load page text content, but no page was specified.');\n    const [textContentState, textContentDispatch] = useResolver();\n    const { value: textContent, error: textContentError } = textContentState;\n    const layerElement = useRef(null);\n    warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue('--react-pdf-text-layer'), 10) === 1, 'TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer');\n    /**\n     * Called when a page text content is read successfully\n     */\n    function onLoadSuccess() {\n        if (!textContent) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onGetTextSuccess) {\n            onGetTextSuccess(textContent);\n        }\n    }\n    /**\n     * Called when a page text content failed to read successfully\n     */\n    function onLoadError() {\n        if (!textContentError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, textContentError.toString());\n        if (onGetTextError) {\n            onGetTextError(textContentError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on page change\n    useEffect(function resetTextContent() {\n        textContentDispatch({ type: 'RESET' });\n    }, [page, textContentDispatch]);\n    useEffect(function loadTextContent() {\n        if (!page) {\n            return;\n        }\n        const cancellable = makeCancellable(page.getTextContent());\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextTextContent) => {\n            textContentDispatch({ type: 'RESOLVE', value: nextTextContent });\n        })\n            .catch((error) => {\n            textContentDispatch({ type: 'REJECT', error });\n        });\n        return () => cancelRunningTask(runningTask);\n    }, [page, textContentDispatch]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    useEffect(() => {\n        if (textContent === undefined) {\n            return;\n        }\n        if (textContent === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [textContent]);\n    /**\n     * Called when a text layer is rendered successfully\n     */\n    const onRenderSuccess = useCallback(() => {\n        if (onRenderTextLayerSuccess) {\n            onRenderTextLayerSuccess();\n        }\n    }, [onRenderTextLayerSuccess]);\n    /**\n     * Called when a text layer failed to render successfully\n     */\n    const onRenderError = useCallback((error) => {\n        warning(false, error.toString());\n        if (onRenderTextLayerError) {\n            onRenderTextLayerError(error);\n        }\n    }, [onRenderTextLayerError]);\n    function onMouseDown() {\n        const layer = layerElement.current;\n        if (!layer) {\n            return;\n        }\n        layer.classList.add('selecting');\n    }\n    function onMouseUp() {\n        const layer = layerElement.current;\n        if (!layer) {\n            return;\n        }\n        layer.classList.remove('selecting');\n    }\n    const viewport = useMemo(() => page.getViewport({ scale, rotation: rotate }), [page, rotate, scale]);\n    useLayoutEffect(function renderTextLayer() {\n        if (!page || !textContent) {\n            return;\n        }\n        const { current: layer } = layerElement;\n        if (!layer) {\n            return;\n        }\n        layer.innerHTML = '';\n        const textContentSource = page.streamTextContent({ includeMarkedContent: true });\n        const parameters = {\n            container: layer,\n            textContentSource,\n            viewport,\n        };\n        const cancellable = new pdfjs.TextLayer(parameters);\n        const runningTask = cancellable;\n        cancellable\n            .render()\n            .then(() => {\n            const end = document.createElement('div');\n            end.className = 'endOfContent';\n            layer.append(end);\n            const layerChildren = layer.querySelectorAll('[role=\"presentation\"]');\n            if (customTextRenderer) {\n                let index = 0;\n                textContent.items.forEach((item, itemIndex) => {\n                    if (!isTextItem(item)) {\n                        return;\n                    }\n                    const child = layerChildren[index];\n                    if (!child) {\n                        return;\n                    }\n                    const content = customTextRenderer(Object.assign({ pageIndex,\n                        pageNumber,\n                        itemIndex }, item));\n                    child.innerHTML = content;\n                    index += item.str && item.hasEOL ? 2 : 1;\n                });\n            }\n            // Intentional immediate callback\n            onRenderSuccess();\n        })\n            .catch(onRenderError);\n        return () => cancelRunningTask(runningTask);\n    }, [\n        customTextRenderer,\n        onRenderError,\n        onRenderSuccess,\n        page,\n        pageIndex,\n        pageNumber,\n        textContent,\n        viewport,\n    ]);\n    return (_jsx(\"div\", { className: clsx('react-pdf__Page__textContent', 'textLayer'), onMouseUp: onMouseUp, onMouseDown: onMouseDown, ref: layerElement }));\n}\n","'use client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useMemo, useRef } from 'react';\nimport makeCancellable from 'make-cancellable-promise';\nimport clsx from 'clsx';\nimport invariant from 'tiny-invariant';\nimport warning from 'warning';\nimport * as pdfjs from 'pdfjs-dist';\nimport useDocumentContext from '../shared/hooks/useDocumentContext.js';\nimport usePageContext from '../shared/hooks/usePageContext.js';\nimport useResolver from '../shared/hooks/useResolver.js';\nimport { cancelRunningTask } from '../shared/utils.js';\nexport default function AnnotationLayer() {\n    const documentContext = useDocumentContext();\n    const pageContext = usePageContext();\n    invariant(pageContext, 'Unable to find Page context.');\n    const mergedProps = Object.assign(Object.assign({}, documentContext), pageContext);\n    const { imageResourcesPath, linkService, onGetAnnotationsError: onGetAnnotationsErrorProps, onGetAnnotationsSuccess: onGetAnnotationsSuccessProps, onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps, onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps, page, pdf, renderForms, rotate, scale = 1, } = mergedProps;\n    invariant(pdf, 'Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.');\n    invariant(page, 'Attempted to load page annotations, but no page was specified.');\n    invariant(linkService, 'Attempted to load page annotations, but no linkService was specified.');\n    const [annotationsState, annotationsDispatch] = useResolver();\n    const { value: annotations, error: annotationsError } = annotationsState;\n    const layerElement = useRef(null);\n    warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue('--react-pdf-annotation-layer'), 10) === 1, 'AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations');\n    function onLoadSuccess() {\n        if (!annotations) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onGetAnnotationsSuccessProps) {\n            onGetAnnotationsSuccessProps(annotations);\n        }\n    }\n    function onLoadError() {\n        if (!annotationsError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, annotationsError.toString());\n        if (onGetAnnotationsErrorProps) {\n            onGetAnnotationsErrorProps(annotationsError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on page change\n    useEffect(function resetAnnotations() {\n        annotationsDispatch({ type: 'RESET' });\n    }, [annotationsDispatch, page]);\n    useEffect(function loadAnnotations() {\n        if (!page) {\n            return;\n        }\n        const cancellable = makeCancellable(page.getAnnotations());\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextAnnotations) => {\n            annotationsDispatch({ type: 'RESOLVE', value: nextAnnotations });\n        })\n            .catch((error) => {\n            annotationsDispatch({ type: 'REJECT', error });\n        });\n        return () => {\n            cancelRunningTask(runningTask);\n        };\n    }, [annotationsDispatch, page]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    useEffect(() => {\n        if (annotations === undefined) {\n            return;\n        }\n        if (annotations === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [annotations]);\n    function onRenderSuccess() {\n        if (onRenderAnnotationLayerSuccessProps) {\n            onRenderAnnotationLayerSuccessProps();\n        }\n    }\n    function onRenderError(error) {\n        warning(false, `${error}`);\n        if (onRenderAnnotationLayerErrorProps) {\n            onRenderAnnotationLayerErrorProps(error);\n        }\n    }\n    const viewport = useMemo(() => page.getViewport({ scale, rotation: rotate }), [page, rotate, scale]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    useEffect(function renderAnnotationLayer() {\n        if (!pdf || !page || !linkService || !annotations) {\n            return;\n        }\n        const { current: layer } = layerElement;\n        if (!layer) {\n            return;\n        }\n        const clonedViewport = viewport.clone({ dontFlip: true });\n        const annotationLayerParameters = {\n            accessibilityManager: null, // TODO: Implement this\n            annotationCanvasMap: null, // TODO: Implement this\n            annotationEditorUIManager: null, // TODO: Implement this\n            div: layer,\n            l10n: null, // TODO: Implement this\n            page,\n            structTreeLayer: null, // TODO: Implement this\n            viewport: clonedViewport,\n        };\n        const renderParameters = {\n            annotations,\n            annotationStorage: pdf.annotationStorage,\n            div: layer,\n            imageResourcesPath,\n            linkService,\n            page,\n            renderForms,\n            viewport: clonedViewport,\n        };\n        layer.innerHTML = '';\n        try {\n            new pdfjs.AnnotationLayer(annotationLayerParameters).render(renderParameters);\n            // Intentional immediate callback\n            onRenderSuccess();\n        }\n        catch (error) {\n            onRenderError(error);\n        }\n        return () => {\n            // TODO: Cancel running task?\n        };\n    }, [annotations, imageResourcesPath, linkService, page, pdf, renderForms, viewport]);\n    return (_jsx(\"div\", { className: clsx('react-pdf__Page__annotations', 'annotationLayer'), ref: layerElement }));\n}\n","'use client';\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useMemo, useRef } from 'react';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport clsx from 'clsx';\nimport mergeRefs from 'merge-refs';\nimport invariant from 'tiny-invariant';\nimport warning from 'warning';\nimport PageContext from './PageContext.js';\nimport Message from './Message.js';\nimport Canvas from './Page/Canvas.js';\nimport TextLayer from './Page/TextLayer.js';\nimport AnnotationLayer from './Page/AnnotationLayer.js';\nimport { cancelRunningTask, isProvided, makePageCallback } from './shared/utils.js';\nimport useDocumentContext from './shared/hooks/useDocumentContext.js';\nimport useResolver from './shared/hooks/useResolver.js';\nconst defaultScale = 1;\n/**\n * Displays a page.\n *\n * Should be placed inside `<Document />`. Alternatively, it can have `pdf` prop passed, which can be obtained from `<Document />`'s `onLoadSuccess` callback function, however some advanced functions like linking between pages inside a document may not be working correctly.\n */\nexport default function Page(props) {\n    const documentContext = useDocumentContext();\n    const mergedProps = Object.assign(Object.assign({}, documentContext), props);\n    const { _className = 'react-pdf__Page', _enableRegisterUnregisterPage = true, canvasBackground, canvasRef, children, className, customRenderer: CustomRenderer, customTextRenderer, devicePixelRatio, error = 'Failed to load the page.', height, inputRef, loading = 'Loading page', noData = 'No page specified.', onGetAnnotationsError: onGetAnnotationsErrorProps, onGetAnnotationsSuccess: onGetAnnotationsSuccessProps, onGetStructTreeError: onGetStructTreeErrorProps, onGetStructTreeSuccess: onGetStructTreeSuccessProps, onGetTextError: onGetTextErrorProps, onGetTextSuccess: onGetTextSuccessProps, onLoadError: onLoadErrorProps, onLoadSuccess: onLoadSuccessProps, onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps, onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps, onRenderError: onRenderErrorProps, onRenderSuccess: onRenderSuccessProps, onRenderTextLayerError: onRenderTextLayerErrorProps, onRenderTextLayerSuccess: onRenderTextLayerSuccessProps, pageIndex: pageIndexProps, pageNumber: pageNumberProps, pdf, registerPage, renderAnnotationLayer: renderAnnotationLayerProps = true, renderForms = false, renderMode = 'canvas', renderTextLayer: renderTextLayerProps = true, rotate: rotateProps, scale: scaleProps = defaultScale, unregisterPage, width } = mergedProps, otherProps = __rest(mergedProps, [\"_className\", \"_enableRegisterUnregisterPage\", \"canvasBackground\", \"canvasRef\", \"children\", \"className\", \"customRenderer\", \"customTextRenderer\", \"devicePixelRatio\", \"error\", \"height\", \"inputRef\", \"loading\", \"noData\", \"onGetAnnotationsError\", \"onGetAnnotationsSuccess\", \"onGetStructTreeError\", \"onGetStructTreeSuccess\", \"onGetTextError\", \"onGetTextSuccess\", \"onLoadError\", \"onLoadSuccess\", \"onRenderAnnotationLayerError\", \"onRenderAnnotationLayerSuccess\", \"onRenderError\", \"onRenderSuccess\", \"onRenderTextLayerError\", \"onRenderTextLayerSuccess\", \"pageIndex\", \"pageNumber\", \"pdf\", \"registerPage\", \"renderAnnotationLayer\", \"renderForms\", \"renderMode\", \"renderTextLayer\", \"rotate\", \"scale\", \"unregisterPage\", \"width\"]);\n    const [pageState, pageDispatch] = useResolver();\n    const { value: page, error: pageError } = pageState;\n    const pageElement = useRef(null);\n    invariant(pdf, 'Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.');\n    const pageIndex = isProvided(pageNumberProps) ? pageNumberProps - 1 : (pageIndexProps !== null && pageIndexProps !== void 0 ? pageIndexProps : null);\n    const pageNumber = pageNumberProps !== null && pageNumberProps !== void 0 ? pageNumberProps : (isProvided(pageIndexProps) ? pageIndexProps + 1 : null);\n    const rotate = rotateProps !== null && rotateProps !== void 0 ? rotateProps : (page ? page.rotate : null);\n    const scale = useMemo(() => {\n        if (!page) {\n            return null;\n        }\n        // Be default, we'll render page at 100% * scale width.\n        let pageScale = 1;\n        // Passing scale explicitly null would cause the page not to render\n        const scaleWithDefault = scaleProps !== null && scaleProps !== void 0 ? scaleProps : defaultScale;\n        // If width/height is defined, calculate the scale of the page so it could be of desired width.\n        if (width || height) {\n            const viewport = page.getViewport({ scale: 1, rotation: rotate });\n            if (width) {\n                pageScale = width / viewport.width;\n            }\n            else if (height) {\n                pageScale = height / viewport.height;\n            }\n        }\n        return scaleWithDefault * pageScale;\n    }, [height, page, rotate, scaleProps, width]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on pdf change\n    useEffect(function hook() {\n        return () => {\n            if (!isProvided(pageIndex)) {\n                // Impossible, but TypeScript doesn't know that\n                return;\n            }\n            if (_enableRegisterUnregisterPage && unregisterPage) {\n                unregisterPage(pageIndex);\n            }\n        };\n    }, [_enableRegisterUnregisterPage, pdf, pageIndex, unregisterPage]);\n    /**\n     * Called when a page is loaded successfully\n     */\n    function onLoadSuccess() {\n        if (onLoadSuccessProps) {\n            if (!page || !scale) {\n                // Impossible, but TypeScript doesn't know that\n                return;\n            }\n            onLoadSuccessProps(makePageCallback(page, scale));\n        }\n        if (_enableRegisterUnregisterPage && registerPage) {\n            if (!isProvided(pageIndex) || !pageElement.current) {\n                // Impossible, but TypeScript doesn't know that\n                return;\n            }\n            registerPage(pageIndex, pageElement.current);\n        }\n    }\n    /**\n     * Called when a page failed to load\n     */\n    function onLoadError() {\n        if (!pageError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, pageError.toString());\n        if (onLoadErrorProps) {\n            onLoadErrorProps(pageError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on pdf and pageIndex change\n    useEffect(function resetPage() {\n        pageDispatch({ type: 'RESET' });\n    }, [pageDispatch, pdf, pageIndex]);\n    useEffect(function loadPage() {\n        if (!pdf || !pageNumber) {\n            return;\n        }\n        const cancellable = makeCancellable(pdf.getPage(pageNumber));\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextPage) => {\n            pageDispatch({ type: 'RESOLVE', value: nextPage });\n        })\n            .catch((error) => {\n            pageDispatch({ type: 'REJECT', error });\n        });\n        return () => cancelRunningTask(runningTask);\n    }, [pageDispatch, pdf, pageNumber]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    useEffect(() => {\n        if (page === undefined) {\n            return;\n        }\n        if (page === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [page, scale]);\n    const childContext = useMemo(() => \n    // Technically there cannot be page without pageIndex, pageNumber, rotate and scale, but TypeScript doesn't know that\n    page && isProvided(pageIndex) && pageNumber && isProvided(rotate) && isProvided(scale)\n        ? {\n            _className,\n            canvasBackground,\n            customTextRenderer,\n            devicePixelRatio,\n            onGetAnnotationsError: onGetAnnotationsErrorProps,\n            onGetAnnotationsSuccess: onGetAnnotationsSuccessProps,\n            onGetStructTreeError: onGetStructTreeErrorProps,\n            onGetStructTreeSuccess: onGetStructTreeSuccessProps,\n            onGetTextError: onGetTextErrorProps,\n            onGetTextSuccess: onGetTextSuccessProps,\n            onRenderAnnotationLayerError: onRenderAnnotationLayerErrorProps,\n            onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccessProps,\n            onRenderError: onRenderErrorProps,\n            onRenderSuccess: onRenderSuccessProps,\n            onRenderTextLayerError: onRenderTextLayerErrorProps,\n            onRenderTextLayerSuccess: onRenderTextLayerSuccessProps,\n            page,\n            pageIndex,\n            pageNumber,\n            renderForms,\n            renderTextLayer: renderTextLayerProps,\n            rotate,\n            scale,\n        }\n        : null, [\n        _className,\n        canvasBackground,\n        customTextRenderer,\n        devicePixelRatio,\n        onGetAnnotationsErrorProps,\n        onGetAnnotationsSuccessProps,\n        onGetStructTreeErrorProps,\n        onGetStructTreeSuccessProps,\n        onGetTextErrorProps,\n        onGetTextSuccessProps,\n        onRenderAnnotationLayerErrorProps,\n        onRenderAnnotationLayerSuccessProps,\n        onRenderErrorProps,\n        onRenderSuccessProps,\n        onRenderTextLayerErrorProps,\n        onRenderTextLayerSuccessProps,\n        page,\n        pageIndex,\n        pageNumber,\n        renderForms,\n        renderTextLayerProps,\n        rotate,\n        scale,\n    ]);\n    const eventProps = useMemo(() => makeEventProps(otherProps, () => page ? (scale ? makePageCallback(page, scale) : undefined) : page), \n    // biome-ignore lint/correctness/useExhaustiveDependencies: FIXME\n    [otherProps, page, scale]);\n    const pageKey = `${pageIndex}@${scale}/${rotate}`;\n    function renderMainLayer() {\n        switch (renderMode) {\n            case 'custom': {\n                invariant(CustomRenderer, `renderMode was set to \"custom\", but no customRenderer was passed.`);\n                return _jsx(CustomRenderer, {}, `${pageKey}_custom`);\n            }\n            case 'none':\n                return null;\n            case 'canvas':\n            default:\n                return _jsx(Canvas, { canvasRef: canvasRef }, `${pageKey}_canvas`);\n        }\n    }\n    function renderTextLayer() {\n        if (!renderTextLayerProps) {\n            return null;\n        }\n        return _jsx(TextLayer, {}, `${pageKey}_text`);\n    }\n    function renderAnnotationLayer() {\n        if (!renderAnnotationLayerProps) {\n            return null;\n        }\n        return _jsx(AnnotationLayer, {}, `${pageKey}_annotations`);\n    }\n    function renderChildren() {\n        return (_jsxs(PageContext.Provider, { value: childContext, children: [renderMainLayer(), renderTextLayer(), renderAnnotationLayer(), children] }));\n    }\n    function renderContent() {\n        if (!pageNumber) {\n            return _jsx(Message, { type: \"no-data\", children: typeof noData === 'function' ? noData() : noData });\n        }\n        if (pdf === null || page === undefined || page === null) {\n            return (_jsx(Message, { type: \"loading\", children: typeof loading === 'function' ? loading() : loading }));\n        }\n        if (pdf === false || page === false) {\n            return _jsx(Message, { type: \"error\", children: typeof error === 'function' ? error() : error });\n        }\n        return renderChildren();\n    }\n    return (_jsx(\"div\", Object.assign({ className: clsx(_className, className), \"data-page-number\": pageNumber, \n        // Assertion is needed for React 18 compatibility\n        ref: mergeRefs(inputRef, pageElement), style: {\n            ['--scale-factor']: `${scale}`,\n            backgroundColor: canvasBackground || 'white',\n            position: 'relative',\n            minWidth: 'min-content',\n            minHeight: 'min-content',\n        } }, eventProps, { children: renderContent() })));\n}\n","import * as pdfjs from 'pdfjs-dist';\nimport Document from './Document.js';\nimport Outline from './Outline.js';\nimport Page from './Page.js';\nimport Thumbnail from './Thumbnail.js';\nimport useDocumentContext from './shared/hooks/useDocumentContext.js';\nimport useOutlineContext from './shared/hooks/useOutlineContext.js';\nimport usePageContext from './shared/hooks/usePageContext.js';\nimport PasswordResponses from './PasswordResponses.js';\nimport { displayWorkerWarning } from './shared/utils.js';\ndisplayWorkerWarning();\npdfjs.GlobalWorkerOptions.workerSrc = 'pdf.worker.mjs';\nexport { pdfjs, Document, Outline, Page, Thumbnail, useDocumentContext, useOutlineContext, usePageContext, PasswordResponses, };\n","import 'react-pdf/dist/Page/TextLayer.css';\nimport 'react-pdf/dist/Page/AnnotationLayer.css';\n\nimport clsx from 'clsx';\nimport type { FC } from 'react';\nimport { useState } from 'react';\nimport { Document, Page, pdfjs } from 'react-pdf';\n\nimport { PuiCircularProgress } from '../../../ui';\nimport type { ViewerProps } from '../file-preview';\nimport { PDFPageWrapper, PDFWrapper } from './StyledComponents';\n\npdfjs.GlobalWorkerOptions.workerSrc = `//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.mjs`;\n\nexport const PDFViewer: FC<ViewerProps> = ({ blob, scale, rotate }) => {\n  const [numPages, setNumPages] = useState<number>(0);\n  const [loaded, setLoaded] = useState(false);\n\n  return (\n    <PDFWrapper\n      loaded={loaded}\n      className={clsx({ 'multi-page': numPages > 1 })}\n    >\n      <Document\n        file={blob}\n        onLoadSuccess={({ numPages }) => {\n          setNumPages(numPages);\n          setLoaded(true);\n        }}\n        loading={<PuiCircularProgress size={128} />}\n      >\n        {Array.from(new Array(numPages), (_, index) => (\n          <PDFPageWrapper\n            key={index}\n            className={clsx({ 'multi-page': numPages > 1 })}\n          >\n            <Page\n              pageNumber={index + 1}\n              scale={scale}\n              rotate={rotate}\n            />\n          </PDFPageWrapper>\n        ))}\n      </Document>\n    </PDFWrapper>\n  );\n};\n","import { type FC, useMemo } from 'react';\n\nimport { PuiVideoPlayer } from '../../../ui';\nimport type { ViewerProps } from '../file-preview';\nimport { VideoWrapper } from './StyledComponents';\n\nexport const VideoViewer: FC<ViewerProps> = ({ blob, rotate, scale, fileName }) => {\n  const src = useMemo(() => URL.createObjectURL(blob), [blob]);\n\n  return (\n    <VideoWrapper>\n      <PuiVideoPlayer\n        src={src}\n        fileName={fileName}\n        width='auto'\n        height='auto'\n        maxWidth='calc(100vw - 136px)'\n        maxHeight='calc(100vh - 136px)'\n        style={{ transform: `rotate(${rotate}deg) scale(${scale})` }}\n      />\n    </VideoWrapper>\n  );\n};\n","import { PuiBox, PuiStyled } from '../../../ui';\nimport { AttachmentIconSize, AttachmentType } from '../../common';\n\ninterface AttachmentIconProps {\n  thumbnail?: string;\n  fallback: AttachmentType;\n  size?: AttachmentIconSize;\n}\n\nconst IMAGE_ICON_FALLBACK =\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE0OTAyIDBIMTQuMTc2MUwyMC45NzUyIDcuMDkzNDRWMjAuODc0NEMyMC45NzUyIDIyLjU5OTYgMTkuNTc0OCAyNCAxNy44NDk2IDI0SDYuMTQ5MDJDNC40MjM4NiAyNCAzLjAyMzQ0IDIyLjU5OTYgMy4wMjM0NCAyMC44NzQ0VjMuMTI1NThDMy4wMjM0NCAxLjQwMDQyIDQuNDIzODYgMCA2LjE0OTAyIDBaIiBmaWxsPSIjNjdEMjg2Ii8+CjxwYXRoIG9wYWNpdHk9IjAuMzAyIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0LjE2NDEgMFY3LjAzMjU1SDIwLjk3MzRMMTQuMTY0MSAwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS4wNDgzIDExLjk5NTFIOC45NDkzNEM4LjQ5MjY5IDExLjk5NTEgOC4xMTcxOSAxMi4zNzA2IDguMTE3MTkgMTIuODI3M1YxNi43MDM4QzguMTE3MTkgMTcuMTYwNCA4LjQ5MjY2IDE3LjUzNTkgOC45NDkzNCAxNy41MzU5SDE1LjA0ODNDMTUuNTA0OSAxNy41MzU5IDE1Ljg3MDMgMTcuMTYwNSAxNS44NzAzIDE2LjcwMzhWMTIuODI3MkMxNS44NzAzIDEyLjM3MDYgMTUuNTA0OSAxMS45OTUxIDE1LjA0ODMgMTEuOTk1MVpNMTAuNjEzNiAxMy4wNDA0QzExLjExMDkgMTMuMDQwNCAxMS41MDY2IDEzLjQ0NjMgMTEuNTA2NiAxMy45MzM0QzExLjUwNjYgMTQuNDMwNiAxMS4xMTA5IDE0LjgzNjUgMTAuNjEzNiAxNC44MzY1QzEwLjExNjQgMTQuODM2NSA5LjcxMDQ0IDE0LjQzMDYgOS43MTA0NCAxMy45MzM0QzkuNzEwNDQgMTMuNDQ2MyAxMC4xMTY0IDEzLjA0MDQgMTAuNjEzNiAxMy4wNDA0Wk0xNS4zMjIzIDE2LjcwMzhDMTUuMzIyMyAxNi44NTYgMTUuMjAwNSAxNi45ODc5IDE1LjA0ODMgMTYuOTg3OUg4Ljk0OTM0QzguNzk3MTEgMTYuOTg3OSA4LjY3NTMzIDE2Ljg1NiA4LjY3NTMzIDE2LjcwMzhWMTYuNTQxNEw5Ljc4MTQ2IDE1LjQzNTNMMTAuNjk0OCAxNi4zNDg2QzEwLjgwNjQgMTYuNDYwMyAxMC45Nzg5IDE2LjQ2MDMgMTEuMDkwNSAxNi4zNDg2TDEzLjM4NCAxNC4wNTUyTDE1LjMyMjMgMTUuOTkzNFYxNi43MDM4WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==';\n\nconst PDF_ICON_FALLBACK =\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE1MTc3IDBIMTQuMTc1OEwyMC45NzY0IDcuMDg4NDZWMjAuODc1NkMyMC45NzY0IDIyLjYwMjcgMTkuNTc5MSAyNCAxNy44NTc5IDI0SDYuMTUxNzdDNC40MjQ2NCAyNCAzLjAyNzM0IDIyLjYwMjcgMy4wMjczNCAyMC44NzU2VjMuMTI0NDNDMy4wMjczMSAxLjM5NzMgNC40MjQ2MSAwIDYuMTUxNzcgMFoiIGZpbGw9IiNFMTZENkQiLz4KPHBhdGggb3BhY2l0eT0iMC4zMDIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMTcxOSAwVjcuMDM0NDlIMjAuOTc4NUwxNC4xNzE5IDBaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNi41IDE3LjkwNzJWMTMuNTIzNEg4LjM2NTA3QzguODI2ODUgMTMuNTIzNCA5LjE5MjY3IDEzLjY0OTQgOS40Njg1MyAxMy45MDcyQzkuNzQ0MzkgMTQuMTU5MSA5Ljg4MjMzIDE0LjUwMSA5Ljg4MjMzIDE0LjkyNjdDOS44ODIzMyAxNS4zNTI1IDkuNzQ0MzkgMTUuNjk0NCA5LjQ2ODUzIDE1Ljk0NjJDOS4xOTI2NyAxNi4yMDQxIDguODI2ODUgMTYuMzMgOC4zNjUwNyAxNi4zM0g3LjYyMTQ0VjE3LjkwNzJINi41Wk03LjYyMTQ0IDE1LjM3NjVIOC4yMzkxNEM4LjQwNzA0IDE1LjM3NjUgOC41Mzg5OCAxNS4zNDA1IDguNjI4OTUgMTUuMjU2NkM4LjcxODg5IDE1LjE3ODYgOC43NjY5IDE1LjA3MDcgOC43NjY5IDE0LjkyNjhDOC43NjY5IDE0Ljc4MjkgOC43MTg5MiAxNC42NzQ5IDguNjI4OTUgMTQuNTk2OUM4LjUzOTAxIDE0LjUxMyA4LjQwNzA3IDE0LjQ3NyA4LjIzOTE0IDE0LjQ3N0g3LjYyMTQ0VjE1LjM3NjVaTTEwLjM0NDEgMTcuOTA3MlYxMy41MjM0SDExLjg5NzNDMTIuMjAzMSAxMy41MjM0IDEyLjQ5MSAxMy41NjU0IDEyLjc2MDkgMTMuNjU1NEMxMy4wMzA3IDEzLjc0NTMgMTMuMjc2NiAxMy44NzEzIDEzLjQ5MjUgMTQuMDQ1MkMxMy43MDg0IDE0LjIxMzEgMTMuODgyMyAxNC40NDEgMTQuMDA4MiAxNC43Mjg4QzE0LjEyODIgMTUuMDE2NyAxNC4xOTQyIDE1LjM0NjUgMTQuMTk0MiAxNS43MTgzQzE0LjE5NDIgMTYuMDg0MiAxNC4xMjgyIDE2LjQxNCAxNC4wMDgyIDE2LjcwMThDMTMuODgyMyAxNi45ODk3IDEzLjcwODQgMTcuMjE3NiAxMy40OTI1IDE3LjM4NTVDMTMuMjc2NiAxNy41NTk0IDEzLjAzMDcgMTcuNjg1MyAxMi43NjA5IDE3Ljc3NTNDMTIuNDkxIDE3Ljg2NTIgMTIuMjAzMSAxNy45MDcyIDExLjg5NzMgMTcuOTA3MkgxMC4zNDQxWk0xMS40NDE1IDE2Ljk1MzdIMTEuNzY1NEMxMS45MzkzIDE2Ljk1MzcgMTIuMTAxMiAxNi45MzU4IDEyLjI1MTEgMTYuODkzOEMxMi4zOTUgMTYuODUxOCAxMi41MzMgMTYuNzg1OCAxMi42NjQ5IDE2LjY5NTlDMTIuNzkwOSAxNi42MDU5IDEyLjg5MjggMTYuNDggMTIuOTY0OCAxNi4zMTIxQzEzLjAzNjcgMTYuMTQ0MiAxMy4wNzI3IDE1Ljk0NjIgMTMuMDcyNyAxNS43MTgzQzEzLjA3MjcgMTUuNDg0NSAxMy4wMzY3IDE1LjI4NjYgMTIuOTY0OCAxNS4xMTg3QzEyLjg5MjggMTQuOTUwOCAxMi43OTA5IDE0LjgyNDggMTIuNjY0OSAxNC43MzQ4QzEyLjUzMyAxNC42NDQ5IDEyLjM5NTEgMTQuNTc4OSAxMi4yNTExIDE0LjUzN0MxMi4xMDEyIDE0LjQ5NSAxMS45MzkzIDE0LjQ3NyAxMS43NjU0IDE0LjQ3N0gxMS40NDE1VjE2Ljk1MzdaTTE0Ljc1NzkgMTcuOTA3MlYxMy41MjM0SDE3Ljg3NjNWMTQuNDc3SDE1Ljg3OTNWMTUuMTc4NkgxNy40NzQ1VjE2LjEyNjFIMTUuODc5M1YxNy45MDcySDE0Ljc1NzlaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K';\n\nconst GENERAL_FILE_ICON_FALLBACK =\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuMTIyMTIgMEgxNC4xNTIzTDIwLjk0OTkgNy4wOTE5NVYyMC44Nzc5QzIwLjk0OTkgMjIuNjAyMyAxOS41NTIyIDI0IDE3LjgyNzcgMjRINi4xMjIxMkM0LjM5NzY2IDI0IDMgMjIuNjAyMyAzIDIwLjg3NzlWMy4xMjIxMkMzIDEuMzk3NjkgNC4zOTc2NiAwIDYuMTIyMTIgMFoiIGZpbGw9IiM2RjZGNkYiLz4KPHBhdGggb3BhY2l0eT0iMC4zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0LjE0NDUgMFY3LjAzMzdIMjAuOTUxOEwxNC4xNDQ1IDBaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTQuOTMzMSAxNS4wODcxTDExLjU1MjMgMTguNDY4QzEwLjc4MzQgMTkuMjM2OCA5LjUzNjg4IDE5LjIzNjggOC43NjgwNCAxOC40NjhDNy45OTkyIDE3LjY5OTEgNy45OTkyIDE2LjQ1MjYgOC43NjgwNCAxNS42ODM3TDEyLjE0ODkgMTIuMzAyOUMxMi42NjE1IDExLjc5MDMgMTMuNDkyNSAxMS43OTAzIDE0LjAwNSAxMi4zMDI5QzE0LjUxNzYgMTIuODE1NCAxNC41MTc2IDEzLjY0NjUgMTQuMDA1IDE0LjE1OUwxMC43NTY4IDE3LjQwNzNDMTAuNTAwNSAxNy42NjM2IDEwLjA4NSAxNy42NjM2IDkuODI4NyAxNy40MDczQzkuNTcyNDIgMTcuMTUxIDkuNTcyNDIgMTYuNzM1NSA5LjgyODcgMTYuNDc5MkwxMi42NzkyIDEzLjYyODciIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMC43IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==';\n\nconst DOC_ICON_FALLBACK =\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAxOCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuMTQ1NTYgMEgxMS4xNzU4TDE3Ljk3MzMgNy4wOTE5NVYyMC44Nzc5QzE3Ljk3MzMgMjIuNjAyMyAxNi41NzU2IDI0IDE0Ljg1MTIgMjRIMy4xNDU1NkMxLjQyMTEgMjQgMC4wMjM0Mzc1IDIyLjYwMjMgMC4wMjM0Mzc1IDIwLjg3NzlWMy4xMjIxMkMwLjAyMzQzNzUgMS4zOTc2OSAxLjQyMTEgMCAzLjE0NTU2IDBaIiBmaWxsPSIjMzM5OERCIi8+CjxwYXRoIG9wYWNpdHk9IjAuMzAyIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjE2NDEgMFY3LjAzMzdIMTcuOTcxM0wxMS4xNjQxIDBaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMi45MjE4OCAxNy4xMjQ4VjEzLjE1MTdINC4zMjkyN0M0LjYxMDc0IDEzLjE1MTcgNC44NzI4MyAxMy4xOTM4IDUuMTE1NDggMTMuMjcxNUM1LjM1ODEzIDEzLjM1MjMgNS41NzgxMyAxMy40Njg4IDUuNzc1NTEgMTMuNjI0MUM1Ljk3Mjg2IDEzLjc3OTQgNi4xMjgxOCAxMy45ODY1IDYuMjQxNDEgMTQuMjQ1M0M2LjM1NDY0IDE0LjUwNDEgNi40MTI4OSAxNC44MDE4IDYuNDEyODkgMTUuMTM4M0M2LjQxMjg5IDE1LjQ3NDcgNi4zNTQ2NCAxNS43NzI0IDYuMjQxNDEgMTYuMDMxMkM2LjEyODE4IDE2LjI5IDUuOTcyODYgMTYuNDk3MSA1Ljc3NTUxIDE2LjY1MjRDNS41NzgxNiAxNi44MDc3IDUuMzU4MTMgMTYuOTI0MiA1LjExNTQ4IDE3LjAwNTFDNC44NzI4MyAxNy4wODI3IDQuNjEwNzcgMTcuMTI0OCA0LjMyOTI3IDE3LjEyNDhIMi45MjE4OFpNMy45MTUxNCAxNi4yNjFINC4yMDk1NUM0LjM2ODA4IDE2LjI2MSA0LjUxNjkxIDE2LjI0MTUgNC42NDk1NSAxNi4yMDU5QzQuNzg1NDMgMTYuMTY3MSA0LjkwODM3IDE2LjEwNTcgNS4wMjQ4NCAxNi4wMjQ4QzUuMTQxMzEgMTUuOTQzOSA1LjIzMTg5IDE1LjgyNzQgNS4yOTY2IDE1LjY3NTNDNS4zNjQ1NiAxNS41MjY1IDUuMzk2ODggMTUuMzQ1MyA1LjM5Njg4IDE1LjEzODNDNS4zOTY4OCAxNC45MzEyIDUuMzY0NTMgMTQuNzUgNS4yOTY2IDE0LjU5OEM1LjIzMTg5IDE0LjQ0OTEgNS4xNDEzMSAxNC4zMzI3IDUuMDI0ODQgMTQuMjUxOEM0LjkwODM3IDE0LjE2NzcgNC43ODU0MyAxNC4xMDk0IDQuNjQ5NTUgMTQuMDcwNkM0LjUxNjkxIDE0LjAzNSA0LjM2ODA4IDE0LjAxNTYgNC4yMDk1NSAxNC4wMTU2SDMuOTE1MTRWMTYuMjYxWk04LjgyMzIyIDE3LjE3MDFDOC4yMjQ2OCAxNy4xNzAxIDcuNzI5NjcgMTYuOTc2IDcuMzM4MTkgMTYuNTkxQzYuOTQ2NzEgMTYuMjA1OSA2Ljc1MjU4IDE1LjcyMDYgNi43NTI1OCAxNS4xMzgzQzYuNzUyNTggMTQuNTU1OSA2Ljk0NjcxIDE0LjA3MDYgNy4zMzgxOSAxMy42ODU2QzcuNzI5NjcgMTMuMzAwNiA4LjIyNDY4IDEzLjEwNjUgOC44MjMyMiAxMy4xMDY1QzkuNDEyMDUgMTMuMTA2NSA5LjkwMDU5IDEzLjMwMDYgMTAuMjkyMSAxMy42ODU2QzEwLjY4MDMgMTQuMDcwNyAxMC44NzQ0IDE0LjU1NiAxMC44NzQ0IDE1LjEzODNDMTAuODc0NCAxNS43MjA2IDEwLjY4MDMgMTYuMjA2IDEwLjI5MjEgMTYuNTkxQzkuOTAwNTkgMTYuOTc2IDkuNDEyMDUgMTcuMTcwMSA4LjgyMzIyIDE3LjE3MDFaTTguMDU5NjYgMTUuOTc2MkM4LjI1NzAxIDE2LjE5NjIgOC41MDkzNiAxNi4zMDYzIDguODE2NzMgMTYuMzA2M0M5LjEyNDA5IDE2LjMwNjMgOS4zNzMyIDE2LjE5NjIgOS41NzA1OCAxNS45NzYyQzkuNzY3OTMgMTUuNzUzIDkuODY1IDE1LjQ3NDcgOS44NjUgMTUuMTM4M0M5Ljg2NSAxNC44MDE4IDkuNzY3OTMgMTQuNTIzNSA5LjU3MDU4IDE0LjMwMDNDOS4zNzMyMyAxNC4wODAzIDkuMTI0MDkgMTMuOTcwMyA4LjgxNjczIDEzLjk3MDNDOC41MDkzNiAxMy45NzAzIDguMjU3MDEgMTQuMDgwMyA4LjA1OTY2IDE0LjMwMDNDNy44NjIzMSAxNC41MjM1IDcuNzYyIDE0LjgwMTggNy43NjIgMTUuMTM4M0M3Ljc2MiAxNS40NzQ3IDcuODYyMzEgMTUuNzUzIDguMDU5NjYgMTUuOTc2MlpNMTMuMjM2MyAxNy4xNzAxQzEyLjY1NzEgMTcuMTcwMSAxMi4xNzUgMTYuOTg4OSAxMS43OTMzIDE2LjYzM0MxMS40MDgzIDE2LjI3MzkgMTEuMjE3NCAxNS43NzU2IDExLjIxNzQgMTUuMTM4M0MxMS4yMTc0IDE0LjUwNDEgMTEuNDExNSAxNC4wMDU5IDExLjc5OTggMTMuNjQ2OEMxMi4xOTEzIDEzLjI4NzYgMTIuNjY2OSAxMy4xMDY0IDEzLjIzNjMgMTMuMTA2NEMxMy43NTA3IDEzLjEwNjQgMTQuMTcxMyAxMy4yMzI2IDE0LjUwNDYgMTMuNDg4MkMxNC44MzQ2IDEzLjc0MDYgMTUuMDI1NSAxNC4wNzcxIDE1LjA3NCAxNC40OTc2TDE0LjA3MSAxNC43MDE1QzE0LjAyOSAxNC40ODE1IDEzLjkyODYgMTQuMzAzNSAxMy43NzM0IDE0LjE3MDlDMTMuNjE4MSAxNC4wMzgyIDEzLjQzNjkgMTMuOTcwMyAxMy4yMjk4IDEzLjk3MDNDMTIuOTQ1MSAxMy45NzAzIDEyLjcwODkgMTQuMDcwNiAxMi41MTggMTQuMjc0NEMxMi4zMjcxIDE0LjQ4MTUgMTIuMjMgMTQuNzY2MiAxMi4yMyAxNS4xMzgyQzEyLjIzIDE1LjUxMDMgMTIuMzI3MSAxNS43OTUgMTIuNTE0OCAxNS45OTg5QzEyLjcwNTYgMTYuMjA1OSAxMi45NDE4IDE2LjMwNjIgMTMuMjI5OCAxNi4zMDYyQzEzLjQzNjggMTYuMzA2MiAxMy42MTQ4IDE2LjI0OCAxMy43NjA0IDE2LjEzMTVDMTMuOTA2IDE2LjAxNTEgMTMuOTk2NiAxNS44NTk4IDE0LjAzNTQgMTUuNjY1NkwxNS4wNjEgMTUuODk4NkMxNC45NjcyIDE2LjI5OTggMTQuNzYwMSAxNi42MTA0IDE0LjQzNjYgMTYuODMzNkMxNC4xMTYzIDE3LjA1NjkgMTMuNzE1MSAxNy4xNzAxIDEzLjIzNjMgMTcuMTcwMVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=';\n\nconst VIDEO_ICON_FALLBACK =\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAxOCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9Ikdyb3VwIj4KPGcgaWQ9IlZyc3R2YV94MDAyMF8xXzEzXyI+CjxwYXRoIGlkPSJWZWN0b3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMy4xNTE3NyAwSDExLjE3NThMMTcuOTc2NCA3LjA4ODQ2VjIwLjg3NTZDMTcuOTc2NCAyMi42MDI3IDE2LjU3OTEgMjQgMTQuODU3OSAyNEgzLjE1MTc3QzEuNDI0NjQgMjQgMC4wMjczNDM4IDIyLjYwMjcgMC4wMjczNDM4IDIwLjg3NTZWMy4xMjQ0M0MwLjAyNzMxMzQgMS4zOTczIDEuNDI0NjEgMCAzLjE1MTc3IDBaIiBmaWxsPSIjRTE2RDZEIi8+CjxnIGlkPSJHcm91cF8yIj4KPHBhdGggaWQ9IlZlY3Rvcl8yIiBvcGFjaXR5PSIwLjMwMiIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS4xNzE5IDBWNy4wMzQ0OUgxNy45Nzg1TDExLjE3MTkgMFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGlkPSJWZWN0b3JfMyIgZD0iTTkuMDA1MDcgMTAuODkwNkM2Ljg2NDE0IDEwLjg5MDYgNS4xMjUgMTIuNjI5OCA1LjEyNSAxNC43NzA3QzUuMTI1IDE2LjkxMTYgNi44NjQxNCAxOC42NDQ3IDkuMDA1MDcgMTguNjQ0N0MxMS4xNDYgMTguNjQ0NyAxMi44NzkxIDE2LjkxMTYgMTIuODc5MSAxNC43NzA3QzEyLjg3OTEgMTIuNjI5NyAxMS4xNCAxMC44OTY2IDkuMDA1MDcgMTAuODkwNlpNMTAuNjM2MyAxNC44OTA2QzEwLjYwNjMgMTQuOTQ0NiAxMC41NjQzIDE0Ljk4NjYgMTAuNTEwMyAxNS4wMTY2TDguMjk3NDMgMTYuMTI2QzguMTU5NDkgMTYuMTkxOSA3Ljk5MTU4IDE2LjEzOCA3LjkyNTYzIDE2LjAwMDFDNy45MDE2NCAxNS45NjQxIDcuODk1NjQgMTUuOTIyMSA3Ljg5NTY0IDE1Ljg3NDFWMTMuNjYxMkM3Ljg5NTY0IDEzLjUwNTMgOC4wMjE1NyAxMy4zODU0IDguMTcxNDkgMTMuMzg1NEM4LjIxMzQ2IDEzLjM4NTQgOC4yNTU0NiAxMy4zOTE0IDguMjk3NDMgMTMuNDE1NEwxMC41MTAzIDE0LjUxODhDMTAuNjQ4MyAxNC41OTA4IDEwLjcwMjIgMTQuNzUyNyAxMC42MzYzIDE0Ljg5MDZaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjwvZz4KPC9nPgo8L3N2Zz4K';\n\nconst AttachmentIconWrapper = PuiStyled(PuiBox)(() => ({\n  '&[data-size=\"small\"], &[data-size=\"small\"] img': { width: '24px', height: '24px' },\n  '&[data-size=\"medium\"], &[data-size=\"medium\"] img': { width: '48px', height: '48px' },\n  '&[data-size=\"large\"], &[data-size=\"large\"] img': { width: '72px', height: '72px' },\n  '& img': { objectFit: 'contain' },\n}));\n\nexport const AttachmentIcon: React.FC<AttachmentIconProps> = ({\n  thumbnail,\n  size = AttachmentIconSize.Small,\n  fallback = AttachmentType.Image,\n}) => {\n  const fallbackThumbnail = {\n    [AttachmentType.Image]: IMAGE_ICON_FALLBACK,\n    [AttachmentType.Pdf]: PDF_ICON_FALLBACK,\n    [AttachmentType.Doc]: DOC_ICON_FALLBACK,\n    [AttachmentType.Video]: VIDEO_ICON_FALLBACK,\n    [AttachmentType.General]: GENERAL_FILE_ICON_FALLBACK,\n    [AttachmentType.Csv]: GENERAL_FILE_ICON_FALLBACK,\n  }[fallback];\n\n  const backgroundImage = thumbnail ? `data:image/png;base64,${thumbnail}` : fallbackThumbnail;\n\n  return (\n    <AttachmentIconWrapper data-size={size}>\n      <img\n        alt='Attachment icon'\n        src={backgroundImage}\n      />\n    </AttachmentIconWrapper>\n  );\n};\n","import type { StyledComponent } from '@emotion/styled';\nimport type { BoxProps } from '@mui/material';\n\nimport { PuiBox, PuiStyled } from '../../../ui';\n\nexport const ErrorLoadFileWrapper: StyledComponent<BoxProps> = PuiStyled(PuiBox)(({ theme }) => ({\n  gap: '16px',\n  display: 'flex',\n  alignItems: 'center',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  '& .MuiTypography-root': { color: theme.palette.common.white },\n}));\n","import { PuiTypography } from '../../../ui';\nimport { AttachmentIconSize, type AttachmentType } from '../../common';\nimport { AttachmentIcon } from './AttachmentIcon';\nimport { ErrorLoadFileWrapper } from './StyledComponents';\n\ninterface ErrorLoadFileProps {\n  attachmentType: AttachmentType;\n}\n\nexport const ErrorLoadFile: React.FC<ErrorLoadFileProps> = ({ attachmentType }) => {\n  return (\n    <ErrorLoadFileWrapper>\n      <PuiTypography variant='body-lg-medium'>Failed to load preview</PuiTypography>\n      <AttachmentIcon\n        fallback={attachmentType}\n        size={AttachmentIconSize.Large}\n      />\n    </ErrorLoadFileWrapper>\n  );\n};\n","import type { FC } from 'react';\n\nimport { PuiCircularProgress } from '../../../ui';\nimport type { AttachmentItem, AttachmentType } from '../../common';\nimport { AttachmentIconSize } from '../../common';\nimport { CsvViewer, DocxViewer, ImageViewer, PDFViewer, VideoViewer } from '../viewers';\nimport { AttachmentIcon } from './AttachmentIcon';\nimport { ErrorLoadFile } from './ErrorLoadFile';\n\ninterface FilePreviewProps {\n  activeFile: AttachmentItem;\n  isLoading: boolean;\n  isError: boolean;\n  rotate: number;\n  scale: number;\n  type: AttachmentType;\n}\n\nexport interface ViewerProps {\n  blob: Blob;\n  scale: number;\n  rotate: number;\n  fileName: string;\n}\n\nconst getPreviewComponent = (type: AttachmentType) => {\n  const filePreviewFactory: Record<AttachmentType, FC<ViewerProps> | null> = {\n    image: ImageViewer,\n    pdf: PDFViewer,\n    video: VideoViewer,\n    doc: DocxViewer,\n    csv: CsvViewer,\n    general: null,\n  };\n\n  return filePreviewFactory[type];\n};\n\nexport const FilePreview: FC<FilePreviewProps> = ({ activeFile, isError, isLoading, rotate, scale, type }) => {\n  if (isLoading) {\n    return <PuiCircularProgress size={128} />;\n  }\n\n  if (isError) {\n    return <ErrorLoadFile attachmentType={type} />;\n  }\n\n  const PreviewComponent = getPreviewComponent(type);\n\n  if (!activeFile.blob || PreviewComponent === null) {\n    return (\n      <AttachmentIcon\n        size={AttachmentIconSize.Large}\n        fallback={type}\n      />\n    );\n  }\n\n  return (\n    <PreviewComponent\n      blob={activeFile.blob}\n      scale={scale}\n      rotate={rotate}\n      fileName={activeFile.name}\n    />\n  );\n};\n","import { useEffect } from 'react';\n\nexport const useMouseWheel = (handler: (e: WheelEvent) => void) => {\n  useEffect(() => {\n    const handleWeelEvent = (e: WheelEvent) => {\n      handler(e);\n    };\n\n    document.addEventListener('wheel', handleWeelEvent);\n\n    return () => {\n      document.removeEventListener('wheel', handleWeelEvent);\n    };\n  }, [handler]);\n};\n","import { useCallback, useState } from 'react';\n\nconst ROTATION_STEP = 90;\n\nexport const useRotationState = () => {\n  const [rotate, setRotate] = useState<number>(0);\n\n  const rotateRight = () => {\n    setRotate(prev => prev + ROTATION_STEP);\n  };\n\n  const rotateReset = useCallback(() => {\n    setRotate(0);\n  }, []);\n\n  return {\n    rotate,\n    rotateRight,\n    rotateReset,\n  };\n};\n","import { useCallback, useState } from 'react';\n\nconst SCALE_STEP = 0.25;\nconst MIN_VALUE = 1;\nconst MAX_VALUE = 4;\n\nexport const useScaleState = () => {\n  const [scale, setScale] = useState<number>(1);\n\n  const scaleUp = () => {\n    setScale(value => {\n      const nextValue = value + SCALE_STEP;\n      if (nextValue > MAX_VALUE) {\n        return MAX_VALUE;\n      }\n\n      return nextValue;\n    });\n  };\n\n  const scaleDown = () => {\n    setScale(value => {\n      const nextValue = value - SCALE_STEP;\n\n      if (nextValue < MIN_VALUE) {\n        return MIN_VALUE;\n      }\n\n      return nextValue;\n    });\n  };\n\n  const scaleReset = useCallback(() => {\n    setScale(1);\n  }, []);\n\n  return {\n    scale,\n    scaleUp,\n    scaleDown,\n    scaleReset,\n  };\n};\n","import type { StyledComponent } from '@emotion/styled';\r\nimport type { BoxProps } from '@mui/material';\r\n\r\nimport { PuiBox, PuiStyled } from '../../ui';\r\n\r\nexport const ViewerBodyWrapper: StyledComponent<BoxProps> = PuiStyled(PuiBox)(() => ({\r\n  width: '100vw',\r\n  height: '100vh',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n}));\r\n\r\nexport const ViewerBody: StyledComponent<BoxProps> = PuiStyled(PuiBox)(({ theme }) => ({\r\n  width: '100vw',\r\n  height: '100vh',\r\n  outline: 'none',\r\n  position: 'relative',\r\n  fontFamily: 'Poppins',\r\n  background: theme.palette.grey[600],\r\n}));\r\n\r\nexport const FilePreviewWrapper: StyledComponent<BoxProps> = PuiStyled(PuiBox)(() => ({\r\n  width: '100%',\r\n  height: '100%',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n}));\r\n","import type { StyledComponent } from '@emotion/styled';\nimport type { BoxProps, DividerProps, IconButtonProps, MenuItemProps, MenuProps, TypographyProps } from '@mui/material';\n\nimport { PuiGradients } from '../../../colors';\nimport { Colors, PuiBox, PuiDivider, PuiIconButton, PuiMenu, PuiMenuItem, PuiStyled, PuiTypography } from '../../../ui';\n\nconst getGradient = (color: string) => {\n  return PuiGradients.find(gradient => gradient.includes(color)) ?? PuiGradients[0];\n};\n\nexport const ViewerIconButton: StyledComponent<IconButtonProps> = PuiStyled(PuiIconButton)(({ theme }) => ({\n  gap: '8px',\n  minHeight: '36px',\n  padding: '8px 12px',\n  borderRadius: '8px',\n  alignItems: 'center',\n  backgroundColor: Colors.grey[550],\n  color: theme.palette.common.white,\n  zIndex: 999,\n  '&:hover': { background: theme.palette.grey[500] },\n  '&.active': { background: getGradient(theme.palette.primary.main) },\n  '&.Mui-disabled': { backgroundColor: theme.palette.grey[400], color: theme.palette.common.black },\n  '&.arrow-button': { width: '40px', height: '40px', '& .MuiSvgIcon-root': { width: '20px', height: '20px' } },\n  '& .MuiSvgIcon-root': { width: '16px', height: '16px' },\n  '& .MuiTypography-root': { color: theme.palette.common.white },\n}));\n\nexport const Toolbar: StyledComponent<BoxProps> = PuiStyled(PuiBox)(() => ({\n  width: '100%',\n  padding: '16px',\n  display: 'flex',\n  position: 'absolute',\n  justifyContent: 'space-between',\n}));\n\nexport const ToolbarButtonGroup: StyledComponent<BoxProps> = PuiStyled(PuiBox)(() => ({\n  gap: '12px',\n  display: 'flex',\n  alignItems: 'center',\n}));\n\nexport const ResizeButton: StyledComponent<BoxProps> = PuiStyled(PuiBox)(({ theme }) => ({\n  gap: '8px',\n  display: 'flex',\n  borderRadius: '8px',\n  alignItems: 'center',\n  justifyContent: 'center',\n  backgroundColor: Colors.grey[550],\n  zIndex: 999,\n  '& .MuiTypography-root': { color: theme.palette.common.white },\n}));\n\nexport const FileName: StyledComponent<TypographyProps> = PuiStyled(PuiTypography)(({ theme }) => ({\n  color: theme.palette.common.white,\n  zIndex: 1,\n}));\n\nexport const PopupMenu: StyledComponent<MenuProps> = PuiStyled(PuiMenu)(({ style }) => ({\n  transform: 'translateY(4px)',\n  '& .MuiPaper-root': { backgroundColor: Colors.grey[550] },\n  '& .MuiList-root': {\n    padding: '8px',\n    width: '214px',\n    display: 'flex',\n    borderRadius: '4px',\n    flexDirection: 'column',\n    backgroundColor: Colors.grey[550],\n    ...style,\n  },\n}));\n\nexport const PopupMenuItem: StyledComponent<MenuItemProps> = PuiStyled(PuiMenuItem)(({ theme }) => ({\n  gap: '8px',\n  lineHeight: 2,\n  display: 'flex',\n  fontSize: '12px',\n  minHeight: 'auto',\n  padding: '6px 8px',\n  transition: '0.2s',\n  borderRadius: '4px',\n  alignItems: 'center',\n  color: theme.palette.common.white,\n  '&:hover': { backgroundColor: theme.palette.grey[500] },\n  '& .MuiSvgIcon-root': { width: '16px', height: '16px' },\n  '&.delete .MuiSvgIcon-root': { color: theme.palette.error.main },\n  '& + .MuiDivider-root': { marginTop: 0, marginBottom: 0 },\n}));\n\nexport const Divider: StyledComponent<DividerProps> = PuiStyled(PuiDivider)(({ theme }) => ({\n  borderColor: theme.palette.grey[500],\n  margin: '8px 0 !important',\n}));\n","import clsx from 'clsx';\nimport { useCallback } from 'react';\n\nimport { PuiSvgIcon } from '../../../ui';\nimport type { OptionItem } from '../../common';\nimport { Divider, PopupMenu, PopupMenuItem } from './StyledComponents';\n\ninterface OptionMenuProps {\n  anchorEl: null | HTMLElement;\n  handleClose: () => void;\n  options: OptionItem[];\n  activeFileId: string;\n}\n\nexport const FileOptionsMenu: React.FC<OptionMenuProps> = ({ anchorEl, handleClose, options, activeFileId }) => {\n  const handleItemClick = useCallback(\n    (option: OptionItem) => {\n      option.callback?.(activeFileId);\n      handleClose();\n    },\n    [activeFileId, handleClose]\n  );\n\n  return (\n    <PopupMenu\n      elevation={0}\n      open={!!anchorEl}\n      anchorEl={anchorEl}\n      onClose={handleClose}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      transformOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      sx={{\n        transform: `translateY(-4px)`,\n      }}\n    >\n      {options.map((option, index) =>\n        option.divider ? (\n          <Divider key={`${option.label}-${index}`} />\n        ) : (\n          <PopupMenuItem\n            key={`${option.label}-${index}`}\n            className={clsx({ delete: option.delete })}\n            onClick={() => handleItemClick(option)}\n          >\n            {option.icon && <PuiSvgIcon icon={option.icon} />}\n            {option.label}\n          </PopupMenuItem>\n        )\n      )}\n    </PopupMenu>\n  );\n};\n","import type { PuiIcon } from '../../../ui';\nimport { PuiSvgIcon, PuiTypography } from '../../../ui';\nimport { ViewerIconButton } from './StyledComponents';\n\ninterface FileViewerButtonProps {\n  text?: string;\n  icon?: PuiIcon;\n  isActive?: boolean;\n  className?: string;\n  onClick?: (event: React.MouseEvent<HTMLElement>) => void;\n  disabled?: boolean;\n}\n\nexport const FileViewerButton: React.FC<FileViewerButtonProps> = props => {\n  return (\n    <ViewerIconButton\n      disabled={props.disabled}\n      onClick={props.onClick}\n      className={`${props.className}${props.isActive ? ' active' : ''}`}\n    >\n      {props.icon && <PuiSvgIcon icon={props.icon} />}\n      {props.text && <PuiTypography variant='body-xs-medium'>{props.text}</PuiTypography>}\n    </ViewerIconButton>\n  );\n};\n","import type { FC } from 'react';\nimport { useState } from 'react';\n\nimport { PuiIcon, PuiTypography } from '../../../ui';\nimport type { AttachmentItem, FileViewerOptions } from '../../common';\nimport { AttachmentType } from '../../common';\nimport { FileOptionsMenu } from './FileOptionsMenu';\nimport { FileViewerButton } from './FileViewerButton';\nimport { FileName, ResizeButton, Toolbar, ToolbarButtonGroup } from './StyledComponents';\n\nconst SCALE_FACTOR = 100;\n\ninterface BottomToolbarProps {\n  activeFile: AttachmentItem;\n  options: FileViewerOptions;\n  scale: number;\n  type: AttachmentType;\n  onScaleUp?: () => void;\n  onScaleDown?: () => void;\n}\n\nexport const BottomToolbar: FC<BottomToolbarProps> = ({ activeFile, options, scale, type, onScaleUp, onScaleDown }) => {\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleScaleUp = () => {\n    onScaleUp?.();\n  };\n\n  const handleScaleDown = () => {\n    onScaleDown?.();\n  };\n\n  const currentOptions = options[type];\n\n  const scaleValue = scale * SCALE_FACTOR;\n\n  const hideScaleButtons = type === AttachmentType.Doc;\n\n  return (\n    <Toolbar sx={{ bottom: 0 }}>\n      <ToolbarButtonGroup>\n        <FileViewerButton\n          isActive={!!anchorEl}\n          onClick={handleClick}\n          icon={PuiIcon.DotsVertical}\n        />\n        <FileName variant='body-sm-regular'>{activeFile.name}</FileName>\n        <FileOptionsMenu\n          anchorEl={anchorEl}\n          handleClose={handleClose}\n          options={currentOptions}\n          activeFileId={activeFile.id}\n        />\n      </ToolbarButtonGroup>\n      {!hideScaleButtons ? (\n        <ResizeButton>\n          <FileViewerButton\n            icon={PuiIcon.Minus}\n            onClick={handleScaleDown}\n          />\n          <PuiTypography variant='body-sm-medium'>{scaleValue}%</PuiTypography>\n          <FileViewerButton\n            icon={PuiIcon.Plus}\n            onClick={handleScaleUp}\n          />\n        </ResizeButton>\n      ) : null}\n    </Toolbar>\n  );\n};\n","import type { FC } from 'react';\n\nimport { PuiIcon } from '../../../ui';\nimport { FileViewerButton } from './FileViewerButton';\nimport { Toolbar } from './StyledComponents';\n\ninterface SwitchFileArrowsProps {\n  onNext: () => void;\n  onPrev: () => void;\n}\n\nexport const SwitchFileArrows: FC<SwitchFileArrowsProps> = ({ onNext, onPrev }) => {\n  return (\n    <Toolbar sx={{ top: '50%' }}>\n      <FileViewerButton\n        className='arrow-button'\n        icon={PuiIcon.ChevronLeft}\n        onClick={onPrev}\n      />\n      <FileViewerButton\n        className='arrow-button'\n        icon={PuiIcon.ChevronRight}\n        onClick={onNext}\n      />\n    </Toolbar>\n  );\n};\n","import type { FC } from 'react';\n\nimport { PuiIcon } from '../../../ui';\nimport type { AttachmentItem } from '../../common';\nimport { FileViewerButton } from './FileViewerButton';\nimport { Toolbar, ToolbarButtonGroup } from './StyledComponents';\n\ninterface TopToolbarProps {\n  onClose: () => void;\n  onRotate: () => void;\n  activeFile: AttachmentItem;\n}\n\nexport const TopToolbar: FC<TopToolbarProps> = ({ onClose, onRotate, activeFile }) => {\n  const handleDownload = () => {\n    if (!activeFile.blob) return;\n\n    const url = URL.createObjectURL(activeFile.blob);\n    const link = document.createElement('a');\n    link.href = url;\n\n    const fileName = activeFile.name;\n    link.setAttribute('download', fileName);\n\n    document.body.appendChild(link);\n    link.click();\n    link.parentNode?.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <Toolbar sx={{ top: 0 }}>\n      <ToolbarButtonGroup>\n        <FileViewerButton\n          text='Rotate'\n          icon={PuiIcon.Refresh}\n          onClick={() => onRotate()}\n        />\n\n        <FileViewerButton\n          text='Download'\n          icon={PuiIcon.DownloadCloud}\n          onClick={handleDownload}\n          disabled={!activeFile.blob}\n        />\n      </ToolbarButtonGroup>\n      <ToolbarButtonGroup>\n        <FileViewerButton\n          icon={PuiIcon.XClose}\n          onClick={onClose}\n        />\n      </ToolbarButtonGroup>\n    </Toolbar>\n  );\n};\n","import type { FC, KeyboardEvent } from 'react';\nimport { useEffect } from 'react';\n\nimport { PuiModalBase } from '../../ui';\nimport type { PuiFileViewerProps } from '../common';\nimport { AttachmentType } from '../common';\nimport { getAttachmentType } from '../utils/getAttachmentType';\nimport { FilePreview } from './file-preview';\nimport { useMouseWheel } from './hooks/useMouseWheel';\nimport { useRotationState } from './hooks/useRotationState';\nimport { useScaleState } from './hooks/useScaleState';\nimport { FilePreviewWrapper, ViewerBody, ViewerBodyWrapper } from './StyledComponents';\nimport { BottomToolbar, SwitchFileArrows, TopToolbar } from './toolbars';\n\nexport const PuiFileViewer: FC<PuiFileViewerProps> = ({\n  isOpened,\n  activeFile,\n  options,\n  onClose,\n  showArrows,\n  onNext,\n  onPrev,\n  isLoading,\n  isError,\n}) => {\n  const { rotate, rotateRight, rotateReset } = useRotationState();\n  const { scale, scaleUp, scaleDown, scaleReset } = useScaleState();\n\n  const currentAttachmentFileType = getAttachmentType(activeFile.name);\n\n  const handleMoveNext = () => {\n    scaleReset();\n    rotateReset();\n    onNext?.();\n  };\n\n  const handlemovePrev = () => {\n    scaleReset();\n    rotateReset();\n    onPrev?.();\n  };\n\n  const handleKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {\n    if (e.key === 'Escape') {\n      onClose();\n    } else if (e.key === 'ArrowRight') {\n      showArrows && handleMoveNext();\n    } else if (e.key === 'ArrowLeft') {\n      showArrows && handlemovePrev();\n    }\n  };\n\n  useMouseWheel((e: WheelEvent) => {\n    if (currentAttachmentFileType === AttachmentType.Image) {\n      if (e.deltaY < 0) {\n        scaleUp();\n      } else {\n        scaleDown();\n      }\n    }\n  });\n\n  useEffect(() => {\n    scaleReset();\n    rotateReset();\n  }, [isOpened, scaleReset, rotateReset]);\n\n  return (\n    <PuiModalBase\n      onKeyDown={handleKeyDown}\n      open={isOpened}\n    >\n      <ViewerBodyWrapper>\n        <ViewerBody>\n          <TopToolbar\n            onClose={onClose}\n            onRotate={rotateRight}\n            activeFile={activeFile}\n          />\n          {showArrows && (\n            <SwitchFileArrows\n              onNext={handleMoveNext}\n              onPrev={handlemovePrev}\n            />\n          )}\n          <BottomToolbar\n            activeFile={activeFile}\n            scale={scale}\n            type={currentAttachmentFileType}\n            options={options}\n            onScaleUp={scaleUp}\n            onScaleDown={scaleDown}\n          />\n          <FilePreviewWrapper>\n            <FilePreview\n              activeFile={activeFile}\n              isLoading={isLoading}\n              isError={isError}\n              rotate={rotate}\n              scale={scale}\n              type={currentAttachmentFileType}\n            />\n          </FilePreviewWrapper>\n        </ViewerBody>\n      </ViewerBodyWrapper>\n    </PuiModalBase>\n  );\n};\n"],"names":["AttachmentType","AttachmentIconSize","EXTENSION_MAP","getAttachmentType","fileName","extension","_a","e","t","module","this","r","n","d","s","a","o","v","u","w","i","U","f","y","l","c","p","m","h","g","k","_","E","P","C","O","x","A","T","D","L","F","j","z","M","b","R","DEGREES_IN_HALF_CIRCLE","useDragPosition","scale","overlayRef","useRef","position","setPosition","useState","isMoving","setIsMoving","useEffect","overlayEl","handleMouseDown","handleMouseUp","handleMouseMove","prev","handleTouchStart","lastTouch","handleTouchMove","touch","deltaX","deltaY","handleTouchEnd","controller","signal","ImageViewer","blob","rotate","ImageWrapper","jsx","ImageStyled","clsx","ImageMoveOverlay","BaseImageMoveOverlay","forwardRef","rest","ref","PuiStyled","PuiBox","PDFWrapper","loaded","PDFPageWrapper","VideoWrapper","DocWrapper","DocContainer","StyledTableContainer","PuiTableContainer","styled","prop","parseCsvWithIds","text","Papa","row","guid","cell","CsvViewer","rows","setRows","headers","dataRows","parsedRows","PuiCircularProgress","Paper","jsxs","PuiTable","PuiTableHead","PuiTableRow","PuiTableCell","PuiTableBody","require","I","S","B","global","N","Z","W","H","G","K","Y","X","q","J","RelationshipTypes","parseRelationships","root","xml","escapeClassName","className","encloseFontFamily","fontFamily","splitPath","path","si","folder","resolvePath","base","prefix","keyBy","array","by","blobToBase64","resolve","reject","reader","isObject","item","isString","mergeDeep","target","sources","source","key","val","asArray","clamp","min","max","ns$1","LengthUsage","convertLength","usage","num","convertBoolean","defaultValue","parseCommonProperty","elem","props","parseXmlString","xmlString","trimXmlDeclaration","removeUTF8BOM","result","errorText","hasXmlParserError","doc","data","serializeXmlString","XmlParser","localName","attrLocalName","el","node","attrName","globalXmlParser","Part","_package","xmlText","xmlDoc","embedFontTypeMap","parseFonts","parseFont","parseEmbedFontRef","FontTablePart","OpenXmlPackage","_zip","options","normalizePath","content","input","zip","JSZip","type","relsPath","fn","txt","DocumentPart","pkg","parser","parseBorder","parseBorders","SectionType","parseSectionProperties","section","parseColumns","parseFooterHeaderReference","parsePageNumber","parseLineSpacing","parseRunProperties","parseRunProperty","parseParagraphProperties","parseParagraphProperty","parseTabs","parseNumbering$1","parseNumberingPart","parseNumbering","parseAbstractNumbering","parseNumberingBulletPicture","parseNumberingLevelOverrride","parseNumberingLevel","pict","shape","imagedata","NumberingPart","StylesPart","DomType","OpenXmlElementBase","WmlHeader","WmlFooter","BaseHeaderFooterPart","HeaderPart","FooterPart","parseExtendedProps","xmlParser","safeParseToInt","value","ExtendedPropsPart","parseCoreProps","CorePropsPart","DmlTheme","parseTheme","themeElements","parseColorScheme","parseFontScheme","srgbClr","sysClr","parseFontInfo","ThemePart","WmlBaseNote","WmlFootnote","WmlEndnote","BaseNotePart","FootnotesPart","EndnotesPart","parseSettings","parseNoteProperties","SettingsPart","parseCustomProps","firstChild","CustomPropsPart","CommentsPart","CommentsExtendedPart","topLevelRels","WordDocument","rel","part","id","deobfuscate","basePart","outputType","guidKey","trimmed","numbers","parseBookmarkStart","parseBookmarkEnd","VmlElement","parseVmlElement","at","x1","y1","parsePoint","x2","y2","parseStroke","parseFill","child","WmlComment","WmlCommentReference","WmlCommentRangeStart","WmlCommentRangeEnd","autos","supportedNamespaceURIs","mmlTagMap","DocumentParser","elemName","elemClass","xbody","background","sectPr","color","xmlUtil","element","children","xstyles","rPr","pPr","selector","modificator","xnums","mapping","bullets","numId","abstractNumId","sdtContent","parentParser","paragraph","values","dropCap","parent","uri","propsTag","run","choice","requires","namespaceURI","isAnchor","wrapType","simplePos","posX","posY","pos","alignNode","offsetNode","graphicData","blipFill","blip","spPr","xfrm","table","topFromText","bottomFromText","rightFromText","leftFromText","directionMap","direction","style","childStyle","handler","col","ascii","asciiTheme","eastAsia","fonts","firstLine","hanging","left","start","right","end","before","after","line","lineRule","output","knownColors","cb","defValue","autoColor","themeColor","attr","size","asTagName","defaultTab","maxTabs","computePixelToPoint","container","temp","updateTabStop","tabs","defaultTabSize","pixelToPoint","ebb","pbb","pcs","tabStops","lengthToPoint","lastTab","pWidthPt","marginLeft","pOffset","tab","width","nextIdx","range","mul","nextBB","offset","length","ns","HtmlRenderer","htmlDocument","document","bodyContainer","styleContainer","removeAllElements","sectionElements","appendChildren","themePart","variables","fontScheme","colorScheme","_b","cssText","fontsPart","fontData","cssValues","styles","stylesMap","baseStyle","baseValues","styleValues","numberings","attrs","sections","pages","prevProps","pageElement","sect","contentElement","refs","page","firstOfSection","into","next","_c","_d","_e","_f","elements","defaultProps","current","sectProps","pBreakIndex","rBreakIndex","breakRun","splitRun","newParagraph","runChildren","newRun","currentSectProps","wrapperStyle","styleText","resetCounters","listStyleType","valiable","counter","counterReset","defautStyles","subStyles","linkedStyle","subStyle","noteIds","notesMap","notes","elems","tagName","numbering","href","it","commentStart","rng","commentEnd","commentRef","comment","frg","commentRefEl","commentsContainerEl","span","tabSpan","stops","findParent","wrapper","columns","colElem","bb","degree","grouped","sup","sub","supElem","subElem","charElem","stubElem","ouput","styleName","lvl","selectors","suff","numformat","suffMap","format","func","defaultOptions","parseAsync","userOptions","ops","renderDocument","renderAsync","DocxViewer","containerRef","setLoaded","error","__webpack_require__","exports","definition","obj","__webpack_exports__","AbortException","AnnotationEditorLayer","AnnotationEditorParamsType","AnnotationEditorType","AnnotationEditorUIManager","AnnotationLayer","AnnotationMode","ColorPicker","DOMSVGFactory","DrawLayer","util_FeatureTest","GlobalWorkerOptions","util_ImageKind","InvalidPDFException","MissingPDFException","OPS","OutputScale","PDFDataRangeTransport","PDFDateString","PDFWorker","PasswordResponses","PermissionFlag","PixelsPerInch","RenderingCancelledException","TextLayer","UnexpectedResponseException","Util","VerbosityLevel","XfaLayer","build","createValidAbsoluteUrl","fetchData","getDocument","getFilenameFromUrl","getPdfFilenameFromUrl","getXfaPageViewport","isDataScheme","isPdfFile","noContextMenu","normalizeUnicode","setLayerDimensions","shadow","version","isNodeJS","IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","MAX_IMAGE_SIZE_TO_CACHE","LINE_FACTOR","RenderingIntentFlag","AnnotationEditorPrefix","TextRenderingMode","AnnotationType","AnnotationBorderStyleType","verbosity","setVerbosityLevel","level","getVerbosityLevel","info","msg","warn","unreachable","assert","cond","_isValidProtocol","url","baseUrl","dots","stringToUTF8String","absoluteUrl","nonSerializable","BaseException","message","name","PasswordException","code","UnknownErrorException","details","status","FormatError","bytesToString","bytes","MAX_ARGUMENT_COUNT","strBuf","chunkEnd","chunk","stringToBytes","str","string32","objectFromMap","map","isLittleEndian","buffer8","isEvalSupported","hexNumbers","transform","minMax","m1","m2","xt","yt","p1","p2","p3","p4","transpose","first","second","sx","sy","rect","rect1","rect2","xLow","xHigh","yLow","yHigh","x0","y0","x3","y3","__privateMethod","_getExtremum","getExtremum_fn","_getExtremumOnCurve","getExtremumOnCurve_fn","mt","tt","ttt","delta","sqrtDelta","a2","__privateAdd","NormalizeRegex","NormalizationMap","getUuid","buf","AnnotationPrefix","FontRenderOps","toBase64Util","arr","SVG_NS","_PixelsPerInch","__publicField","isValidFetchUrl","response","request","PageViewport","viewBox","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","height","topLeft","bottomRight","extraDelay","ii","filename","defaultFilename","reURI","reFilename","splitURI","suggestedFilename","StatTimer","outBuf","longest","protocol","deprecated","__privateGet","_regex","__privateSet","matches","year","month","day","hour","minute","universalTimeRelation","offsetHour","offsetMinute","xfaPage","getRGB","colorRGB","getColorValues","colors","computedColor","getCurrentTransform","ctx","getCurrentTransformInverse","div","viewport","mustFlip","mustRotate","pageWidth","pageHeight","useRound","widthStr","heightStr","pixelRatio","_EditorToolbar","editor","_focusIn","_focusOut","_addListenersToElement","_addDeleteButton","_divider","_toolbar","_colorPicker","_editor","_buttons","_altText","_l10nRemove","editToolbar","_pointerDown","pointerDown_fn","buttons","addDeleteButton_fn","altText","button","addListenersToElement_fn","divider_get","colorPicker","focusIn_fn","focusOut_fn","editorType","_uiManager","divider","EditorToolbar","HighlightToolbar","uiManager","_render","_getLastPoint","_addHighlightButton","boxes","isLTR","getLastPoint_fn","render_fn","addHighlightButton_fn","lastY","lastX","box","bindEvents","names","opacityToHex","opacity","IdManager","_id","__privateWrapper","_ImageManager","_get","_baseId","_cache","svg","image","promise","file","lastModified","get_fn","blobPromise","canvas","offscreen","bitmap","rawData","mustRemoveAspectRatioPromise","fileReader","imageElement","imagePromise","ImageManager","CommandManager","maxSize","_commands","_locked","_maxSize","_position","cmd","undo","post","mustExec","overwriteIfSameType","keepUndo","save","KeyboardManager","callbacks","_serialize","isMac","keys","callback","isMacKey","self","event","serialize_fn","bubbles","args","checker","_ColorManager","rgb","RGB","ColorManager","_AnnotationEditorUIManager","viewer","altTextManager","eventBus","pdfDocument","pageColors","highlightColors","enableHighlightFloatingButton","enableUpdatedAddImage","enableNewAltTextWhenAddingImage","mlManager","_getAnchorElementForSelection","_getLayerForTextLayer","_displayHighlightToolbar","_selectionChange","_onSelectEnd","_addSelectionListener","_addFocusManager","_removeFocusManager","_addKeyboardManager","_removeKeyboardManager","_addCopyPasteListeners","_removeCopyPasteListeners","_addDragAndDropListeners","_dispatchUpdateStates","_dispatchUpdateUI","_enableAll","_disableAll","_addEditorToLayer","_lastSelectedEditor","_isEmpty","_selectEditors","_abortController","_activeEditor","_allEditors","_allLayers","_altTextManager","_annotationStorage","_changedExistingAnnotations","_commandManager","_copyPasteAC","_currentPageIndex","_deletedAnnotationsElementIds","_draggingEditors","_editorTypes","_editorsToRescale","_enableHighlightFloatingButton","_enableUpdatedAddImage","_enableNewAltTextWhenAddingImage","_filterFactory","_focusMainContainerTimeoutId","_focusManagerAC","_highlightColors","_highlightWhenShiftUp","_highlightToolbar","_idManager","_isEnabled","_isWaiting","_keyboardManagerAC","_lastActiveElement","_mainHighlightColorPicker","_mlManager","_mode","_selectedEditors","_selectedTextNode","_pageColors","_showAllStates","_previousStates","_translation","_translationTimeoutId","_container","_viewer","_updateModeCapability","evt","addSelectionListener_fn","addDragAndDropListeners_fn","addKeyboardManager_fn","proto","arrowChecker","textInputChecker","_self","small","big","layer","ac","pair","firstTime","mode","pageNumber","layerX","layerY","pagesRotation","methodOfCreation","selection","anchorNode","anchorOffset","focusNode","focusOffset","textLayer","getAnchorElementForSelection_fn","getLayerForTextLayer_fn","isNoneMode","onSelectEnd_fn","activeElement","lastEditor","lastActiveElement","addCopyPasteListeners_fn","removeKeyboardManager_fn","removeCopyPasteListeners_fn","editors","serialized","clipboardData","ex","newEditors","deserializedEditor","addEditorToLayer_fn","selectEditors_fn","isEditing","addFocusManager_fn","dispatchUpdateStates_fn","isEmpty_fn","removeFocusManager_fn","types","dispatchUpdateUI_fn","pageIndex","editId","isFromKeyboard","disableAll_fn","enableAll_fn","visible","updateButton","mustWait","annotationElementId","lastSelectedEditor_get","ed","params","noCommit","totalX","totalY","TIME_TO_WAIT","mustBeAddedInUndoStack","move","newX","newY","newPageIndex","savedX","savedY","savedPageIndex","tx","ty","parentWidth","parentHeight","rotator","annotation","editorId","currentLayer","displayHighlightToolbar_fn","selectionChange_fn","activeLayer","pointerup","promises","_AltText","_label","_setState","_altTextDecorative","_altTextButton","_altTextButtonLabel","_altTextTooltip","_altTextTooltipTimeout","_altTextWasFromKeyBoard","_badge","_guessedText","_textWithDisclaimer","_useNewAltTextFlow","_l10nNewButton","l10n","label","onClick","label_get","setState_fn","guessedText","visibility","badge","isForCopying","decorative","textWithDisclaimer","cancel","enabled","tooltip","DELAY_TO_SHOW_TOOLTIP","AltText","_AnnotationEditor","parameters","_translate","_getRotationMatrix","_createResizers","_resizerPointerdown","_addResizeToUndoStack","_resizerPointermove","_selectOnPointerEvent","_setUpDragSession","_addFocusListeners","_resizerKeydown","_resizerBlur","_resizerFocus","_setResizerTabIndex","_stopResizing","_accessibilityData","_allResizerDivs","_disabled","_keepAspectRatio","_resizersDiv","_savedDimensions","_focusAC","_focusedResizerName","_hasBeenClicked","_initialPosition","_isEditing","_isInEditMode","_isResizerEnabledForKeyboard","_moveInDOMTimeout","_prevDragX","_prevDragY","_telemetryTimeouts","_isDraggable","_zIndex","pageX","pageY","resize","fakeEditor","FakeEditor","_type","_value","mime","stopResizing_fn","translate_fn","bx","_borderLineWidth","_rotatePoint","rotatePoint_fn","parentScale","widthPercent","heightPercent","editToolbarDiv","addFocusListeners_fn","setUpDragSession_fn","selectOnPointerEvent_fn","shiftX","shiftY","_angle","context","timeout","createResizers_fn","boundResizerKeydown","resizerKeydown_fn","boundResizerBlur","resizerBlur_fn","resizerFocus_fn","firstPosition","nextFirstPosition","setResizerTabIndex_fn","resizerPointermove_fn","aspectRatio","action","angle","getRotationMatrix_fn","classes","resizerPointerdown_fn","savedDraggable","savedWidth","savedHeight","savedParentCursor","savedCursor","pointerUpCallback","addResizeToUndoStack_fn","newWidth","newHeight","minWidth","minHeight","round","rotationMatrix","transf","invRotationMatrix","invTransf","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","ratioX","ratioY","oldDiag","isSelected","pointerMoveCallback","AnnotationEditor","SEED","MASK_HIGH","MASK_LOW","MurmurHash3_64","seed","blockCounts","tailLength","dataUint32","k1","k2","h1","h2","C1","C2","C1_LOW","C2_LOW","SerializableEmpty","AnnotationStorage","_setModified","_modified","_modifiedIds","_storage","modified","entry","setModified_fn","PrintAnnotationStorage","hash","transfer","hasBitmap","stats","typeToEditor","editorStats","counters","count","ids","_serializable","clone","FontLoader","ownerDocument","styleElement","_systemFonts","nativeFontFace","rule","styleSheet","_inspectFont","loadedName","src","fontFace","font","hasFonts","supported","completeRequest","loadingRequests","otherRequest","testFont","int32","spliceString","remove","insert","chunk1","chunk2","called","isFontReady","loadTestFontId","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","FontFaceObject","translatedData","disableFontFace","inspectFont","css","objs","character","cmds","commands","BaseCanvasFactory","enableHWA","_enableHWA","canvasAndContext","DOMCanvasFactory","BaseCMapReaderFactory","isCompressed","cMapData","reason","DOMCMapReaderFactory","BaseFilterFactory","maps","fgColor","bgColor","filterName","newFgColor","newBgColor","keepHCM","DOMFilterFactory","docId","_hcmCache","_defs","_createTables","_createUrl","_addLuminosityConversion","_addGrayConversion","_createFilter","_appendFeFunc","_addTransferMapConversion","_addTransferMapAlphaConversion","_getRGB","_baseUrl","__cache","__defs","_docId","_document","__hcmCache","cache_get","tableR","tableG","tableB","createTables_fn","createUrl_fn","filter","createFilter_fn","addTransferMapConversion_fn","hcmCache_get","fgRGB","getRGB_fn","bgRGB","defs_get","addGrayConversion_fn","getSteps","tableA","addTransferMapAlphaConversion_fn","addLuminosityConversion_fn","fgGray","bgGray","newFgRGB","newBgRGB","fg","bg","step","newStart","newStep","mapR","buffer","mapG","mapB","bufferR","bufferG","bufferB","feColorMatrix","appendFeFunc_fn","feComponentTransfer","feFunc","rTable","gTable","bTable","aTable","BaseStandardFontDataFactory","DOMStandardFontDataFactory","packageCapability","packageMap","fs","http","https","path2d","NodePackages","node_utils_fetchData","NodeFilterFactory","NodeCanvasFactory","NodeCMapReaderFactory","NodeStandardFontDataFactory","PathType","applyBoundingBox","bbox","region","BaseShadingPattern","RadialAxialShadingPattern","IR","grad","colorStop","owner","inverse","pathType","pattern","ownerBBox","tmpCanvas","tmpCtx","domMatrix","drawTriangle","c1","c2","c3","coords","rowSize","tmp","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","figure","ps","cs","verticesPerRow","cols","MeshShadingPattern","combinedScale","backgroundColor","cachedCanvases","boundsWidth","boundsHeight","scaleX","scaleY","paddedWidth","paddedHeight","matrixScale","temporaryPatternCanvas","DummyShadingPattern","getShadingPattern","PaintType","_TilingPattern","canvasGraphicsFactory","baseTransform","operatorList","paintType","tilingType","xstep","ystep","curMatrixScale","combinedScaleX","combinedScaleY","canvasWidth","canvasHeight","redrawHorizontally","redrawVertically","xScaledStep","yScaledStep","xScaledWidth","yScaledHeight","dimx","dimy","graphics","dimx2","dimy2","xSize","ySize","tmpCanvas2","tmpCtx2","jj","realOutputSize","bboxWidth","bboxHeight","cssColor","matrix","TilingPattern","convertBlackAndWhiteToRGBA","srcPos","dest","nonBlackColor","inverseDecode","black","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","destPos","MIN_FONT_SIZE","MAX_FONT_SIZE","EXECUTION_TIME","EXECUTION_STEPS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","mirrorContextOperations","destCtx","cp1x","cp1y","cp2x","cp2y","CachedCanvases","canvasFactory","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","compileType3Glyph","imgData","POINT_TO_PROCESS_LIMIT","POINT_TYPES","width1","points","j0","lineSize","mask","sum","steps","p0","pp","CanvasExtraState","xStrokePad","yStrokePad","intersect","putBinaryImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","dest32","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","properties","property","resetCtxToDefault","getImageSmoothingEnabled","interpolate","actualScale","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","_CanvasGraphics","canvasCtx","commonObjs","filterFactory","optionalContentConfig","markedContentStack","annotationCanvasMap","_restoreInitialState","_drawFilter","fallback","transparency","savedFillStyle","transparentCanvas","executionStartIdx","continueCallback","stepper","argsArray","fnArray","argsArrayLen","chunkOperations","endTime","fnId","depObjId","objsPool","restoreInitialState_fn","cache","drawFilter_fn","img","inverseTransform","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","fillColor","isPatternFill","currentTransform","cacheKey","scaled","maskCanvas","mainKey","cachedImage","maskToCanvas","minX","maxX","drawnWidth","drawnHeight","fillCanvas","fillCtx","limit","dashArray","dashPhase","intent","flatness","states","inSMaskMode","cacheId","scratchCanvas","dirtyBox","smask","suspendedCtx","layerCtx","layerBox","layerOffsetX","layerOffsetY","layerWidth","layerHeight","maskCtx","subtype","backdrop","transferMap","maskOffsetX","maskOffsetY","maskX","maskY","backdropRGB","clip","old","startX","startY","isScalingMatrix","minMaxForBezier","xw","yh","consumePath","strokeColor","needRestore","paths","spacing","leading","fontRefName","fontObj","typeface","bold","italic","browserFontSize","rise","patternTransform","textRenderingMode","fontSize","fillStrokeMode","isAddToPathSet","patternFill","addToPath","glyphs","fontSizeScale","charSpacing","wordSpacing","fontDirection","textHScale","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","lineWidth","chars","glyph","restoreNeeded","accent","scaledX","scaledY","vmetric","vx","vy","measuredWidth","characterScaleX","scaledAccentX","scaledAccentY","charWidth","fontMatrix","isTextInvisible","spacingLength","xWidth","yWidth","llx","lly","urx","ury","objId","inv","group","currentCtx","bounds","canvasBounds","groupCtx","currentMtx","hasOwnCanvas","viewportScale","skewX","skewY","positions","trans","images","imgToPaint","tag","clipBox","isEmpty","absDet","normX","normY","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","hcmFilterId","savedFilter","CanvasGraphics","op","_port","_src","CallbackKind","StreamKind","wrapReason","MessageHandler","sourceName","targetName","comObj","_onMessage","_createStreamSink","_processStreamMessage","_deleteStreamController","_messageAC","onMessage_fn","actionName","ah","transfers","callbackId","capability","queueingStrategy","streamId","startCapability","pullCapability","cancelCapability","processStreamMessage_fn","createStreamSink_fn","streamSink","lastDesiredSize","streamController","deleteStreamController_fn","Metadata","parsedData","_metadataMap","_data","INTERNAL","OptionalContentGroup","renderingIntent","rbGroups","_isDisplay","_isPrint","_userSet","_visible","print","view","internal","userSet","OptionalContentConfig","_evaluateVisibilityExpression","_cachedGetHash","_groups","_initialHash","_order","on","off","evaluateVisibilityExpression_fn","preserveRB","rbGroup","otherId","state","operator","PDFDataTransportStream","pdfDataRangeTransport","disableRange","disableStream","initialData","progressiveDone","contentDispositionFilename","begin","total","found","rangeReader","queuedChunks","PDFDataTransportStreamReader","PDFDataTransportStreamRangeReader","stream","requestCapability","getFilenameFromContentDispositionHeader","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","rfc5987decode","rfc2047decode","fixupEncoding","rfc2231getparam","attributePattern","flags","textdecode","encoding","decoder","contentDispositionStr","match","iter","quot","parts","quotindex","extvalue","encodingend","charset","hex","createHeaders","isHttp","httpHeaders","validateRangeRequestCapabilities","responseHeaders","rangeChunkSize","returnValues","extractFilenameFromHeader","createResponseStatusError","validateResponseStatus","createFetchOptions","withCredentials","abortController","getArrayBuffer","PDFFetchStream","PDFFetchStreamReader","PDFFetchStreamRangeReader","allowRangeRequests","suggestedLength","done","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","network_getArrayBuffer","xhr","NetworkManager","listeners","xhrId","pendingRequest","xhrStatus","rangeHeader","PDFNetworkStream","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","manager","fullRequestXhrId","fullRequestXhr","urlRegex","parseUrlOrPath","sourceUrl","createRequest","PDFNodeStream","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","BaseFullReader","readableStream","BaseRangeReader","handleResponse","stat","MAX_TEXT_DIVS_TO_RENDER","DEFAULT_FONT_SIZE","DEFAULT_FONT_ASCENT","TextLayer$1","textContentSource","_processItems","_appendText","_layout","_capability","_disableProcessItems","_fontInspectorEnabled","_lang","_layoutTextParams","_pageHeight","_pageWidth","_reader","_rootContainer","_rotation","_scale","_styleCache","_textContentItemsStr","_textContentSource","_textDivs","_textDivProperties","_transform","_ensureMinFontSizeComputed","ensureMinFontSizeComputed_fn","_pendingTextLayers","isWindows","isFirefox","pump","processItems_fn","onBefore","_getCtx","getCtx_fn","layout_fn","abortEx","_ascentCache","_canvasContexts","_canvasCtxFonts","_minFontSize","items","textDivs","textContentItemsStr","appendText_fn","geom","textDiv","textDivProperties","fontHeight","fontAscent","_getAscent","getAscent_fn","top","scaleFactorStr","divStyle","shouldScaleText","absScaleX","absScaleY","br","_ensureCtxFont","ensureCtxFont_fn","lang","family","cached","cachedAscent","metrics","ascent","descent","ratio","pixels","XfaText","xfa","walk","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","DELAYED_CLEANUP_TIMEOUT","DefaultCanvasFactory","DefaultCMapReaderFactory","DefaultFilterFactory","DefaultStandardFontDataFactory","task","PDFDocumentLoadingTask","getUrlProp","getDataProp","password","rangeTransport","worker","docBaseUrl","cMapUrl","cMapPacked","CMapReaderFactory","standardFontDataUrl","StandardFontDataFactory","ignoreErrors","maxImageSize","isOffscreenCanvasSupported","isChrome","canvasMaxAreaInBytes","fontExtraProperties","enableXfa","disableAutoFetch","pdfBug","CanvasFactory","FilterFactory","useSystemFonts","useWorkerFetch","transportFactory","workerParams","docParams","transportParams","workerIdPromise","networkStream","NetworkStream","workerId","messageHandler","transport","WorkerTransport","isRefProxy","_PDFDocumentLoadingTask","PDFDataRangeTransport$1","listener","PDFDocumentProxy","pdfInfo","keepLoadedFonts","PDFPageProxy","pageInfo","_tryCleanup","_abortDelayedCleanup","_delayedCleanupTimeout","_pendingCleanup","PDFObjects","canvasContext","annotationMode","optionalContentConfigPromise","printAnnotationStorage","intentArgs","abortDelayedCleanup_fn","intentState","intentPrint","complete","internalRenderTask","tryCleanup_fn","InternalRenderTask","renderTask","operatorListChanged","opListTask","includeMarkedContent","disableNormalization","textContent","waitOn","resetStats","success","operatorListChunk","annotationStorageSerializable","modifiedIds","force","delay","curCacheKey","curIntentState","delayed","renderTasks","LoopbackPort","_listeners","_deferred","rmAbort","onAbort","_PDFWorker","port","_resolve","_workerPorts","resolve_fn","_isWorkerDisabled","_mainThreadWorkerMessageHandler","mainThreadWorkerMessageHandler_get","workerSrc","terminateEarly","sendTest","testObj","WorkerMessageHandler","_fakeWorkerId","workerHandler","cachedPort","otherUrl","other","loadingTask","factory","_cacheSimpleMethod","_methodPromises","_pageCache","_pagePromises","_pageRefCache","_passwordCapability","isOpList","annotationStorage","modifiedIdsHash","cacheKeyBuf","terminated","sink","readyReason","isStreamingSupported","isRangeSupported","contentLength","exception","updatePassword","exportedData","exportedError","imageRef","pageProxy","imageData","cachedPromise","cacheSimpleMethod_fn","results","refStr","INITIAL_DATA","_ensureObj","_objs","ensureObj_fn","RenderTask","_internalRenderTask","separateAnnots","_InternalRenderTask","useRequestAnimationFrame","_rAF","_canvasInUse","makeColorComp","scaleAndClamp","ColorConverters","components","BaseSVGFactory","skipDimensions","html","storage","storedData","option","linkService","attributes","isHTMLAnchorElement","rootHtml","isNotForRichText","rootDiv","stack","childHtml","DEFAULT_TAB_INDEX","annotation_layer_DEFAULT_FONT_SIZE","GetElementsByNameSet","getRectDims","AnnotationElementFactory","LinkAnnotationElement","TextAnnotationElement","TextWidgetAnnotationElement","RadioButtonWidgetAnnotationElement","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","_AnnotationElement","isRenderable","ignoreBorder","createQuadrilaterals","_setRectEdited","_updates","_hasBorder","_popupElement","titleObj","contentsObj","richText","setRectEdited_fn","horizontalRadius","verticalRadius","radius","borderColor","elementWidth","elementHeight","setColor","jsName","colorType","colorArray","display","hidden","actions","jsEvent","commonActions","detail","eventProxy","quadPoints","rectBlX","rectBlY","rectTrX","rectTrY","trX","trY","blX","blY","svgBuffer","borderWidth","svgFactory","defs","clipPath","rectWidth","rectHeight","popup","skipId","fields","fieldObj","exportValues","exportValue","domElement","triggers","currentRect","_setInternalLink","_bindAttachment","_bindSetOCGState","link","isBound","bindAttachment_fn","bindSetOCGState_fn","destination","setInternalLink_fn","resetForm","otherClickAction","resetFormFields","resetFormRefs","include","allFields","fieldIds","fieldName","field","allIds","attachment","elementData","baseName","eventName","valueGetter","getter","TEXT_ALIGNMENT","fontColor","computedFontSize","BORDER_SIZE","roundToOneDecimal","numberOfLines","lineHeight","isRequired","keyInStorage","maxLen","fieldFormattedValues","blurListener","formattedValue","charLimit","commitKey","_blurListener","selectionStart","selectionEnd","selStart","selEnd","combWidth","checked","checkbox","curChecked","radio","pdfButtonValue","linkElement","selectElement","addAnEmptyEntry","optionElement","removeEmptyEntry","noneOptionElement","getValue","isExport","multiple","selectedValues","getItems","index","displayValue","selectChild","indices","change","PopupElement","elementIds","modificationDate","parentRect","open","_html","_fontSize","_fontColor","_makePopupContent","_keyDown","_setPosition","_toggle","_show","_hide","_boundKeyDown","keyDown_fn","_boundHide","hide_fn","_boundShow","show_fn","_boundToggle","toggle_fn","_color","_contentsObj","_dateObj","_elements","_parent","_parentRect","_pinned","_popup","_rect","_richText","_titleObj","_wasVisible","baseColor","header","title","html_get","contents","dir","lines","popupContent","makePopupContent_fn","fontSize_get","fontColor_get","popupLines","lineAttributes","setPosition_fn","useParentRect","normalizedRect","HORIZONTAL_SPACE_AFTER_ANNOTATION","popupLeft","popupTop","lineSpan","_line","_square","square","_circle","circle","_polyline","vertices","borderStyle","popupRef","polyline","_polylines","inkLists","inkList","_download","_trigger","trigger","download_fn","AnnotationLayer$1","accessibilityManager","annotationEditorUIManager","structTreeLayer","_appendElement","_setAnnotationCanvasMap","_accessibilityManager","_annotationCanvasMap","_editableAnnotations","_structTreeLayer","annotations","popupToElements","elementParams","isPopupAnnotation","rendered","appendElement_fn","setAnnotationCanvasMap_fn","annotationId","ariaAttributes","EOL_PATTERN","_FreeTextEditor","_updateFontSize","_updateColor","_extractText","_setEditorDimensions","_setContent","_serializeContent","_hasElementChanged","_content","_editorDivId","_editModeAC","updateFontSize_fn","updateColor_fn","savedText","newText","extractText_fn","setText","setContent_fn","setEditorDimensions_fn","baseX","baseY","paste","_deserializeContent","deserializeContent_fn","startContainer","startOffset","bufferBefore","bufferAfter","_getNodeContent","getNodeContent_fn","newRange","beforeLength","acc","textPosition","padding","serializeContent_fn","hasElementChanged_fn","setFontsize","savedFontsize","savedColor","prevChild","savedDisplay","savedVisibility","FreeTextEditor","Outline","_bbox","_FreeDrawOutliner","scaleFactor","thickness","innerMargin","_getLastCoords","_toSVGPathTwoPoints","_toSVGPathStart","_toSVGPathEnd","_getOutlineTwoPoints","_getOutlineStart","_getOutlineEnd","_box","_bottom","_innerMargin","_isLTR","_top","_last","_lastX","_lastY","_min","_min_dist","_scaleFactor","_thickness","_points","_MIN_DIST","_MIN","diffX","diffY","diffD","nX","nY","thX","thY","bottom","toSVGPathTwoPoints_fn","toSVGPathEnd_fn","toSVGPathStart_fn","outline","FreeDrawOutline","last","getOutlineTwoPoints_fn","getOutlineEnd_fn","getOutlineStart_fn","_MIN_DIFF","getLastCoords_fn","lastTop","lastBottom","lastTopX","lastTopY","lastBottomX","lastBottomY","FreeDrawOutliner","_rescale","_rescaleAndSwap","_computeMinMax","_outline","computeMinMax_fn","rescale_fn","rescaleAndSwap_fn","outliner","lastPointX","lastPointY","ltrCallback","HighlightOutliner","_getOutlines","_binarySearch","_insert","_remove","_breakEdge","_verticalEdges","_intervals","EPSILON","shiftedMinX","shiftedMinY","lastEdge","lastPoint","edge","outlineVerticalEdges","breakEdge_fn","insert_fn","remove_fn","getOutlines_fn","edges","allEdges","edge1","edge2","outlines","HighlightOutline","binarySearch_fn","middle","y4","_outlines","polygon","prevX","prevY","FreeHighlightOutliner","FreeHighlightOutline","_ColorPicker","_getDropdownRoot","_colorSelect","_openDropdown","_isDropdownVisible","_button","_buttonSwatch","_defaultColor","_dropdown","_dropdownWasFromKeyboard","_isMainColorPicker","_eventBus","_openDropdownAC","_l10nColor","openDropdown_fn","swatch","dropdown","getDropdownRoot_fn","colorSelect_fn","isDropdownVisible_get","_HighlightEditor","_createOutlines","_createFreeOutlines","_updateThickness","_changeThickness","_cleanDrawLayer","_addToDrawLayer","_keydown","_setCaret","_getRotation","_serializeBoxes","_serializeOutlines","_anchorNode","_anchorOffset","_boxes","_clipPathId","_focusOutlines","_focusNode","_focusOffset","_highlightDiv","_highlightOutlines","_isFreeHighlight","_lastPoint","_opacity","_outlineId","_text","_methodOfCreation","createFreeOutlines_fn","addToDrawLayer_fn","createOutlines_fn","updateThickness_fn","toolbar","getRotation_fn","cleanDrawLayer_fn","mustBeSelected","drawLayer","_rotateBbox","rotateBbox_fn","keydown_fn","highlightDiv","setCaret_fn","pointerDown","_endHighlight","endHighlight_fn","_highlightMove","highlightMove_fn","clipPathId","serializeBoxes_fn","serializeOutlines_fn","outlinerForOutline","highlightOutlines","highlightId","extraThickness","setColorAndOpacity","opa","savedOpacity","savedThickness","setThickness","th","changeThickness_fn","HighlightEditor","_InkEditor","_updateOpacity","_getInitialBBox","_setStroke","_startDrawing","_draw","_endPath","_stopDrawing","_drawPoints","_makeBezierCurve","_generateBezierPoints","_redraw","_addPointerdownListener","_removePointerdownListener","_endDrawing","_createCanvas","_createObserver","_setCanvasDims","_setScaleFactor","_updateTransform","_serializePaths","_getBbox","_getPadding","_fitToContent","_baseHeight","_baseWidth","_canvasContextMenuTimeoutId","_currentPath2D","_disableEditing","_drawingAC","_hasSomethingToDraw","_isCanvasInitialized","_observer","_pointerdownAC","_realWidth","_realHeight","_requestFrameCallback","updateOpacity_fn","createCanvas_fn","createObserver_fn","setCanvasDims_fn","fitToContent_fn","addPointerdownListener_fn","removePointerdownListener_fn","startDrawing_fn","draw_fn","endDrawing_fn","getInitialBBox_fn","redraw_fn","roundedWidth","roundedHeight","setScaleFactor_fn","bezier","_fromPDFCoordinates","fromPDFCoordinates_fn","p10","p11","p20","p21","p30","p31","path2D","_buildPath2D","buildPath2D_fn","getBbox_fn","serializePaths_fn","setOpacity","parentRotation","setStroke_fn","drawPoints_fn","currentPath","makeBezierCurve_fn","endPath_fn","stopDrawing_fn","generateBezierPoints_fn","xy","lastPoints","bezierPoints","control1","control2","updateTransform_fn","entries","getPadding_fn","scaleFactorW","scaleFactorH","_toPDFCoordinates","toPDFCoordinates_fn","p40","p41","xMin","xMax","yMin","yMax","prevTranslationX","prevTranslationY","unscaledPadding","InkEditor","_StampEditor","_getBitmapFetched","_getBitmapDone","_getBitmap","_setDimensions","_scaleBitmap","_drawBitmap","_serializeBitmap","_bitmap","_bitmapId","_bitmapPromise","_bitmapUrl","_bitmapFile","_bitmapFileName","_canvas","_resizeTimeoutId","_isSvg","_hasBeenAddedInUndoStack","hasAltTextStats","updateAltTextData","getBitmap_fn","maxDataDimension","maxPreviewDimension","createImageData","bitmapWidth","bitmapHeight","outputScale","scaledWidth","scaledHeight","scaleBitmap_fn","boxDim","boxDimWidth","boxDimHeight","patternCtx","dataWidth","dataHeight","offscreenCtx","structParent","bitmapUrl","bitmapId","isSvg","accessibilityData","serializeBitmap_fn","changes","area","prevData","getBitmapFetched_fn","fromId","getBitmapDone_fn","MAX_RATIO","factor","drawBitmap_fn","setDimensions_fn","prevWidth","prevHeight","toUrl","isSameRect","isSamePageIndex","isSameAltText","StampEditor","_AnnotationEditorLayer","annotationLayer","_textLayerPointerDown","_currentEditorType","_createNewEditor","_getCenterPoint","_cleanup","_allowClick","_annotationLayer","_clickAC","_editorFocusTimeoutId","_editors","_hadPointerDown","_isCleaningUp","_isDisabling","_textLayer","_textSelectionAC","editorTypes","cleanup_fn","classList","isCommitting","annotationElementIds","editables","editable","changedAnnotations","resetAnnotations","textLayerPointerDown_fn","currentEditorType_get","getCenterPoint_fn","createNewEditor_fn","isCentered","oldRotation","_DrawLayer","_createSVG","_createClipPath","_mapping","_toUpdate","isPathUpdatable","createSVG_fn","pathId","createClipPath_fn","use","maskId","use1","use2","_setBox","setBox_fn","clipPathUse","__webpack_exports__AbortException","__webpack_exports__AnnotationEditorLayer","__webpack_exports__AnnotationEditorParamsType","__webpack_exports__AnnotationEditorType","__webpack_exports__AnnotationEditorUIManager","__webpack_exports__AnnotationLayer","__webpack_exports__AnnotationMode","__webpack_exports__ColorPicker","__webpack_exports__DOMSVGFactory","__webpack_exports__DrawLayer","__webpack_exports__FeatureTest","__webpack_exports__GlobalWorkerOptions","__webpack_exports__ImageKind","__webpack_exports__InvalidPDFException","__webpack_exports__MissingPDFException","__webpack_exports__OPS","__webpack_exports__OutputScale","__webpack_exports__PDFDataRangeTransport","__webpack_exports__PDFDateString","__webpack_exports__PDFWorker","__webpack_exports__PasswordResponses","__webpack_exports__PermissionFlag","__webpack_exports__PixelsPerInch","__webpack_exports__RenderingCancelledException","__webpack_exports__TextLayer","__webpack_exports__UnexpectedResponseException","__webpack_exports__Util","__webpack_exports__VerbosityLevel","__webpack_exports__XfaLayer","__webpack_exports__build","__webpack_exports__createValidAbsoluteUrl","__webpack_exports__fetchData","__webpack_exports__getDocument","__webpack_exports__getFilenameFromUrl","__webpack_exports__getPdfFilenameFromUrl","__webpack_exports__getXfaPageViewport","__webpack_exports__isDataScheme","__webpack_exports__isPdfFile","__webpack_exports__noContextMenu","__webpack_exports__normalizeUnicode","__webpack_exports__setLayerDimensions","__webpack_exports__shadow","__webpack_exports__version","__spreadArray","to","from","pack","ar","clipboardEvents","compositionEvents","focusEvents","formEvents","imageEvents","keyboardEvents","mediaEvents","mouseEvents","dragEvents","selectionEvents","touchEvents","pointerEvents","uiEvents","wheelEvents","animationEvents","transitionEvents","otherEvents","changeEvents","allEvents","makeEventProps","getArgs","eventProps","eventHandler","makeCancellablePromise","isCancelled","wrappedPromise","isProduction","invariant","condition","provided","__DEV__","warning","printWarning","len","argIndex","warning_1","has","find","tar","dequal","foo","bar","ctor","documentContext","createContext","DocumentContext","Message","_jsx","DEFAULT_LINK_REL","LinkService","pdfViewer","externalLinkRel","externalLinkTarget","explicitDest","destRef","newWindow","PasswordResponses$1","isBrowser","isLocalFileSystem","isDefined","variable","isProvided","isArrayBuffer","isBlob","isDataURI","dataURItoByteString","dataURI","headersString","dataString","getDevicePixelRatio","allowFileAccessFromFilesTip","displayCORSWarning","displayWorkerWarning","cancelRunningTask","runningTask","makePageCallback","isCancelException","loadFromFile","reducer","useResolver","useReducer","__awaiter","thisArg","_arguments","generator","adopt","fulfilled","rejected","__rest","pdfjs","defaultOnPassword","isParameterObject","Document","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadErrorProps","onLoadProgress","onLoadSuccessProps","onPassword","onSourceErrorProps","onSourceSuccessProps","renderMode","otherProps","sourceState","sourceDispatch","sourceError","pdfState","pdfDispatch","pdf","pdfError","prevFile","prevOptions","useImperativeHandle","onSourceSuccess","onSourceError","resetSource","findDocumentSource","useCallback","otherParams","fileByteString","cancellable","makeCancellable","nextSource","onLoadSuccess","onLoadError","documentInitParams","destroyable","pdfjs.getDocument","loadingPromise","nextPdf","registerPage","unregisterPage","childContext","useMemo","renderChildren","renderContent","Document$1","useDocumentContext","useContext","mergeRefs","inputRefs","_i","filteredInputRefs","firstRef","pageContext","PageContext","PDF_ROLE_TO_HTML_ROLE","HEADING_PATTERN","isPdfRole","role","isStructTreeNode","isStructTreeNodeWithOnlyContentChild","getRoleAttributes","htmlRole","getBaseAttributes","childAttributes","getAttributes","StructTreeItem","usePageContext","StructTree","onGetStructTreeErrorProps","onGetStructTreeSuccessProps","structTreeState","structTreeDispatch","structTree","structTreeError","customTextRenderer","nextStructTree","ANNOTATION_MODE","pdfjs.AnnotationMode","Canvas","mergedProps","_className","canvasBackground","devicePixelRatio","onRenderErrorProps","onRenderSuccessProps","renderForms","renderTextLayer","canvasRef","canvasElement","onRenderSuccess","onRenderError","renderViewport","renderContext","cleanup","isTextItem","onGetTextError","onGetTextSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","textContentState","textContentDispatch","textContentError","layerElement","nextTextContent","onMouseDown","onMouseUp","useLayoutEffect","pdfjs.TextLayer","layerChildren","itemIndex","onGetAnnotationsErrorProps","onGetAnnotationsSuccessProps","onRenderAnnotationLayerErrorProps","onRenderAnnotationLayerSuccessProps","annotationsState","annotationsDispatch","annotationsError","nextAnnotations","clonedViewport","annotationLayerParameters","renderParameters","pdfjs.AnnotationLayer","defaultScale","Page","_enableRegisterUnregisterPage","CustomRenderer","onGetTextErrorProps","onGetTextSuccessProps","onRenderTextLayerErrorProps","onRenderTextLayerSuccessProps","pageIndexProps","pageNumberProps","renderAnnotationLayerProps","renderTextLayerProps","rotateProps","scaleProps","pageState","pageDispatch","pageError","pageScale","scaleWithDefault","nextPage","pageKey","renderMainLayer","renderAnnotationLayer","_jsxs","pdfjs.GlobalWorkerOptions","pdfjs.version","PDFViewer","numPages","setNumPages","VideoViewer","PuiVideoPlayer","IMAGE_ICON_FALLBACK","PDF_ICON_FALLBACK","GENERAL_FILE_ICON_FALLBACK","DOC_ICON_FALLBACK","VIDEO_ICON_FALLBACK","AttachmentIconWrapper","AttachmentIcon","thumbnail","fallbackThumbnail","backgroundImage","ErrorLoadFileWrapper","theme","ErrorLoadFile","attachmentType","PuiTypography","getPreviewComponent","FilePreview","activeFile","isError","isLoading","PreviewComponent","useMouseWheel","handleWeelEvent","ROTATION_STEP","useRotationState","setRotate","rotateRight","rotateReset","SCALE_STEP","MIN_VALUE","MAX_VALUE","useScaleState","setScale","scaleUp","nextValue","scaleDown","scaleReset","ViewerBodyWrapper","ViewerBody","FilePreviewWrapper","getGradient","PuiGradients","gradient","ViewerIconButton","PuiIconButton","Colors","Toolbar","ToolbarButtonGroup","ResizeButton","FileName","PopupMenu","PuiMenu","PopupMenuItem","PuiMenuItem","Divider","PuiDivider","FileOptionsMenu","anchorEl","handleClose","activeFileId","handleItemClick","PuiSvgIcon","FileViewerButton","SCALE_FACTOR","BottomToolbar","onScaleUp","onScaleDown","setAnchorEl","handleClick","handleScaleUp","handleScaleDown","currentOptions","scaleValue","hideScaleButtons","PuiIcon","SwitchFileArrows","onNext","onPrev","TopToolbar","onClose","onRotate","handleDownload","PuiFileViewer","isOpened","showArrows","currentAttachmentFileType","handleMoveNext","handlemovePrev","handleKeyDown","PuiModalBase"],"mappings":"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","x_google_ignoreList":[2,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]}