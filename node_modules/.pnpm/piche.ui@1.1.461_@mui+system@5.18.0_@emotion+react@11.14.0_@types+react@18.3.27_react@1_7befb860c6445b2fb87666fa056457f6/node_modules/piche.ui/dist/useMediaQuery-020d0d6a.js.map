{"version":3,"file":"useMediaQuery-020d0d6a.js","sources":["../node_modules/.pnpm/@mui+system@5.16.7_@emotion+react@11.11.3_@types+react@18.2.7_react@18.2.0__@emotion+styled@1_zfbdbe2iu4f3v4npj6hgpg2bl4/node_modules/@mui/system/esm/useMediaQuery/useMediaQuery.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport { getThemeProps } from '../useThemeProps';\nimport useTheme from '../useThemeWithoutDefault';\n\n/**\n * @deprecated Not used internally. Use `MediaQueryListEvent` from lib.dom.d.ts instead.\n */\n\n/**\n * @deprecated Not used internally. Use `MediaQueryList` from lib.dom.d.ts instead.\n */\n\n/**\n * @deprecated Not used internally. Use `(event: MediaQueryListEvent) => void` instead.\n */\n\nfunction useMediaQueryOld(query, defaultMatches, matchMedia, ssrMatchMedia, noSsr) {\n  const [match, setMatch] = React.useState(() => {\n    if (noSsr && matchMedia) {\n      return matchMedia(query).matches;\n    }\n    if (ssrMatchMedia) {\n      return ssrMatchMedia(query).matches;\n    }\n\n    // Once the component is mounted, we rely on the\n    // event listeners to return the correct matches value.\n    return defaultMatches;\n  });\n  useEnhancedEffect(() => {\n    let active = true;\n    if (!matchMedia) {\n      return undefined;\n    }\n    const queryList = matchMedia(query);\n    const updateMatch = () => {\n      // Workaround Safari wrong implementation of matchMedia\n      // TODO can we remove it?\n      // https://github.com/mui/material-ui/pull/17315#issuecomment-528286677\n      if (active) {\n        setMatch(queryList.matches);\n      }\n    };\n    updateMatch();\n    // TODO: Use `addEventListener` once support for Safari < 14 is dropped\n    queryList.addListener(updateMatch);\n    return () => {\n      active = false;\n      queryList.removeListener(updateMatch);\n    };\n  }, [query, matchMedia]);\n  return match;\n}\n\n// eslint-disable-next-line no-useless-concat -- Workaround for https://github.com/webpack/webpack/issues/14814\nconst maybeReactUseSyncExternalStore = React['useSyncExternalStore' + ''];\nfunction useMediaQueryNew(query, defaultMatches, matchMedia, ssrMatchMedia, noSsr) {\n  const getDefaultSnapshot = React.useCallback(() => defaultMatches, [defaultMatches]);\n  const getServerSnapshot = React.useMemo(() => {\n    if (noSsr && matchMedia) {\n      return () => matchMedia(query).matches;\n    }\n    if (ssrMatchMedia !== null) {\n      const {\n        matches\n      } = ssrMatchMedia(query);\n      return () => matches;\n    }\n    return getDefaultSnapshot;\n  }, [getDefaultSnapshot, query, ssrMatchMedia, noSsr, matchMedia]);\n  const [getSnapshot, subscribe] = React.useMemo(() => {\n    if (matchMedia === null) {\n      return [getDefaultSnapshot, () => () => {}];\n    }\n    const mediaQueryList = matchMedia(query);\n    return [() => mediaQueryList.matches, notify => {\n      // TODO: Use `addEventListener` once support for Safari < 14 is dropped\n      mediaQueryList.addListener(notify);\n      return () => {\n        mediaQueryList.removeListener(notify);\n      };\n    }];\n  }, [getDefaultSnapshot, matchMedia, query]);\n  const match = maybeReactUseSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n  return match;\n}\nexport default function useMediaQuery(queryInput, options = {}) {\n  const theme = useTheme();\n  // Wait for jsdom to support the match media feature.\n  // All the browsers MUI support have this built-in.\n  // This defensive check is here for simplicity.\n  // Most of the time, the match media logic isn't central to people tests.\n  const supportMatchMedia = typeof window !== 'undefined' && typeof window.matchMedia !== 'undefined';\n  const {\n    defaultMatches = false,\n    matchMedia = supportMatchMedia ? window.matchMedia : null,\n    ssrMatchMedia = null,\n    noSsr = false\n  } = getThemeProps({\n    name: 'MuiUseMediaQuery',\n    props: options,\n    theme\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof queryInput === 'function' && theme === null) {\n      console.error(['MUI: The `query` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n'));\n    }\n  }\n  let query = typeof queryInput === 'function' ? queryInput(theme) : queryInput;\n  query = query.replace(/^@media( ?)/m, '');\n\n  // TODO: Drop `useMediaQueryOld` and use  `use-sync-external-store` shim in `useMediaQueryNew` once the package is stable\n  const useMediaQueryImplementation = maybeReactUseSyncExternalStore !== undefined ? useMediaQueryNew : useMediaQueryOld;\n  const match = useMediaQueryImplementation(query, defaultMatches, matchMedia, ssrMatchMedia, noSsr);\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue({\n      query,\n      match\n    });\n  }\n  return match;\n}"],"names":["useMediaQueryOld","query","defaultMatches","matchMedia","ssrMatchMedia","noSsr","match","setMatch","React","useEnhancedEffect","active","queryList","updateMatch","maybeReactUseSyncExternalStore","useMediaQueryNew","getDefaultSnapshot","getServerSnapshot","matches","getSnapshot","subscribe","mediaQueryList","notify","useMediaQuery","queryInput","options","theme","useTheme","supportMatchMedia","getThemeProps"],"mappings":";;AAmBA,SAASA,EAAiBC,GAAOC,GAAgBC,GAAYC,GAAeC,GAAO;AACjF,QAAM,CAACC,GAAOC,CAAQ,IAAIC,EAAM,SAAS,MACnCH,KAASF,IACJA,EAAWF,CAAK,EAAE,UAEvBG,IACKA,EAAcH,CAAK,EAAE,UAKvBC,CACR;AACD,SAAAO,EAAkB,MAAM;AACtB,QAAIC,IAAS;AACb,QAAI,CAACP;AACH;AAEF,UAAMQ,IAAYR,EAAWF,CAAK,GAC5BW,IAAc,MAAM;AAIxB,MAAIF,KACFH,EAASI,EAAU,OAAO;AAAA,IAElC;AACI,WAAAC,KAEAD,EAAU,YAAYC,CAAW,GAC1B,MAAM;AACX,MAAAF,IAAS,IACTC,EAAU,eAAeC,CAAW;AAAA,IAC1C;AAAA,EACA,GAAK,CAACX,GAAOE,CAAU,CAAC,GACfG;AACT;AAGA,MAAMO,IAAiCL,EAAM,sBAA2B;AACxE,SAASM,EAAiBb,GAAOC,GAAgBC,GAAYC,GAAeC,GAAO;AACjF,QAAMU,IAAqBP,EAAM,YAAY,MAAMN,GAAgB,CAACA,CAAc,CAAC,GAC7Ec,IAAoBR,EAAM,QAAQ,MAAM;AAC5C,QAAIH,KAASF;AACX,aAAO,MAAMA,EAAWF,CAAK,EAAE;AAEjC,QAAIG,MAAkB,MAAM;AAC1B,YAAM;AAAA,QACJ,SAAAa;AAAA,MACR,IAAUb,EAAcH,CAAK;AACvB,aAAO,MAAMgB;AAAA,IACd;AACD,WAAOF;AAAA,EACX,GAAK,CAACA,GAAoBd,GAAOG,GAAeC,GAAOF,CAAU,CAAC,GAC1D,CAACe,GAAaC,CAAS,IAAIX,EAAM,QAAQ,MAAM;AACnD,QAAIL,MAAe;AACjB,aAAO,CAACY,GAAoB,MAAM,MAAM;AAAA,MAAA,CAAE;AAE5C,UAAMK,IAAiBjB,EAAWF,CAAK;AACvC,WAAO,CAAC,MAAMmB,EAAe,SAAS,CAAAC,OAEpCD,EAAe,YAAYC,CAAM,GAC1B,MAAM;AACX,MAAAD,EAAe,eAAeC,CAAM;AAAA,IAC5C,EACK;AAAA,EACF,GAAE,CAACN,GAAoBZ,GAAYF,CAAK,CAAC;AAE1C,SADcY,EAA+BM,GAAWD,GAAaF,CAAiB;AAExF;AACe,SAASM,EAAcC,GAAYC,IAAU,IAAI;AAC9D,QAAMC,IAAQC,KAKRC,IAAoB,OAAO,SAAW,OAAe,OAAO,OAAO,aAAe,KAClF;AAAA,IACJ,gBAAAzB,IAAiB;AAAA,IACjB,YAAAC,IAAawB,IAAoB,OAAO,aAAa;AAAA,IACrD,eAAAvB,IAAgB;AAAA,IAChB,OAAAC,IAAQ;AAAA,EACT,IAAGuB,EAAc;AAAA,IAChB,MAAM;AAAA,IACN,OAAOJ;AAAA,IACP,OAAAC;AAAA,EACJ,CAAG;AACD,EAAI,aAAY,aAAa,gBACvB,OAAOF,KAAe,cAAcE,MAAU,QAChD,QAAQ,MAAM,CAAC,kDAAkD,gEAAgE,0DAA0D,EAAE,KAAK;AAAA,CAAI,CAAC;AAG3M,MAAIxB,IAAQ,OAAOsB,KAAe,aAAaA,EAAWE,CAAK,IAAIF;AACnE,EAAAtB,IAAQA,EAAM,QAAQ,gBAAgB,EAAE;AAIxC,QAAMK,KAD8BO,MAAmC,SAAYC,IAAmBd,GAC5DC,GAAOC,GAAgBC,GAAYC,GAAeC,CAAK;AACjG,SAAI,aAAY,aAAa,gBAE3BG,EAAM,cAAc;AAAA,IAClB,OAAAP;AAAA,IACA,OAAAK;AAAA,EACN,CAAK,GAEIA;AACT;","x_google_ignoreList":[0]}